!function(n){var r={};function o(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=n,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="https://atomic-app.netlify.com/",o(o.s=510)}([function(t,e,n){var p=n(3),y=n(23),g=n(15),m=n(16),b=n(24),w="prototype",_=function(t,e,n){var r,o,i,a,u=t&_.F,s=t&_.G,c=t&_.S,f=t&_.P,l=t&_.B,d=s?p:c?p[e]||(p[e]={}):(p[e]||{})[w],h=s?y:y[e]||(y[e]={}),v=h[w]||(h[w]={});for(r in s&&(n=e),n)o=!u&&d&&void 0!==d[r],i=(o?d:n)[r],a=l&&o?b(i,p):f&&"function"==typeof i?b(Function.call,i):i,d&&m(d,r,i,t&_.U),h[r]!=i&&g(h,r,a),f&&v[r]!=i&&(v[r]=i)};p.core=y,_.F=1,_.G=2,_.S=4,_.P=8,_.B=16,_.W=32,_.U=64,_.R=128,t.exports=_},function(t,e,n){var b=n(403),w=n(112),_=36e5,k=6e4,x=/[T ]/,S=/:/,O=/^(\d{2})$/,E=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],j=/^(\d{4})/,M=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],A=/^-(\d{2})$/,P=/^-?(\d{3})$/,T=/^-?(\d{2})-?(\d{2})$/,D=/^-?W(\d{2})$/,I=/^-?W(\d{2})-?(\d{1})$/,L=/^(\d{2}([.,]\d*)?)$/,C=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,q=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,R=/([Z+-].*)$/,F=/^(Z)$/,$=/^([+-])(\d{2})$/,N=/^([+-])(\d{2}):?(\d{2})$/;function B(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var o=r.getUTCDay()||7,i=7*e+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}t.exports=function(t,e){if(w(t))return new Date(t.getTime());if("string"!=typeof t)return new Date(t);var n=e||{},r=n.additionalDigits;r=null==r?2:Number(r);var o=function(t){var e,n={},r=t.split(x);if(e=S.test(r[0])?(n.date=null,r[0]):(n.date=r[0],r[1]),e){var o=R.exec(e);o?(n.time=e.replace(o[1],""),n.timezone=o[1]):n.time=e}return n}(t),i=function(t,e){var n,r=E[e],o=M[e];if(n=j.exec(t)||o.exec(t),n){var i=n[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(n=O.exec(t)||r.exec(t),n){var a=n[1];return{year:100*parseInt(a,10),restDateString:t.slice(a.length)}}return{year:null}}(o.date,r),a=i.year,u=i.restDateString,s=function(t,e){if(null===e)return null;var n,r,o,i;if(0===t.length)return r=new Date(0),r.setUTCFullYear(e),r;if(n=A.exec(t),n)return r=new Date(0),o=parseInt(n[1],10)-1,r.setUTCFullYear(e,o),r;if(n=P.exec(t),n){r=new Date(0);var a=parseInt(n[1],10);return r.setUTCFullYear(e,0,a),r}if(n=T.exec(t),n){r=new Date(0),o=parseInt(n[1],10)-1;var u=parseInt(n[2],10);return r.setUTCFullYear(e,o,u),r}if(n=D.exec(t),n)return i=parseInt(n[1],10)-1,B(e,i);if(n=I.exec(t),n){i=parseInt(n[1],10)-1;var s=parseInt(n[2],10)-1;return B(e,i,s)}return null}(u,a);if(s){var c,f=s.getTime(),l=0;if(o.time&&(l=function(t){var e,n,r;if(e=L.exec(t),e)return n=parseFloat(e[1].replace(",",".")),n%24*_;if(e=C.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),n%24*_+r*k;if(e=q.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var o=parseFloat(e[3].replace(",","."));return n%24*_+r*k+1e3*o}return null}(o.time)),o.timezone)y=o.timezone,g=F.exec(y),c=(g?0:(g=$.exec(y),g?(m=60*parseInt(g[2],10),"+"===g[1]?-m:m):(g=N.exec(y),g?(m=60*parseInt(g[2],10)+parseInt(g[3],10),"+"===g[1]?-m:m):0)))*k;else{var d=f+l,h=new Date(d);c=b(h);var v=new Date(d);v.setDate(h.getDate()+1);var p=b(v)-b(h);0<p&&(c+=p)}return new Date(f+l+c)}var y,g,m;return new Date(t)}},function(t,e,n){var r=n(5);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(66)("wks"),o=n(39),i=n(3).Symbol,a="function"==typeof i,u=t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))};u.store=r},function(t,e,n){t.exports=!n(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(2),o=n(125),i=n(27),a=Object.defineProperty;e.f=n(7)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(29),o=Math.min;t.exports=function(t){return 0<t?o(r(t),9007199254740991):0}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function s(t){return"function"==typeof t}function c(t){return"object"==typeof t&&null!==t}function f(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(e=t,"number"!=typeof e||t<0||isNaN(t))throw TypeError("n must be a positive number");var e;return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,o,i,a;if(this._events||(this._events={}),"error"===t&&(!this._events.error||c(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(n=this._events[t],f(n))return!1;if(s(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(c(n))for(o=Array.prototype.slice.call(arguments,1),a=n.slice(),r=a.length,i=0;i<r;i++)a[i].apply(this,o);return!0},r.prototype.addListener=function(t,e){var n;if(!s(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,s(e.listener)?e.listener:e),this._events[t]?c(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,c(this._events[t])&&!this._events[t].warned&&(n=f(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&0<n&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){if(!s(e))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var n,r,o,i;if(!s(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,r=-1,n===e||s(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(c(n)){for(i=o;0<i--;)if(n[i]===e||n[i].listener&&n[i].listener===e){r=i;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],s(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?s(this._events[t])?[this._events[t]]:this._events[t].slice():[],e},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(s(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){var r=n(28);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(f,t,e){"use strict";(function(e){var n,r,t=e.MutationObserver||e.WebKitMutationObserver;if(t){var o=0,i=new t(c),a=e.document.createTextNode("");i.observe(a,{characterData:!0}),n=function(){a.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var u=new e.MessageChannel;u.port1.onmessage=c,n=function(){u.port2.postMessage(0)}}var s=[];function c(){var t,e;r=!0;for(var n=s.length;n;){for(e=s,s=[],t=-1;++t<n;)e[t]();n=s.length}r=!1}f.exports=function(t){1!==s.push(t)||r||n()}}).call(this,e(56))},function(t,e,n){var r=n(8),o=n(38);t.exports=n(7)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(3),a=n(15),u=n(19),s=n(39)("src"),r="toString",o=Function[r],c=(""+o).split(r);n(23).inspectSource=function(t){return o.call(t)},(t.exports=function(t,e,n,r){var o="function"==typeof n;o&&(u(n,"name")||a(n,"name",e)),t[e]!==n&&(o&&(u(n,s)||a(n,s,t[e]?""+t[e]:c.join(String(e)))),t===i?t[e]=n:r?t[e]?t[e]=n:a(t,e,n):(delete t[e],a(t,e,n)))})(Function.prototype,r,function(){return"function"==typeof this&&this[s]||o.call(this)})},function(t,e,n){var r=n(0),o=n(4),a=n(28),u=/"/g,i=function(t,e,n,r){var o=String(a(t)),i="<"+e;return""!==n&&(i+=" "+n+'="'+String(r).replace(u,"&quot;")+'"'),i+">"+o+"</"+e+">"};t.exports=function(e,t){var n={};n[e]=t(i),r(r.P+r.F*o(function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length}),"String",n)}},function(t,e,n){"use strict";t.exports=function(r){return function(){var t=arguments.length;if(t){for(var e=[],n=-1;++n<t;)e[n]=arguments[n];return r.call(this,e)}return r.call(this,[])}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(57),o=n(28);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(58),o=n(38),i=n(20),a=n(27),u=n(19),s=n(125),c=Object.getOwnPropertyDescriptor;e.f=n(7)?c:function(t,e){if(t=i(t),e=a(e,!0),s)try{return c(t,e)}catch(t){}if(u(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(19),o=n(12),i=n(88)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(13);t.exports=function(r,o,t){if(i(r),void 0===o)return r;switch(t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){"use strict";var r=n(4);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){var o=n(5);t.exports=function(t,e){if(!o(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!o(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:n)(t)}},function(t,e,n){var o=n(0),i=n(23),a=n(4);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],r={};r[t]=e(n),o(o.S+o.F*a(function(){n(1)}),"Object",r)}},function(t,e,n){var b=n(24),w=n(57),_=n(12),k=n(9),r=n(105);t.exports=function(l,t){var d=1==l,h=2==l,v=3==l,p=4==l,y=6==l,g=5==l||y,m=t||r;return function(t,e,n){for(var r,o,i=_(t),a=w(i),u=b(e,n,3),s=k(a.length),c=0,f=d?m(t,s):h?m(t,0):void 0;c<s;c++)if((g||c in a)&&(r=a[c],o=u(r,c,i),l))if(d)f[c]=o;else if(o)switch(l){case 3:return!0;case 5:return r;case 6:return c;case 2:f.push(r)}else if(p)return!1;return y?-1:v||p?p:f}}},function(t,e,n){"use strict";if(n(7)){var g=n(35),m=n(3),b=n(4),w=n(0),_=n(77),r=n(111),d=n(24),k=n(45),o=n(38),x=n(15),i=n(47),a=n(29),S=n(9),O=n(151),u=n(41),s=n(27),c=n(19),E=n(59),j=n(5),h=n(12),v=n(102),M=n(42),A=n(22),P=n(43).f,p=n(104),f=n(39),l=n(6),y=n(31),T=n(67),D=n(74),I=n(107),L=n(53),C=n(71),q=n(44),R=n(106),F=n(141),$=n(8),N=n(21),B=$.f,z=N.f,Y=m.RangeError,U=m.TypeError,W=m.Uint8Array,H="ArrayBuffer",G="Shared"+H,J="BYTES_PER_ELEMENT",V="prototype",K=Array[V],X=r.ArrayBuffer,Q=r.DataView,Z=y(0),tt=y(2),et=y(3),nt=y(4),rt=y(5),ot=y(6),it=T(!0),at=T(!1),ut=I.values,st=I.keys,ct=I.entries,ft=K.lastIndexOf,lt=K.reduce,dt=K.reduceRight,ht=K.join,vt=K.sort,pt=K.slice,yt=K.toString,gt=K.toLocaleString,mt=l("iterator"),bt=l("toStringTag"),wt=f("typed_constructor"),_t=f("def_constructor"),kt=_.CONSTR,xt=_.TYPED,St=_.VIEW,Ot="Wrong length!",Et=y(1,function(t,e){return Tt(D(t,t[_t]),e)}),jt=b(function(){return 1===new W(new Uint16Array([1]).buffer)[0]}),Mt=!!W&&!!W[V].set&&b(function(){new W(1).set({})}),At=function(t,e){var n=a(t);if(n<0||n%e)throw Y("Wrong offset!");return n},Pt=function(t){if(j(t)&&xt in t)return t;throw U(t+" is not a typed array!")},Tt=function(t,e){if(!(j(t)&&wt in t))throw U("It is not a typed array constructor!");return new t(e)},Dt=function(t,e){return It(D(t,t[_t]),e)},It=function(t,e){for(var n=0,r=e.length,o=Tt(t,r);n<r;)o[n]=e[n++];return o},Lt=function(t,e,n){B(t,e,{get:function(){return this._d[n]}})},Ct=function(t){var e,n,r,o,i,a,u=h(t),s=arguments.length,c=1<s?arguments[1]:void 0,f=void 0!==c,l=p(u);if(null!=l&&!v(l)){for(a=l.call(u),r=[],e=0;!(i=a.next()).done;e++)r.push(i.value);u=r}for(f&&2<s&&(c=d(c,arguments[2],2)),e=0,n=S(u.length),o=Tt(this,n);e<n;e++)o[e]=f?c(u[e],e):u[e];return o},qt=function(){for(var t=0,e=arguments.length,n=Tt(this,e);t<e;)n[t]=arguments[t++];return n},Rt=!!W&&b(function(){gt.call(new W(1))}),Ft=function(){return gt.apply(Rt?pt.call(Pt(this)):Pt(this),arguments)},$t={copyWithin:function(t,e){return F.call(Pt(this),t,e,2<arguments.length?arguments[2]:void 0)},every:function(t){return nt(Pt(this),t,1<arguments.length?arguments[1]:void 0)},fill:function(t){return R.apply(Pt(this),arguments)},filter:function(t){return Dt(this,tt(Pt(this),t,1<arguments.length?arguments[1]:void 0))},find:function(t){return rt(Pt(this),t,1<arguments.length?arguments[1]:void 0)},findIndex:function(t){return ot(Pt(this),t,1<arguments.length?arguments[1]:void 0)},forEach:function(t){Z(Pt(this),t,1<arguments.length?arguments[1]:void 0)},indexOf:function(t){return at(Pt(this),t,1<arguments.length?arguments[1]:void 0)},includes:function(t){return it(Pt(this),t,1<arguments.length?arguments[1]:void 0)},join:function(t){return ht.apply(Pt(this),arguments)},lastIndexOf:function(t){return ft.apply(Pt(this),arguments)},map:function(t){return Et(Pt(this),t,1<arguments.length?arguments[1]:void 0)},reduce:function(t){return lt.apply(Pt(this),arguments)},reduceRight:function(t){return dt.apply(Pt(this),arguments)},reverse:function(){for(var t,e=this,n=Pt(e).length,r=Math.floor(n/2),o=0;o<r;)t=e[o],e[o++]=e[--n],e[n]=t;return e},some:function(t){return et(Pt(this),t,1<arguments.length?arguments[1]:void 0)},sort:function(t){return vt.call(Pt(this),t)},subarray:function(t,e){var n=Pt(this),r=n.length,o=u(t,r);return new(D(n,n[_t]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,S((void 0===e?r:u(e,r))-o))}},Nt=function(t,e){return Dt(this,pt.call(Pt(this),t,e))},Bt=function(t){Pt(this);var e=At(arguments[1],1),n=this.length,r=h(t),o=S(r.length),i=0;if(n<o+e)throw Y(Ot);for(;i<o;)this[e+i]=r[i++]},zt={entries:function(){return ct.call(Pt(this))},keys:function(){return st.call(Pt(this))},values:function(){return ut.call(Pt(this))}},Yt=function(t,e){return j(t)&&t[xt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ut=function(t,e){return Yt(t,e=s(e,!0))?o(2,t[e]):z(t,e)},Wt=function(t,e,n){return!(Yt(t,e=s(e,!0))&&j(n)&&c(n,"value"))||c(n,"get")||c(n,"set")||n.configurable||c(n,"writable")&&!n.writable||c(n,"enumerable")&&!n.enumerable?B(t,e,n):(t[e]=n.value,t)};kt||(N.f=Ut,$.f=Wt),w(w.S+w.F*!kt,"Object",{getOwnPropertyDescriptor:Ut,defineProperty:Wt}),b(function(){yt.call({})})&&(yt=gt=function(){return ht.call(this)});var Ht=i({},$t);i(Ht,zt),x(Ht,mt,zt.values),i(Ht,{slice:Nt,set:Bt,constructor:function(){},toString:yt,toLocaleString:Ft}),Lt(Ht,"buffer","b"),Lt(Ht,"byteOffset","o"),Lt(Ht,"byteLength","l"),Lt(Ht,"length","e"),B(Ht,bt,{get:function(){return this[xt]}}),t.exports=function(t,l,e,a){a=!!a;var d=t+(a?"Clamped":"")+"Array",r="get"+t,u="set"+t,h=m[d],i=h||{},n=h&&A(h),o=!h||!_.ABV,s={},c=h&&h[V],v=function(t,i){B(t,i,{get:function(){return t=this,e=i,n=t._d,n.v[r](e*l+n.o,jt);var t,e,n},set:function(t){return e=this,n=i,r=t,o=e._d,a&&(r=(r=Math.round(r))<0?0:255<r?255:255&r),void o.v[u](n*l+o.o,r,jt);var e,n,r,o},enumerable:!0})};o?(h=e(function(t,e,n,r){k(t,h,d,"_d");var o,i,a,u,s=0,c=0;if(j(e)){if(!(e instanceof X||(u=E(e))==H||u==G))return xt in e?It(h,e):Ct.call(h,e);o=e,c=At(n,l);var f=e.byteLength;if(void 0===r){if(f%l)throw Y(Ot);if(i=f-c,i<0)throw Y(Ot)}else if(i=S(r)*l,f<i+c)throw Y(Ot);a=i/l}else a=O(e),i=a*l,o=new X(i);for(x(t,"_d",{b:o,o:c,l:i,e:a,v:new Q(o)});s<a;)v(t,s++)}),c=h[V]=M(Ht),x(c,"constructor",h)):b(function(){h(1)})&&b(function(){new h(-1)})&&C(function(t){new h,new h(null),new h(1.5),new h(t)},!0)||(h=e(function(t,e,n,r){var o;return k(t,h,d),j(e)?e instanceof X||(o=E(e))==H||o==G?void 0!==r?new i(e,At(n,l),r):void 0!==n?new i(e,At(n,l)):new i(e):xt in e?It(h,e):Ct.call(h,e):new i(O(e))}),Z(n!==Function.prototype?P(i).concat(P(n)):P(i),function(t){t in h||x(h,t,i[t])}),h[V]=c,g||(c.constructor=h));var f=c[mt],p=!!f&&("values"==f.name||null==f.name),y=zt.values;x(h,wt,!0),x(c,xt,d),x(c,St,!0),x(c,_t,h),(a?new h(1)[bt]==d:bt in c)||B(c,bt,{get:function(){return d}}),s[d]=h,w(w.G+w.W+w.F*(h!=i),s),w(w.S,d,{BYTES_PER_ELEMENT:l}),w(w.S+w.F*b(function(){i.of.call(h,1)}),d,{from:Ct,of:qt}),J in c||x(c,J,l),w(w.P,d,$t),q(d),w(w.P+w.F*Mt,d,{set:Bt}),w(w.P+w.F*!p,d,zt),g||c.toString==yt||(c.toString=yt),w(w.P+w.F*b(function(){new h(1).slice()}),d,{slice:Nt}),w(w.P+w.F*(b(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!b(function(){c.toLocaleString.call([1,2])})),d,{toLocaleString:Ft}),L[d]=p?f:y,g||p||x(c,mt,y)}}else t.exports=function(){}},function(t,e,n){var i=n(146),r=n(0),o=n(66)("metadata"),a=o.store||(o.store=new(n(149))),u=function(t,e,n){var r=a.get(t);if(!r){if(!n)return;a.set(t,r=new i)}var o=r.get(e);if(!o){if(!n)return;r.set(e,o=new i)}return o};t.exports={store:a,map:u,has:function(t,e,n){var r=u(e,n,!1);return void 0!==r&&r.has(t)},get:function(t,e,n){var r=u(e,n,!1);return void 0===r?void 0:r.get(t)},set:function(t,e,n,r){u(n,r,!0).set(t,e)},keys:function(t,e){var n=u(t,e,!1),r=[];return n&&n.forEach(function(t,e){r.push(e)}),r},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){r(r.S,"Reflect",t)}}},function(t,e,n){var r=n(39)("meta"),o=n(5),i=n(19),a=n(8).f,u=0,s=Object.isExtensible||function(){return!0},c=!n(4)(function(){return s(Object.preventExtensions({}))}),f=function(t){a(t,r,{value:{i:"O"+ ++u,w:{}}})},l=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!s(t))return"F";if(!e)return"E";f(t)}return t[r].i},getWeak:function(t,e){if(!i(t,r)){if(!s(t))return!0;if(!e)return!1;f(t)}return t[r].w},onFreeze:function(t){return c&&l.NEED&&s(t)&&!i(t,r)&&f(t),t}}},function(t,e){t.exports=!1},function(t,e,n){var r=n(6)("unscopables"),o=Array.prototype;null==o[r]&&n(15)(o,r,{}),t.exports=function(t){o[r][t]=!0}},function(t,e,n){t.exports=function(f){"use strict";var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function c(t,e){var n=t[0],r=t[1],o=t[2],i=t[3];n+=(r&o|~r&i)+e[0]-680876936|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+e[1]-389564586|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+e[2]+606105819|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+e[3]-1044525330|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+e[4]-176418897|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+e[5]+1200080426|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+e[6]-1473231341|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+e[7]-45705983|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+e[8]+1770035416|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+e[9]-1958414417|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+e[10]-42063|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+e[11]-1990404162|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+e[12]+1804603682|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+e[13]-40341101|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+e[14]-1502002290|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+e[15]+1236535329|0,r=(r<<22|r>>>10)+o|0,n+=(r&i|o&~i)+e[1]-165796510|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+e[6]-1069501632|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+e[11]+643717713|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+e[0]-373897302|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+e[5]-701558691|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+e[10]+38016083|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+e[15]-660478335|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+e[4]-405537848|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+e[9]+568446438|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+e[14]-1019803690|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+e[3]-187363961|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+e[8]+1163531501|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+e[13]-1444681467|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+e[2]-51403784|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+e[7]+1735328473|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+e[12]-1926607734|0,r=(r<<20|r>>>12)+o|0,n+=(r^o^i)+e[5]-378558|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+e[8]-2022574463|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+e[11]+1839030562|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+e[14]-35309556|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+e[1]-1530992060|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+e[4]+1272893353|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+e[7]-155497632|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+e[10]-1094730640|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+e[13]+681279174|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+e[0]-358537222|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+e[3]-722521979|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+e[6]+76029189|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+e[9]-640364487|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+e[12]-421815835|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+e[15]+530742520|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+e[2]-995338651|0,r=(r<<23|r>>>9)+o|0,n+=(o^(r|~i))+e[0]-198630844|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+e[7]+1126891415|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+e[14]-1416354905|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+e[5]-57434055|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+e[12]+1700485571|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+e[3]-1894986606|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+e[10]-1051523|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+e[1]-2054922799|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+e[8]+1873313359|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+e[15]-30611744|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+e[6]-1560198380|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+e[13]+1309151649|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+e[4]-145523070|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+e[11]-1120210379|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+e[2]+718787259|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+e[9]-343485551|0,r=(r<<21|r>>>11)+o|0,t[0]=n+t[0]|0,t[1]=r+t[1]|0,t[2]=o+t[2]|0,t[3]=i+t[3]|0}function l(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function d(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function o(t){var e,n,r,o,i,a,u=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=u;e+=64)c(s,l(t.substring(e-64,e)));for(t=t.substring(e-64),n=t.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),55<e)for(c(s,r),e=0;e<16;e+=1)r[e]=0;return o=8*u,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),a=parseInt(o[1],16)||0,r[14]=i,r[15]=a,c(s,r),s}function n(t){var e,n="";for(e=0;e<4;e+=1)n+=r[t>>8*e+4&15]+r[t>>8*e&15];return n}function a(t){var e;for(e=0;e<t.length;e+=1)t[e]=n(t[e]);return t.join("")}function i(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function u(t){var e,n=[],r=t.length;for(e=0;e<r-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function s(){this.reset()}return a(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function c(t,e){return t=0|t||0,t<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(t,e){var n,r,o,i,a=this.byteLength,u=c(t,a),s=a;return e!==f&&(s=c(e,a)),s<u?new ArrayBuffer(0):(n=s-u,r=new ArrayBuffer(n),o=new Uint8Array(r),i=new Uint8Array(this,u,n),o.set(i),r)}}(),s.prototype.append=function(t){return this.appendBinary(i(t)),this},s.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,n=this._buff.length;for(e=64;e<=n;e+=64)c(this._hash,l(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},s.prototype.end=function(t){var e,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);return this._finish(i,o),n=a(this._hash),t&&(n=u(n)),this.reset(),n},s.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},s.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},s.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},s.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},s.prototype._finish=function(t,e){var n,r,o,i=e;if(t[i>>2]|=128<<(i%4<<3),55<i)for(c(this._hash,t),i=0;i<16;i+=1)t[i]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),o=parseInt(n[1],16)||0,t[14]=r,t[15]=o,c(this._hash,t)},s.hash=function(t,e){return s.hashBinary(i(t),e)},s.hashBinary=function(t,e){var n=o(t),r=a(n);return e?u(r):r},s.ArrayBuffer=function(){this.reset()},s.ArrayBuffer.prototype.append=function(t){var e,n,r,o,i,a=(n=this._buff.buffer,r=t,o=!0,i=new Uint8Array(n.byteLength+r.byteLength),i.set(new Uint8Array(n)),i.set(new Uint8Array(r),n.byteLength),o?i:i.buffer),u=a.length;for(this._length+=t.byteLength,e=64;e<=u;e+=64)c(this._hash,d(a.subarray(e-64,e)));return this._buff=e-64<u?new Uint8Array(a.buffer.slice(e-64)):new Uint8Array(0),this},s.ArrayBuffer.prototype.end=function(t){var e,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=r[e]<<(e%4<<3);return this._finish(i,o),n=a(this._hash),t&&(n=u(n)),this.reset(),n},s.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},s.ArrayBuffer.prototype.getState=function(){var t,e=s.prototype.getState.call(this);return e.buff=(t=e.buff,String.fromCharCode.apply(null,new Uint8Array(t))),e},s.ArrayBuffer.prototype.setState=function(t){return t.buff=function(t,e){var n,r=t.length,o=new ArrayBuffer(r),i=new Uint8Array(o);for(n=0;n<r;n+=1)i[n]=t.charCodeAt(n);return e?i:o}(t.buff,!0),s.prototype.setState.call(this,t)},s.ArrayBuffer.prototype.destroy=s.prototype.destroy,s.ArrayBuffer.prototype._finish=s.prototype._finish,s.ArrayBuffer.hash=function(t,e){var n=function(t){var e,n,r,o,i,a,u=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=u;e+=64)c(s,d(t.subarray(e-64,e)));for(t=e-64<u?t.subarray(e-64):new Uint8Array(0),n=t.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)r[e>>2]|=t[e]<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),55<e)for(c(s,r),e=0;e<16;e+=1)r[e]=0;return o=8*u,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),a=parseInt(o[1],16)||0,r[14]=i,r[15]=a,c(s,r),s}(new Uint8Array(t)),r=a(n);return e?u(r):r},s}()},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(127),o=n(89);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(29),o=Math.max,i=Math.min;t.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},function(t,e,r){var o=r(2),i=r(128),a=r(89),u=r(88)("IE_PROTO"),s=function(){},c="prototype",f=function(){var t,e=r(86)("iframe"),n=a.length;for(e.style.display="none",r(90).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),f=t.F;n--;)delete f[c][a[n]];return f()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[c]=o(t),n=new s,s[c]=null,n[u]=t):n=f(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(127),o=n(89).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){"use strict";var r=n(3),o=n(8),i=n(7),a=n(6)("species");t.exports=function(t){var e=r[t];i&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var d=n(24),h=n(139),v=n(102),p=n(2),y=n(9),g=n(104),m={},b={};e=t.exports=function(t,e,n,r,o){var i,a,u,s,c=o?function(){return t}:g(t),f=d(n,r,e?2:1),l=0;if("function"!=typeof c)throw TypeError(t+" is not iterable!");if(v(c)){for(i=y(t.length);l<i;l++)if(s=e?f(p(a=t[l])[0],a[1]):f(t[l]),s===m||s===b)return s}else for(u=c.call(t);!(a=u.next()).done;)if(s=h(u,f,a.value,e),s===m||s===b)return s};e.BREAK=m,e.RETURN=b},function(t,e,n){var o=n(16);t.exports=function(t,e,n){for(var r in e)o(t,r,e[r],n);return t}},function(t,e,n){var u=n(1),s=n(49);t.exports=function(t){var e=u(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var o=s(r),i=new Date(0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);var a=s(i);return e.getTime()>=o.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}},function(t,e,n){var r=n(81);t.exports=function(t){return r(t,{weekStartsOn:1})}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t);return e.setHours(0,0,0,0),e}},function(t,e,n){var r=n(8).f,o=n(19),i=n(6)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var a=n(0),r=n(28),u=n(4),s=n(92),o="["+s+"]",i=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),f=function(t,e,n){var r={},o=u(function(){return!!s[t]()||"​"!="​"[t]()}),i=r[t]=o?e(l):s[t];n&&(r[n]=i),a(a.P+a.F*o,"String",r)},l=f.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(i,"")),2&e&&(t=t.replace(c,"")),t};t.exports=f},function(t,e){t.exports={}},function(t,e,n){var r=n(5);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,o,i){"use strict";(function(t){i.d(o,"a",function(){return r});i(64);var e=i(37),n=i.n(e);t.setImmediate||t.setTimeout;function r(t){return n.a.hash(t)}}).call(this,i(56))},function(ft,gt){var ht;ht=function(){return this}();try{ht=ht||Function("return this")()||eval("this")}catch(t){"object"==typeof window&&(ht=window)}ft.exports=ht},function(t,e,n){var r=n(25);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var o=n(25),i=n(6)("toStringTag"),a="Arguments"==o(function(){return arguments}());t.exports=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:a?o(e):"Object"==(r=o(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){var o=n(1);t.exports=function(t,e){var n=o(t),r=Number(e);return n.setDate(n.getDate()+r),n}},function(t,e,n){var o=n(1);t.exports=function(t,e){var n=o(t).getTime(),r=Number(e);return new Date(n+r)}},function(t,e,n){var o=n(48),i=n(49);t.exports=function(t){var e=o(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=i(n);return r}},function(t,e,n){var a=n(1);t.exports=function(t,e){var n=a(t),r=n.getTime(),o=a(e),i=o.getTime();return r<i?-1:i<r?1:0}},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"c",function(){return u});var r=function(t){return atob(t)},o=function(t){return btoa(t)};function i(t,e){return function(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(t){if("TypeError"!==t.name)throw t;for(var r="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,o=new r,i=0;i<e.length;i+=1)o.append(e[i]);return o.getBlob(n.type)}}([function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),o=0;o<e;o++)r[o]=t.charCodeAt(o);return n}(t)],{type:e})}function a(t,e){return i(r(t),e)}function u(t,n){var e=new FileReader;e.onloadend=function(t){var e=t.target.result||new ArrayBuffer(0);n(e)},e.readAsArrayBuffer(t)}},function(t,_r,kr){"use strict";(function(t,s){var e=kr(18),S=kr.n(e),n=kr(14),R=kr.n(n),u=kr(11),r=kr(10),o=kr.n(r),i=kr(37),d=kr.n(i),a=kr(122),c=kr.n(a),f=kr(123),l=kr.n(f);function h(t){if(t instanceof ArrayBuffer)return function(t){if("function"==typeof t.slice)return t.slice(0);var e=new ArrayBuffer(t.byteLength),n=new Uint8Array(e),r=new Uint8Array(t);return n.set(r),e}(t);var e=t.size,n=t.type;return"function"==typeof t.slice?t.slice(0,e,n):t.webkitSlice(0,e,n)}var O,A,v=Function.prototype.toString,p=v.call(Object);function F(t){var e,n,r,o;if(!t||"object"!=typeof t)return t;if(Array.isArray(t)){for(e=[],n=0,r=t.length;n<r;n++)e[n]=F(t[n]);return e}if(t instanceof Date)return t.toISOString();if(o=t,"undefined"!=typeof ArrayBuffer&&o instanceof ArrayBuffer||"undefined"!=typeof Blob&&o instanceof Blob)return h(t);if(!function(t){var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=e.constructor;return"function"==typeof n&&n instanceof n&&v.call(n)==p}(t))return t;for(n in e={},t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=F(t[n]);void 0!==i&&(e[n]=i)}return e}function y(e){var n=!1;return S()(function(t){if(n)throw new Error("once called more than once");n=!0,e.apply(this,t)})}function g(a){return S()(function(o){o=F(o);var i=this,e="function"==typeof o[o.length-1]&&o.pop(),t=new Promise(function(n,r){var t;try{var e=y(function(t,e){t?r(t):n(e)});o.push(e),t=a.apply(i,o),t&&"function"==typeof t.then&&n(t)}catch(t){r(t)}});return e&&t.then(function(t){e(null,t)},e),t})}function b(i,t){return g(S()(function(r){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var o=this;return function(r,o,t){if(r.constructor.listeners("debug").length){for(var e=["api",r.name,o],n=0;n<t.length-1;n++)e.push(t[n]);r.constructor.emit("debug",e);var i=t[t.length-1];t[t.length-1]=function(t,e){var n=["api",r.name,o];n=n.concat(t?["error",t]:["success",e]),r.constructor.emit("debug",n),i(t,e)}}}(o,i,r),this.taskqueue.isReady?t.apply(this,r):new Promise(function(e,n){o.taskqueue.addTask(function(t){t?n(t):e(o[i].apply(o,r))})})}))}function m(t){return"$"+t}function w(){this._store={}}function _(t){if(this._store=new w,t&&Array.isArray(t))for(var e=0,n=t.length;e<n;e++)this.add(t[e])}function k(t,e){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];i in t&&(n[i]=t[i])}return n}w.prototype.get=function(t){var e=m(t);return this._store[e]},w.prototype.set=function(t,e){var n=m(t);return this._store[n]=e,!0},w.prototype.has=function(t){var e=m(t);return e in this._store},w.prototype.delete=function(t){var e=m(t),n=e in this._store;return delete this._store[e],n},w.prototype.forEach=function(t){for(var e,n=Object.keys(this._store),r=0,o=n.length;r<o;r++){var i=n[r],a=this._store[i];e=i,i=e.substring(1),t(a,i)}},Object.defineProperty(w.prototype,"size",{get:function(){return Object.keys(this._store).length}}),_.prototype.add=function(t){return this._store.set(t,!0)},_.prototype.has=function(t){return this._store.has(t)},_.prototype.forEach=function(n){this._store.forEach(function(t,e){n(e)})},Object.defineProperty(_.prototype,"size",{get:function(){return this._store.size}}),A=function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var t=Object.getOwnPropertyDescriptor(Map,Symbol.species);return t&&"get"in t&&Map[Symbol.species]===Map}()?(O=Set,Map):(O=_,w);var x,E,j=6;function M(t){return t}function P(t){return[{ok:t}]}function T(o,i,t){var e=i.docs,c=new A;e.forEach(function(t){c.has(t.id)?c.get(t.id).push(t):c.set(t.id,[t])});var r=c.size,a=0,f=new Array(r);function l(){var n;++a===r&&(n=[],f.forEach(function(e){e.docs.forEach(function(t){n.push({id:e.id,docs:[t]})})}),t(null,{results:n}))}var u=[];c.forEach(function(t,e){u.push(e)});var s=0;function d(){if(!(s>=u.length)){var t,r,e=Math.min(s+j,u.length),n=u.slice(s,e);t=n,r=s,t.forEach(function(a,t){var u=r+t,e=c.get(a),n=k(e[0],["atts_since","attachments"]);n.open_revs=e.map(function(t){return t.rev}),n.open_revs=n.open_revs.filter(M);var s=M;0===n.open_revs.length&&(delete n.open_revs,s=P),["revs","attachments","binary","ajax","latest"].forEach(function(t){t in i&&(n[t]=i[t])}),o.get(a,n,function(t,e){var n,r,o,i;n=t?[{error:t}]:s(e),r=u,o=a,i=n,f[r]={id:o,docs:i},l(),d()})}),s+=n.length}}d()}try{localStorage.setItem("_pouch_check_localstorage",1),x=!!localStorage.getItem("_pouch_check_localstorage")}catch(t){x=!1}function D(){return x}function I(){var e;u.EventEmitter.call(this),this._listeners={},e=this,D()&&addEventListener("storage",function(t){e.emit(t.key)})}function L(t){if("undefined"!=typeof console&&"function"==typeof console[t]){var e=Array.prototype.slice.call(arguments,1);console[t].apply(console,e)}}function $(t){var e=0;return t||(e=2e3),function(t,e){t=parseInt(t,10)||0,e=parseInt(e,10),e!=e||e<=t?e=(t||1)<<1:e+=1,6e5<e&&(t=3e5,e=6e5);var n=Math.random(),r=e-t;return~~(r*n+t)}(t,e)}function C(t,e){L("info","The above "+t+" is totally normal. "+e)}o()(I,u.EventEmitter),I.prototype.addListener=function(t,e,n,r){if(!this._listeners[e]){var o=this,i=!1;this._listeners[e]=a,this.on(t,a)}function a(){if(o._listeners[e])if(i)i="waiting";else{i=!0;var t=k(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(t).on("change",function(t){t.seq>r.since&&!r.cancelled&&(r.since=t.seq,r.onChange(t))}).on("complete",function(){"waiting"===i&&R()(a),i=!1}).on("error",function(){i=!1})}}},I.prototype.removeListener=function(t,e){e in this._listeners&&(u.EventEmitter.prototype.removeListener.call(this,t,this._listeners[e]),delete this._listeners[e])},I.prototype.notifyLocalWindows=function(t){D()&&(localStorage[t]="a"===localStorage[t]?"b":"a")},I.prototype.notify=function(t){this.emit(t),this.notifyLocalWindows(t)},E="function"==typeof Object.assign?Object.assign:function(t){for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};var q=E;function N(t,e,n){Error.call(this,n),this.status=t,this.name=e,this.message=n,this.error=!0}o()(N,Error),N.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new N(401,"unauthorized","Name or password is incorrect.");var B=new N(400,"bad_request","Missing JSON list of 'docs'"),z=new N(404,"not_found","missing"),Y=new N(409,"conflict","Document update conflict"),U=new N(400,"bad_request","_id field must contain a string"),W=new N(412,"missing_id","_id is required for puts"),H=new N(400,"bad_request","Only reserved document ids may start with underscore."),G=(new N(412,"precondition_failed","Database not open"),new N(500,"unknown_error","Database encountered an unknown error")),J=new N(500,"badarg","Some query argument is invalid"),V=(new N(400,"invalid_request","Request was invalid"),new N(400,"query_parse_error","Some query parameter is invalid")),K=new N(500,"doc_validation","Bad special document member"),X=new N(400,"bad_request","Something wrong with the request"),Q=new N(400,"bad_request","Document must be a JSON object"),Z=(new N(404,"not_found","Database not found"),new N(500,"indexed_db_went_bad","unknown")),tt=(new N(500,"web_sql_went_bad","unknown"),new N(500,"levelDB_went_went_bad","unknown"),new N(403,"forbidden","Forbidden by design doc validate_doc_update function"),new N(400,"bad_request","Invalid rev format")),et=(new N(412,"file_exists","The database could not be created, the file already exists."),new N(412,"missing_stub","A pre-existing attachment stub wasn't found"));new N(413,"invalid_url","Provided URL is invalid");function nt(n,t){function e(t){for(var e in n)"function"!=typeof n[e]&&(this[e]=n[e]);void 0!==t&&(this.reason=t)}return e.prototype=N.prototype,new e(t)}function rt(t){if("object"!=typeof t){var e=t;t=G,t.data=e}return"error"in t&&"conflict"===t.error&&(t.name="conflict",t.status=409),"name"in t||(t.name=t.error||"unknown"),"status"in t||(t.status=500),"message"in t||(t.message=t.message||t.reason),t}function ot(r){var o={},i=r.filter&&"function"==typeof r.filter;return o.query=r.query_params,function(t){t.doc||(t.doc={});var e=i&&function(t,e,n){try{return!t(e,n)}catch(t){var r="Filter function threw: "+t.toString();return nt(X,r)}}(r.filter,t.doc,o);if("object"==typeof e)return e;if(e)return!1;if(r.include_docs){if(!r.attachments)for(var n in t.doc._attachments)t.doc._attachments.hasOwnProperty(n)&&(t.doc._attachments[n].stub=!0)}else delete t.doc;return!0}}function it(t){for(var e=[],n=0,r=t.length;n<r;n++)e=e.concat(t[n]);return e}function at(t){var e;if(t?"string"!=typeof t?e=nt(U):/^_/.test(t)&&!/^_(design|local)/.test(t)&&(e=nt(H)):e=nt(W),e)throw e}function ut(t){return"boolean"==typeof t._remote?t._remote:"function"==typeof t.type&&(L("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===t.type())}function st(t){if(!t)return null;var e=t.split("/");return 2===e.length?e:1===e.length?[t,t]:null}function ct(t){var e=st(t);return e?e.join("/"):null}var ft=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],lt="queryKey",dt=/(?:^|&)([^&=]*)=?([^&]*)/g,ht=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function vt(t){for(var e=ht.exec(t),r={},n=14;n--;){var o=ft[n],i=e[n]||"",a=-1!==["user","password"].indexOf(o);r[o]=a?decodeURIComponent(i):i}return r[lt]={},r[ft[12]].replace(dt,function(t,e,n){e&&(r[lt][e]=n)}),r}function pt(t,e){var n=[],r=[];for(var o in e)e.hasOwnProperty(o)&&(n.push(o),r.push(e[o]));return n.push(t),Function.apply(null,n).apply(null,r)}function yt(c,f,l){return new Promise(function(u,s){c.get(f,function(t,e){if(t){if(404!==t.status)return s(t);e={}}var n,r,o,i=e._rev,a=l(e);if(!a)return u({updated:!1,rev:i});a._id=f,a._rev=i,u((n=c,r=a,o=l,n.put(r).then(function(t){return{updated:!0,rev:t.rev}},function(t){if(409!==t.status)throw t;return yt(n,r._id,o)})))})})}var gt=function(t){return atob(t)},mt=function(t){return btoa(t)};function bt(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(t){if("TypeError"!==t.name)throw t;for(var r="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,o=new r,i=0;i<e.length;i+=1)o.append(e[i]);return o.getBlob(n.type)}}function wt(t,e){return bt([function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),o=0;o<e;o++)r[o]=t.charCodeAt(o);return n}(t)],{type:e})}function _t(t,e){return wt(gt(t),e)}function kt(t,n){var e=new FileReader,r="function"==typeof e.readAsBinaryString;e.onloadend=function(t){var e=t.target.result||"";if(r)return n(e);n(function(t){for(var e="",n=new Uint8Array(t),r=n.byteLength,o=0;o<r;o++)e+=String.fromCharCode(n[o]);return e}(e))},r?e.readAsBinaryString(t):e.readAsArrayBuffer(t)}function xt(t,e){kt(t,function(t){e(t)})}function St(t,e){xt(t,function(t){e(mt(t))})}var Ot=t.setImmediate||t.setTimeout,Et=32768;function jt(e,t,n,r,o){var i,a,u,s,c,f;(0<n||r<t.size)&&(i=t,a=n,u=r,t=i.webkitSlice?i.webkitSlice(a,u):i.slice(a,u)),s=t,c=function(t){e.append(t),o()},f=new FileReader,f.onloadend=function(t){var e=t.target.result||new ArrayBuffer(0);c(e)},f.readAsArrayBuffer(s)}function Mt(t,e,n,r,o){(0<n||r<e.length)&&(e=e.substring(n,r)),t.appendBinary(e),o()}function At(n,r){var t="string"==typeof n,e=t?n.length:n.size,o=Math.min(Et,e),i=Math.ceil(e/o),a=0,u=t?new d.a:new d.a.ArrayBuffer,s=t?Mt:jt;function c(){Ot(l)}function f(){var t,e=u.end(!0),n=(t=e,mt(t));r(n),u.destroy()}function l(){var t=a*o,e=t+o;a++,s(u,n,t,e,a<i?c:f)}l()}function Pt(t){return d.a.hash(t)}function Tt(t,e){var n=F(t);return e?(delete n._rev_tree,Pt(JSON.stringify(n))):c.a.v4().replace(/-/g,"").toLowerCase()}var Dt=c.a.v4;function It(t){for(var e,n,r,o,i=t.rev_tree.slice();o=i.pop();){var a=o.ids,u=a[2],s=o.pos;if(u.length)for(var c=0,f=u.length;c<f;c++)i.push({pos:s+1,ids:u[c]});else{var l=!!a[1].deleted,d=a[0];e&&!(r!==l?r:n!==s?n<s:e<d)||(e=d,n=s,r=l)}}return n+"-"+e}function Lt(t,e){for(var n,r=t.slice();n=r.pop();)for(var o=n.pos,i=n.ids,a=i[2],u=e(0===a.length,o,i[0],n.ctx,i[1]),s=0,c=a.length;s<c;s++)r.push({pos:o+1,ids:a[s],ctx:u})}function Ct(t,e){return t.pos-e.pos}function qt(t){var i=[];Lt(t,function(t,e,n,r,o){t&&i.push({rev:e+"-"+n,pos:e,opts:o})}),i.sort(Ct).reverse();for(var e=0,n=i.length;e<n;e++)delete i[e].pos;return i}function Rt(t){for(var e=It(t),n=qt(t.rev_tree),r=[],o=0,i=n.length;o<i;o++){var a=n[o];a.rev===e||a.opts.deleted||r.push(a.rev)}return r}function Ft(t){for(var e,n=[],r=t.slice();e=r.pop();){var o=e.pos,i=e.ids,a=i[0],u=i[1],s=i[2],c=0===s.length,f=e.history?e.history.slice():[];f.push({id:a,opts:u}),c&&n.push({pos:o+1-f.length,ids:f});for(var l=0,d=s.length;l<d;l++)r.push({pos:o+1,ids:s[l],history:f})}return n.reverse()}function $t(t,e){return t.pos-e.pos}function Nt(t,e){for(var n,r,o=e,i=t.length;o<i;o++){var a=t[o],u=[a.id,a.opts,[]];r?(r[2].push(u),r=u):n=r=u}return n}function Bt(t,e){return t[0]<e[0]?-1:1}function zt(t,e){for(var n,r,o,i,a=[{tree1:t,tree2:e}],u=!1;0<a.length;){var s=a.pop(),c=s.tree1,f=s.tree2;(c[1].status||f[1].status)&&(c[1].status="available"===c[1].status||"available"===f[1].status?"available":"missing");for(var l=0;l<f[2].length;l++)if(c[2][0]){for(var d=!1,h=0;h<c[2].length;h++)c[2][h][0]===f[2][l][0]&&(a.push({tree1:c[2][h],tree2:f[2][l]}),d=!0);d||(u="new_branch",n=c[2],r=f[2][l],o=Bt,void 0,i=function(t,e,n){for(var r,o=0,i=t.length;o<i;)r=o+i>>>1,n(t[r],e)<0?o=r+1:i=r;return o}(n,r,o),n.splice(i,0,r))}else u="new_leaf",c[2][0]=f[2][l]}return{conflicts:u,tree:t}}function Yt(t,e,n){var r,o=[],i=!1,a=!1;if(!t.length)return{tree:[e],conflicts:"new_leaf"};for(var u=0,s=t.length;u<s;u++){var c=t[u];if(c.pos===e.pos&&c.ids[0]===e.ids[0])r=zt(c.ids,e.ids),o.push({pos:c.pos,ids:r.tree}),i=i||r.conflicts,a=!0;else if(!0!==n){var f=c.pos<e.pos?c:e,l=c.pos<e.pos?e:c,d=l.pos-f.pos,h=[],v=[];for(v.push({ids:f.ids,diff:d,parent:null,parentIdx:null});0<v.length;){var p=v.pop();if(0!==p.diff)for(var y=p.ids[2],g=0,m=y.length;g<m;g++)v.push({ids:y[g],diff:p.diff-1,parent:p.ids,parentIdx:g});else p.ids[0]===l.ids[0]&&h.push(p)}var b=h[0];b?(r=zt(b.ids,l.ids),b.parent[2][b.parentIdx]=r.tree,o.push({pos:f.pos,ids:f.ids}),i=i||r.conflicts,a=!0):o.push(c)}else o.push(c)}return a||o.push(e),o.sort($t),{tree:o,conflicts:i||"internal_node"}}function Ut(t,e,n){var r=Yt(t,e),o=function(t,e){for(var r,n,o=Ft(t),i=0,a=o.length;i<a;i++){var u,s=o[i],c=s.ids;if(c.length>e){r||(r={});var f=c.length-e;u={pos:s.pos+f,ids:Nt(c,f)};for(var l=0;l<f;l++){var d=s.pos+l+"-"+c[l].id;r[d]=!0}}else u={pos:s.pos,ids:Nt(c,0)};n=n?Yt(n,u,!0).tree:[u]}return r&&Lt(n,function(t,e,n){delete r[e+"-"+n]}),{tree:n,revs:r?Object.keys(r):[]}}(r.tree,n);return{tree:o.tree,stemmedRevs:o.revs,conflicts:r.conflicts}}function Wt(t){return t.ids}function Ht(t,e){e||(e=It(t));for(var n,r=e.substring(e.indexOf("-")+1),o=t.rev_tree.map(Wt);n=o.pop();){if(n[0]===r)return!!n[1].deleted;o=o.concat(n[2])}}function Gt(t){return/^_local/.test(t)}function Jt(o,e,n){u.EventEmitter.call(this);var i=this;this.db=o,e=e?F(e):{};var r=e.complete=y(function(t,e){var n,r;t?(n=i,r="error",0<("listenerCount"in n?n.listenerCount(r):u.EventEmitter.listenerCount(n,r))&&i.emit("error",t)):i.emit("complete",e),i.removeAllListeners(),o.removeListener("destroyed",a)});function a(){i.cancel()}n&&(i.on("complete",function(t){n(null,t)}),i.on("error",n)),o.once("destroyed",a),e.onChange=function(t,e,n){i.isCancelled||function(t,e,n,r){try{t.emit("change",e,n,r)}catch(t){L("error",'Error in .on("change", function):',t)}}(i,t,e,n)};var t=new Promise(function(n,r){e.complete=function(t,e){t?r(t):n(e)}});i.once("cancel",function(){o.removeListener("destroyed",a),e.complete(null,{status:"cancelled"})}),this.then=t.then.bind(t),this.catch=t.catch.bind(t),this.then(function(t){r(null,t)},r),o.taskqueue.isReady?i.validateChanges(e):o.taskqueue.addTask(function(t){t?e.complete(t):i.isCancelled?i.emit("cancel"):i.validateChanges(e)})}function Vt(t,e,n){var r=[{rev:t._rev}];"all_docs"===n.style&&(r=qt(e.rev_tree).map(function(t){return{rev:t.rev}}));var o={id:e.id,changes:r,doc:t};return Ht(e,t._rev)&&(o.deleted=!0),n.conflicts&&(o.doc._conflicts=Rt(e),o.doc._conflicts.length||delete o.doc._conflicts),o}function Kt(t,e){return t<e?-1:e<t?1:0}function Xt(n,r){return function(t,e){t||e[0]&&e[0].error?(t=t||e[0],t.docId=r,n(t)):n(null,e.length?e[0]:e)}}function Qt(t,e){var n=Kt(t._id,e._id);if(0!==n)return n;var r=t._revisions?t._revisions.start:0,o=e._revisions?e._revisions.start:0;return Kt(r,o)}function Zt(){for(var t in u.EventEmitter.call(this),Zt.prototype)"function"==typeof this[t]&&(this[t]=this[t].bind(this))}function te(){this.isReady=!1,this.failed=!1,this.queue=[]}function ee(t,e){if(!(this instanceof ee))return new ee(t,e);var n=this;if(e=e||{},t&&"object"==typeof t&&(e=t,t=e.name,delete e.name),void 0===e.deterministic_revs&&(e.deterministic_revs=!0),this.__opts=e=F(e),n.auto_compaction=e.auto_compaction,n.prefix=ee.prefix,"string"!=typeof t)throw new Error("Missing/invalid DB name");var r=(e.prefix||"")+t,o=function(t,e){var n=t.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=ee.adapters,o=ee.preferredAdapters,i=ee.prefix,a=e.adapter;if(!a)for(var u=0;u<o.length&&(a=o[u],"idb"===a&&"websql"in r&&D()&&localStorage["_pouch__websqldb_"+i+t]);++u)L("log",'PouchDB is downgrading "'+t+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var s=r[a],c=!(s&&"use_prefix"in s)||s.use_prefix;return{name:c?i+t:t,adapter:a}}(r,e);if(e.name=o.name,e.adapter=e.adapter||o.adapter,n.name=t,n._adapter=e.adapter,ee.emit("debug",["adapter","Picked adapter: ",e.adapter]),!ee.adapters[e.adapter]||!ee.adapters[e.adapter].valid())throw new Error("Invalid Adapter: "+e.adapter);Zt.call(n),n.taskqueue=new te,n.adapter=e.adapter,ee.adapters[e.adapter].call(n,e,function(t){if(t)return n.taskqueue.fail(t);!function(e){function t(t){e.removeListener("closed",n),t||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}(n),n.emit("created",n),ee.emit("created",n.name),n.taskqueue.ready(n)})}o()(Jt,u.EventEmitter),Jt.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},Jt.prototype.validateChanges=function(e){var n=e.complete,r=this;ee._changesFilterPlugin?ee._changesFilterPlugin.validate(e,function(t){if(t)return n(t);r.doChanges(e)}):r.doChanges(e)},Jt.prototype.doChanges=function(e){var n=this,r=e.complete;if(e=F(e),"live"in e&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=Vt,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(ee._changesFilterPlugin){if(ee._changesFilterPlugin.normalize(e),ee._changesFilterPlugin.shouldFilter(this,e))return ee._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach(function(t){t in e&&L("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=r;var o=this.db._changes(e);if(o&&"function"==typeof o.cancel){var i=n.cancel;n.cancel=S()(function(t){o.cancel(),i.apply(this,t)})}}else this.db.info().then(function(t){n.isCancelled?r(null,{status:"cancelled"}):(e.since=t.update_seq,n.doChanges(e))},r)},o()(Zt,u.EventEmitter),Zt.prototype.post=b("post",function(t,e,n){if("function"==typeof e&&(n=e,e={}),"object"!=typeof t||Array.isArray(t))return n(nt(Q));this.bulkDocs({docs:[t]},e,Xt(n,t._id))}),Zt.prototype.put=b("put",function(n,e,r){if("function"==typeof e&&(r=e,e={}),"object"!=typeof n||Array.isArray(n))return r(nt(Q));if(at(n._id),Gt(n._id)&&"function"==typeof this._putLocal)return n._deleted?this._removeLocal(n,r):this._putLocal(n,r);var t,o,i,a,u,s=this;function c(t){"function"==typeof s._put&&!1!==e.new_edits?s._put(n,e,t):s.bulkDocs({docs:[n]},e,Xt(t,n._id))}e.force&&n._rev?(t=n._rev.split("-"),o=t[1],i=parseInt(t[0],10),a=i+1,u=Tt(),n._revisions={start:a,ids:[u,o]},n._rev=a+"-"+u,e.new_edits=!1,c(function(t){var e=t?null:{ok:!0,id:n._id,rev:n._rev};r(t,e)})):c(r)}),Zt.prototype.putAttachment=b("putAttachment",function(e,n,r,o,i){var a=this;function u(t){var e="_rev"in t?parseInt(t._rev,10):0;return t._attachments=t._attachments||{},t._attachments[n]={content_type:i,data:o,revpos:++e},a.put(t)}return"function"==typeof i&&(i=o,o=r,r=null),void 0===i&&(i=o,o=r,r=null),i||L("warn","Attachment",n,"on document",e,"is missing content_type"),a.get(e).then(function(t){if(t._rev!==r)throw nt(Y);return u(t)},function(t){if(t.reason===z.message)return u({_id:e});throw t})}),Zt.prototype.removeAttachment=b("removeAttachment",function(t,n,r,o){var i=this;i.get(t,function(t,e){if(t)o(t);else if(e._rev===r){if(!e._attachments)return o();delete e._attachments[n],0===Object.keys(e._attachments).length&&delete e._attachments,i.put(e,o)}else o(nt(Y))})}),Zt.prototype.remove=b("remove",function(t,e,n,r){var o;"string"==typeof e?(o={_id:t,_rev:e},"function"==typeof n&&(r=n,n={})):(o=t,n="function"==typeof e?(r=e,{}):(r=n,e)),n=n||{},n.was_delete=!0;var i={_id:o._id,_rev:o._rev||n.rev,_deleted:!0};if(Gt(i._id)&&"function"==typeof this._removeLocal)return this._removeLocal(o,r);this.bulkDocs({docs:[i]},n,Xt(r,i._id))}),Zt.prototype.revsDiff=b("revsDiff",function(i,t,a){"function"==typeof t&&(a=t,t={});var c=Object.keys(i);if(!c.length)return a(null,{});var f=0,l=new A;function d(t,e){l.has(t)||l.set(t,{missing:[]}),l.get(t).missing.push(e)}c.map(function(o){this._getRevisionTree(o,function(t,e){if(t&&404===t.status&&"missing"===t.message)l.set(o,{missing:i[o]});else{if(t)return a(t);u=o,n=e,s=i[u].slice(0),Lt(n,function(t,e,n,r,o){var i=e+"-"+n,a=s.indexOf(i);-1!==a&&(s.splice(a,1),"available"!==o.status&&d(u,i))}),s.forEach(function(t){d(u,t)})}var u,n,s;if(++f===c.length){var r={};return l.forEach(function(t,e){r[e]=t}),a(null,r)}})},this)}),Zt.prototype.bulkGet=b("bulkGet",function(t,e){T(this,t,e)}),Zt.prototype.compactDocument=b("compactDocument",function(o,c,f){var l=this;this._getRevisionTree(o,function(t,e){if(t)return f(t);var n,i,a,r=(n=e,i={},a=[],Lt(n,function(t,e,n,r){var o=e+"-"+n;return t&&(i[o]=0),void 0!==r&&a.push({from:r,to:o}),o}),a.reverse(),a.forEach(function(t){void 0===i[t.from]?i[t.from]=1+i[t.to]:i[t.from]=Math.min(i[t.from],1+i[t.to])}),i),u=[],s=[];Object.keys(r).forEach(function(t){r[t]>c&&u.push(t)}),Lt(e,function(t,e,n,r,o){var i=e+"-"+n;"available"===o.status&&-1!==u.indexOf(i)&&s.push(i)}),l._doCompaction(o,s,f)})}),Zt.prototype.compact=b("compact",function(t,e){"function"==typeof t&&(e=t,t={});var n=this;t=t||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:t,callback:e}),1===n._compactionQueue.length&&function n(r){var t=r._compactionQueue[0],e=t.opts,o=t.callback;r.get("_local/compaction").catch(function(){return!1}).then(function(t){t&&t.last_seq&&(e.last_seq=t.last_seq),r._compact(e,function(t,e){t?o(t):o(null,e),R()(function(){r._compactionQueue.shift(),r._compactionQueue.length&&n(r)})})})}(n)}),Zt.prototype._compact=function(t,n){var r=this,e={return_docs:!1,last_seq:t.last_seq||0},o=[];r.changes(e).on("change",function(t){o.push(r.compactDocument(t.id,0))}).on("complete",function(t){var e=t.last_seq;Promise.all(o).then(function(){return yt(r,"_local/compaction",function(t){return(!t.last_seq||t.last_seq<e)&&(t.last_seq=e,t)})}).then(function(){n(null,{ok:!0})}).catch(n)}).on("error",n)},Zt.prototype.get=b("get",function(_,k,x){if("function"==typeof k&&(x=k,k={}),"string"!=typeof _)return x(nt(U));if(Gt(_)&&"function"==typeof this._getLocal)return this._getLocal(_,x);var n=[],S=this;function r(){var a=[],u=n.length;if(!u)return x(null,a);n.forEach(function(i){S.get(_,{rev:i,revs:k.revs,latest:k.latest,attachments:k.attachments,binary:k.binary},function(t,e){if(t)a.push({missing:i});else{for(var n,r=0,o=a.length;r<o;r++)if(a[r].ok&&a[r].ok._rev===e._rev){n=!0;break}n||a.push({ok:e})}u--,u||x(null,a)})})}if(!k.open_revs)return this._get(_,k,function(t,e){if(t)return t.docId=_,x(t);var o=e.doc,n=e.metadata,i=e.ctx;if(k.conflicts){var r=Rt(n);r.length&&(o._conflicts=r)}if(Ht(n,o._rev)&&(o._deleted=!0),k.revs||k.revs_info){for(var a=o._rev.split("-"),u=parseInt(a[0],10),s=a[1],c=Ft(n.rev_tree),f=null,l=0;l<c.length;l++){var d=c[l],h=d.ids.map(function(t){return t.id}).indexOf(s),v=h===u-1;(v||!f&&-1!==h)&&(f=d)}var p=f.ids.map(function(t){return t.id}).indexOf(o._rev.split("-")[1])+1,y=f.ids.length-p;if(f.ids.splice(p,y),f.ids.reverse(),k.revs&&(o._revisions={start:f.pos+f.ids.length-1,ids:f.ids.map(function(t){return t.id})}),k.revs_info){var g=f.pos+f.ids.length;o._revs_info=f.ids.map(function(t){return g--,{rev:g+"-"+t.id,status:t.opts.status}})}}if(k.attachments&&o._attachments){var m=o._attachments,b=Object.keys(m).length;if(0===b)return x(null,o);Object.keys(m).forEach(function(r){this._getAttachment(o._id,r,m[r],{rev:o._rev,binary:k.binary,ctx:i},function(t,e){var n=o._attachments[r];n.data=e,delete n.stub,delete n.length,--b||x(null,o)})},S)}else{if(o._attachments)for(var w in o._attachments)o._attachments.hasOwnProperty(w)&&(o._attachments[w].stub=!0);x(null,o)}});if("all"===k.open_revs)this._getRevisionTree(_,function(t,e){if(t)return x(t);n=qt(e).map(function(t){return t.rev}),r()});else{if(!Array.isArray(k.open_revs))return x(nt(G,"function_clause"));n=k.open_revs;for(var t=0;t<n.length;t++){var e=n[t];if("string"!=typeof e||!/^\d+-/.test(e))return x(nt(tt))}r()}}),Zt.prototype.getAttachment=b("getAttachment",function(n,r,o,i){var a=this;o instanceof Function&&(i=o,o={}),this._get(n,o,function(t,e){return t?i(t):e.doc._attachments&&e.doc._attachments[r]?(o.ctx=e.ctx,o.binary=!0,void a._getAttachment(n,r,e.doc._attachments[r],o,i)):i(nt(z))})}),Zt.prototype.allDocs=b("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(n)return void t(nt(V,"Query parameter `"+n+"` is not compatible with multi-get"));if(!ut(this)&&(r=e,o="limit"in r?r.keys.slice(r.skip,r.limit+r.skip):0<r.skip?r.keys.slice(r.skip):r.keys,r.keys=o,r.skip=0,delete r.limit,r.descending&&(o.reverse(),r.descending=!1),0===e.keys.length))return this._allDocs({limit:0},t)}var r,o;return this._allDocs(e,t)}),Zt.prototype.changes=function(t,e){return"function"==typeof t&&(e=t,t={}),t=t||{},t.return_docs="return_docs"in t?t.return_docs:!t.live,new Jt(this,t,e)},Zt.prototype.close=b("close",function(t){return this._closed=!0,this.emit("closed"),this._close(t)}),Zt.prototype.info=b("info",function(n){var r=this;this._info(function(t,e){if(t)return n(t);e.db_name=e.db_name||r.name,e.auto_compaction=!(!r.auto_compaction||ut(r)),e.adapter=r.adapter,n(null,e)})}),Zt.prototype.id=b("id",function(t){return this._id(t)}),Zt.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Zt.prototype.bulkDocs=b("bulkDocs",function(t,o,i){if("function"==typeof o&&(i=o,o={}),o=o||{},Array.isArray(t)&&(t={docs:t}),!t||!t.docs||!Array.isArray(t.docs))return i(nt(B));for(var e=0;e<t.docs.length;++e)if("object"!=typeof t.docs[e]||Array.isArray(t.docs[e]))return i(nt(Q));var r;if(t.docs.forEach(function(n){n._attachments&&Object.keys(n._attachments).forEach(function(t){var e;r=r||(e=t,"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"),n._attachments[t].content_type||L("warn","Attachment",t,"on document",n._id,"is missing content_type")})}),r)return i(nt(X,r));"new_edits"in o||(o.new_edits=!("new_edits"in t)||t.new_edits);var a=this;o.new_edits||ut(a)||t.docs.sort(Qt),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),o=0;o<r.length;o++){var i=r[o];n._attachments[i]=k(n._attachments[i],["data","digest","content_type","length","revpos","stub"])}}}(t.docs);var u=t.docs.map(function(t){return t._id});return this._bulkDocs(t,o,function(t,e){if(t)return i(t);if(o.new_edits||(e=e.filter(function(t){return t.error})),!ut(a))for(var n=0,r=e.length;n<r;n++)e[n].id=e[n].id||u[n];i(null,e)})}),Zt.prototype.registerDependentDatabase=b("registerDependentDatabase",function(e,t){var n=new this.constructor(e,this.__opts);yt(this,"_local/_pouch_dependentDbs",function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)}).then(function(){t(null,{db:n})}).catch(t)}),Zt.prototype.destroy=b("destroy",function(t,i){"function"==typeof t&&(i=t,t={});var a=this,u=!("use_prefix"in a)||a.use_prefix;function s(){a._destroy(t,function(t,e){if(t)return i(t);a._destroyed=!0,a.emit("destroyed"),i(null,e||{ok:!0})})}if(ut(a))return s();a.get("_local/_pouch_dependentDbs",function(t,e){if(t)return 404!==t.status?i(t):s();var n=e.dependentDbs,r=a.constructor,o=Object.keys(n).map(function(t){var e=u?t.replace(new RegExp("^"+r.prefix),""):t;return new r(e,a.__opts).destroy()});Promise.all(o).then(s,i)})}),te.prototype.execute=function(){var t;if(this.failed)for(;t=this.queue.shift();)t(this.failed);else for(;t=this.queue.shift();)t()},te.prototype.fail=function(t){this.failed=t,this.execute()},te.prototype.ready=function(t){this.isReady=!0,this.db=t,this.execute()},te.prototype.addTask=function(t){this.queue.push(t),this.failed&&this.execute()},o()(ee,Zt);var ne="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}},re=fetch,oe=Headers;ee.adapters={},ee.preferredAdapters=[],ee.prefix="_pouch_";var ie=new u.EventEmitter;!function(e){Object.keys(u.EventEmitter.prototype).forEach(function(t){"function"==typeof u.EventEmitter.prototype[t]&&(e[t]=ie[t].bind(ie))});var r=e._destructionListeners=new A;e.on("ref",function(t){r.has(t.name)||r.set(t.name,[]),r.get(t.name).push(t)}),e.on("unref",function(t){if(r.has(t.name)){var e=r.get(t.name),n=e.indexOf(t);n<0||(e.splice(n,1),1<e.length?r.set(t.name,e):r.delete(t.name))}}),e.on("destroyed",function(t){if(r.has(t)){var e=r.get(t);r.delete(t),e.forEach(function(t){t.emit("destroyed",!0)})}})}(ee),ee.adapter=function(t,e,n){e.valid()&&(ee.adapters[t]=e,n&&ee.preferredAdapters.push(t))},ee.plugin=function(e){if("function"==typeof e)e(ee);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){ee.prototype[t]=e[t]})}return this.__defaults&&(ee.__defaults=q({},this.__defaults)),ee},ee.defaults=function(t){function n(t,e){if(!(this instanceof n))return new n(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=e.name,delete e.name),e=q({},n.__defaults,e),ee.call(this,t,e)}return o()(n,ee),n.preferredAdapters=ee.preferredAdapters.slice(),Object.keys(ee).forEach(function(t){t in n||(n[t]=ee[t])}),n.__defaults=q({},this.__defaults,t),n},ee.fetch=function(t,e){return re(t,e)};function ae(t,e){for(var n=t,r=0,o=e.length;r<o;r++){var i=e[r];if(n=n[i],!n)break}return n}function ue(t){for(var e=[],n="",r=0,o=t.length;r<o;r++){var i=t[r];"."===i?n=0<r&&"\\"===t[r-1]?n.substring(0,n.length-1)+".":(e.push(n),""):n+=i}return e.push(n),e}var se=["$or","$nor","$not"];function ce(t){return-1<se.indexOf(t)}function fe(t){return Object.keys(t)[0]}function le(t){var n={};return t.forEach(function(e){Object.keys(e).forEach(function(t){var a=e[t];if("object"!=typeof a&&(a={$eq:a}),ce(t))a instanceof Array?n[t]=a.map(function(t){return le([t])}):n[t]=le([a]);else{var u=n[t]=n[t]||{};Object.keys(a).forEach(function(t){var e,n,r,o,i=a[t];return"$gt"===t||"$gte"===t?function(t,e,n){if(void 0!==n.$eq)return;void 0!==n.$gte?"$gte"===t?e>n.$gte&&(n.$gte=e):e>=n.$gte&&(delete n.$gte,n.$gt=e):void 0!==n.$gt?"$gte"===t?e>n.$gt&&(delete n.$gt,n.$gte=e):e>n.$gt&&(n.$gt=e):n[t]=e}(t,i,u):"$lt"===t||"$lte"===t?function(t,e,n){if(void 0!==n.$eq)return;void 0!==n.$lte?"$lte"===t?e<n.$lte&&(n.$lte=e):e<=n.$lte&&(delete n.$lte,n.$lt=e):void 0!==n.$lt?"$lte"===t?e<n.$lt&&(delete n.$lt,n.$lte=e):e<n.$lt&&(n.$lt=e):n[t]=e}(t,i,u):"$ne"===t?(r=i,o=u,void("$ne"in o?o.$ne.push(r):o.$ne=[r])):"$eq"===t?(e=i,n=u,delete n.$gt,delete n.$gte,delete n.$lt,delete n.$lte,delete n.$ne,void(n.$eq=e)):void(u[t]=i)})}})}),n}var de=-324,he=3,ve="";function pe(t,e){if(t===e)return 0;t=ye(t),e=ye(e);var n,r,o=_e(t),i=_e(e);if(o-i!=0)return o-i;switch(typeof t){case"number":return t-e;case"boolean":return t<e?-1:1;case"string":return n=t,r=e,n===r?0:r<n?1:-1}return Array.isArray(t)?function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var o=pe(t[r],e[r]);if(0!==o)return o}return t.length===e.length?0:t.length>e.length?1:-1}(t,e):function(t,e){for(var n=Object.keys(t),r=Object.keys(e),o=Math.min(n.length,r.length),i=0;i<o;i++){var a=pe(n[i],r[i]);if(0!==a)return a;if(a=pe(t[n[i]],e[r[i]]),0!==a)return a}return n.length===r.length?0:n.length>r.length?1:-1}(t,e)}function ye(t){switch(typeof t){case"undefined":return null;case"number":return t===1/0||t===-1/0||isNaN(t)?null:t;case"object":var e=t;if(Array.isArray(t)){var n=t.length;t=new Array(n);for(var r=0;r<n;r++)t[r]=ye(e[r])}else{if(t instanceof Date)return t.toJSON();if(null!==t)for(var o in t={},e)if(e.hasOwnProperty(o)){var i=e[o];void 0!==i&&(t[o]=ye(i))}}}return t}function ge(t){if(null!==t)switch(typeof t){case"boolean":return t?1:0;case"number":return function(t){if(0===t)return"1";var e=t.toExponential().split(/e\+?/),n=parseInt(e[1],10),r=t<0,o=r?"0":"2",i=(r?-n:n)-de,a=(u=i.toString(),s="0",c=he,f=function(t,e,n){for(var r="",o=n-t.length;r.length<o;)r+=e;return r}(u,s,c),f+u);var u,s,c,f;o+=ve+a;var l=Math.abs(parseFloat(e[0]));r&&(l=10-l);var d=l.toFixed(20);return d=d.replace(/\.?0+$/,""),o+=ve+d,o}(t);case"string":return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var e=Array.isArray(t),n=e?t:Object.keys(t),r=-1,o=n.length,i="";if(e)for(;++r<o;)i+=me(n[r]);else for(;++r<o;){var a=n[r];i+=me(a)+me(t[a])}return i}return""}function me(t){return t=ye(t),_e(t)+ve+ge(t)+"\0"}function be(t,e){var n,r=e,o="1"===t[e];if(o)n=0,e++;else{var i="0"===t[e];e++;var a="",u=t.substring(e,e+he),s=parseInt(u,10)+de;for(i&&(s=-s),e+=he;;){var c=t[e];if("\0"===c)break;a+=c,e++}a=a.split("."),n=1===a.length?parseInt(a,10):parseFloat(a[0]+"."+a[1]),i&&(n-=10),0!==s&&(n=parseFloat(n+"e"+s))}return{num:n,length:e-r}}function we(t,e){var n=t.pop();if(e.length){var r=e[e.length-1];n===r.element&&(e.pop(),r=e[e.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(n);else if(i===t.length-2){var a=t.pop();o[a]=n}else t.push(n)}}function _e(t){var e=["boolean","number","string","object"].indexOf(typeof t);return~e?null===t?1:Array.isArray(t)?5:e<3?e+2:e+3:Array.isArray(t)?5:void 0}function ke(t,e,n){if(t=t.filter(function(t){return xe(t.doc,e.selector,n)}),e.sort){var r=function(t){function u(o){return t.map(function(t){var e=fe(t),n=ue(e),r=ae(o,n);return r})}return function(t,e){var n,r,o=u(t.doc),i=u(e.doc),a=pe(o,i);return 0!==a?a:(n=t.doc._id,r=e.doc._id,n<r?-1:r<n?1:0)}}(e.sort);t=t.sort(r),"string"!=typeof e.sort[0]&&"desc"===(o=e.sort[0],o[fe(o)])&&(t=t.reverse())}var o;if("limit"in e||"skip"in e){var i=e.skip||0,a=("limit"in e?e.limit:t.length)+i;t=t.slice(i,a)}return t}function xe(u,s,t){return t.every(function(t){var e,n,r,o=s[t],i=ue(t),a=ae(u,i);return ce(t)?(e=t,n=o,r=u,"$or"!==e?"$not"!==e?!n.find(function(t){return xe(r,t,Object.keys(t))}):!xe(r,n,Object.keys(n)):n.some(function(t){return xe(r,t,Object.keys(t))})):Se(o,u,i,a)})}function Se(n,r,o,i){return!n||Object.keys(n).every(function(t){var e=n[t];return function(t,e,n,r,o){if(Me[t])return Me[t](e,n,r,o);throw new Error('unknown operator "'+t+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all')}(t,r,e,o,i)})}function Oe(t){return null!=t}function Ee(t){return void 0!==t}function je(e,t){return t.some(function(t){return e instanceof Array?-1<e.indexOf(t):e===t})}var Me={$elemMatch:function(e,n,r,t){return!!Array.isArray(t)&&(0!==t.length&&("object"==typeof t[0]?t.some(function(t){return xe(t,n,Object.keys(n))}):t.some(function(t){return Se(n,e,r,t)})))},$allMatch:function(e,n,r,t){return!!Array.isArray(t)&&(0!==t.length&&("object"==typeof t[0]?t.every(function(t){return xe(t,n,Object.keys(n))}):t.every(function(t){return Se(n,e,r,t)})))},$eq:function(t,e,n,r){return Ee(r)&&0===pe(r,e)},$gte:function(t,e,n,r){return Ee(r)&&0<=pe(r,e)},$gt:function(t,e,n,r){return Ee(r)&&0<pe(r,e)},$lte:function(t,e,n,r){return Ee(r)&&pe(r,e)<=0},$lt:function(t,e,n,r){return Ee(r)&&pe(r,e)<0},$exists:function(t,e,n,r){return e?Ee(r):!Ee(r)},$mod:function(t,e,n,r){return Oe(r)&&function(t,e){var n=e[0],r=e[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(t,10)===t&&t%n===r}(r,e)},$ne:function(t,e,n,r){return e.every(function(t){return 0!==pe(r,t)})},$in:function(t,e,n,r){return Oe(r)&&je(r,e)},$nin:function(t,e,n,r){return Oe(r)&&!je(r,e)},$size:function(t,e,n,r){return Oe(r)&&(o=r,i=e,o.length===i);var o,i},$all:function(t,e,n,r){return Array.isArray(r)&&(o=r,i=e,i.every(function(t){return-1<o.indexOf(t)}));var o,i},$regex:function(t,e,n,r){return Oe(r)&&(o=r,i=e,a=new RegExp(i),a.test(o));var o,i,a},$type:function(t,e,n,r){return function(t,e){switch(e){case"null":return null===t;case"boolean":return"boolean"==typeof t;case"number":return"number"==typeof t;case"string":return"string"==typeof t;case"array":return t instanceof Array;case"object":return"[object Object]"==={}.toString.call(t)}throw new Error(e+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(r,e)}};function Ae(t,e){if("object"!=typeof e)throw new Error("Selector error: expected a JSON object");e=function(t){var e=F(t),n=!1;"$and"in e&&(e=le(e.$and),n=!0),["$or","$nor"].forEach(function(t){t in e&&e[t].forEach(function(t){for(var e=Object.keys(t),n=0;n<e.length;n++){var r=e[n],o=t[r];"object"==typeof o&&null!==o||(t[r]={$eq:o})}})}),"$not"in e&&(e.$not=le([e.$not]));for(var r=Object.keys(e),o=0;o<r.length;o++){var i=r[o],a=e[i];"object"!=typeof a||null===a?a={$eq:a}:"$ne"in a&&!n&&(a.$ne=[a.$ne]),e[i]=a}return e}(e);var n={doc:t},r=ke([n],{selector:e},Object.keys(e));return r&&1===r.length}function Pe(t,e){if(t.selector&&t.filter&&"_selector"!==t.filter){var n="string"==typeof t.filter?t.filter:"function";return e(new Error('selector invalid for filter "'+n+'"'))}e()}function Te(t){t.view&&!t.filter&&(t.filter="_view"),t.selector&&!t.filter&&(t.filter="_selector"),t.filter&&"string"==typeof t.filter&&("_view"===t.filter?t.view=ct(t.view):t.filter=ct(t.filter))}function De(t,e){return e.filter&&"string"==typeof e.filter&&!e.doc_ids&&!ut(t.db)}function Ie(i,a){var u=a.complete;if("_view"===a.filter){if(!a.view||"string"!=typeof a.view){var t=nt(X,"`view` filter parameter not found or invalid.");return u(t)}var s=st(a.view);i.db.get("_design/"+s[0],function(t,e){if(i.isCancelled)return u(null,{status:"cancelled"});if(t)return u(rt(t));var n,r,o=e&&e.views&&e.views[s[1]]&&e.views[s[1]].map;if(!o)return u(nt(z,e.views?"missing json key: "+s[1]:"missing json key: views"));a.filter=(n=o,r=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+n+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),pt(r,{})),i.doChanges(a)})}else if(a.selector)a.filter=function(t){return Ae(t,a.selector)},i.doChanges(a);else{var o=st(a.filter);i.db.get("_design/"+o[0],function(t,e){if(i.isCancelled)return u(null,{status:"cancelled"});if(t)return u(rt(t));var n,r=e&&e.filters&&e.filters[o[1]];if(!r)return u(nt(z,e&&e.filters?"missing json key: "+o[1]:"missing json key: filters"));a.filter=(n=r,pt('"use strict";\nreturn '+n+";",{})),i.doChanges(a)})}}function Le(t){return t.reduce(function(t,e){return t[e]=!0,t},{})}ee.plugin(function(t){t._changesFilterPlugin={validate:Pe,normalize:Te,shouldFilter:De,filter:Ie}}),ee.version="7.0.0";var Ce=Le(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),qe=Le(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Re(t){if(!/^\d+-./.test(t))return nt(tt);var e=t.indexOf("-"),n=t.substring(0,e),r=t.substring(e+1);return{prefix:parseInt(n,10),id:r}}function Fe(t,e,n){var r,o,i;n||(n={deterministic_revs:!0});var a={status:"available"};if(t._deleted&&(a.deleted=!0),e)if(t._id||(t._id=Dt()),o=Tt(t,n.deterministic_revs),t._rev){if(i=Re(t._rev),i.error)return i;t._rev_tree=[{pos:i.prefix,ids:[i.id,{status:"missing"},[[o,a,[]]]]}],r=i.prefix+1}else t._rev_tree=[{pos:1,ids:[o,a,[]]}],r=1;else if(t._revisions&&(t._rev_tree=function(t,e){for(var n=t.start-t.ids.length+1,r=t.ids,o=[r[0],e,[]],i=1,a=r.length;i<a;i++)o=[r[i],{status:"missing"},[o]];return[{pos:n,ids:o}]}(t._revisions,a),r=t._revisions.start,o=t._revisions.ids[0]),!t._rev_tree){if(i=Re(t._rev),i.error)return i;r=i.prefix,o=i.id,t._rev_tree=[{pos:r,ids:[o,a,[]]}]}at(t._id),t._rev=r+"-"+o;var u={metadata:{},data:{}};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var c="_"===s[0];if(c&&!Ce[s]){var f=nt(K,s);throw f.message=K.message+": "+s,f}c&&!qe[s]?u.metadata[s.slice(1)]=t[s]:u.data[s]=t[s]}return u}function $e(e,t,n){var r=function(t){try{return gt(t)}catch(t){var e=nt(J,"Attachment is not a valid base64 string");return{error:e}}}(e.data);if(r.error)return n(r.error);e.length=r.length,e.data="blob"===t?wt(r,e.content_type):"base64"===t?mt(r):r,At(r,function(t){e.digest="md5-"+t,n()})}function Ne(t,e,n){if(t.stub)return n();var r,o,i;"string"==typeof t.data?$e(t,e,n):(r=t,o=e,i=n,At(r.data,function(t){r.digest="md5-"+t,r.length=r.data.size||r.data.length||0,"binary"===o?xt(r.data,function(t){r.data=t,i()}):"base64"===o?St(r.data,function(t){r.data=t,i()}):i()}))}function Be(t,e,n,r,o,i,a,u){if(function(t,e){for(var n,r=t.slice(),o=e.split("-"),i=parseInt(o[0],10),a=o[1];n=r.pop();){if(n.pos===i&&n.ids[0]===a)return!0;for(var u=n.ids[2],s=0,c=u.length;s<c;s++)r.push({pos:n.pos+1,ids:u[s]})}return!1}(e.rev_tree,n.metadata.rev)&&!u)return r[o]=n,i();var s=e.winningRev||It(e),c="deleted"in e?e.deleted:Ht(e,s),f="deleted"in n.metadata?n.metadata.deleted:Ht(n.metadata),l=/^1-/.test(n.metadata.rev);if(c&&!f&&u&&l){var d=n.data;d._rev=s,d._id=n.metadata.id,n=Fe(d,u)}var h=Ut(e.rev_tree,n.metadata.rev_tree[0],t),v=u&&(c&&f&&"new_leaf"!==h.conflicts||!c&&"new_leaf"!==h.conflicts||c&&!f&&"new_branch"===h.conflicts);if(v){var p=nt(Y);return r[o]=p,i()}var y=n.metadata.rev;n.metadata.rev_tree=h.tree,n.stemmedRevs=h.stemmedRevs||[],e.rev_map&&(n.metadata.rev_map=e.rev_map);var g,m=It(n.metadata),b=Ht(n.metadata,m),w=c===b?0:c<b?-1:1;g=y===m?b:Ht(n.metadata,y),a(n,m,b,g,!0,w,o,i)}function ze(s,t,o,c,i,f,l,d,e){s=s||1e3;var h=d.new_edits,a=new A,n=0,u=t.length;function v(){++n===u&&e&&e()}t.forEach(function(t,n){if(t._id&&Gt(t._id)){var e=t._deleted?"_removeLocal":"_putLocal";o[e](t,{ctx:i},function(t,e){f[n]=t||e,v()})}else{var r=t.metadata.id;a.has(r)?(u--,a.get(r).push([t,n])):a.set(r,[[t,n]])}}),a.forEach(function(o,i){var a=0;function u(){++a<o.length?t():v()}function t(){var t=o[a],e=t[0],n=t[1];if(c.has(i))Be(s,c.get(i),e,f,n,u,l,h);else{var r=Ut([],e.metadata.rev_tree[0],s);e.metadata.rev_tree=r.tree,e.stemmedRevs=r.stemmedRevs||[],function(t,e,n){var r=It(t.metadata),o=Ht(t.metadata,r);if("was_delete"in d&&o)return f[e]=nt(z,"deleted"),n();var i,a=h&&(i=t,"missing"===i.metadata.rev_tree[0].ids[1].status);if(a){var u=nt(Y);return f[e]=u,n()}var s=o?0:1;l(t,r,o,o,!1,s,e,n)}(e,n,u)}}t()})}var Ye=5,Ue="document-store",We="by-sequence",He="attach-store",Ge="attach-seq-store",Je="meta-store",Ve="local-store",Ke="detect-blob-support";function Xe(n){return function(t){var e="unknown_error";t.target&&t.target.error&&(e=t.target.error.name||t.target.error.message),n(nt(Z,e,t.type))}}function Qe(t,e,n){return{data:function(e){try{return JSON.stringify(e)}catch(t){return l.a.stringify(e)}}(t),winningRev:e,deletedOrLocal:n?"1":"0",seq:t.seq,id:t.id}}function Ze(t){if(!t)return null;var e=function(e){try{return JSON.parse(e)}catch(t){return l.a.parse(e)}}(t.data);return e.winningRev=t.winningRev,e.deleted="1"===t.deletedOrLocal,e.seq=t.seq,e}function tn(t){if(!t)return t;var e=t._doc_id_rev.lastIndexOf(":");return t._id=t._doc_id_rev.substring(0,e-1),t._rev=t._doc_id_rev.substring(e+1),delete t._doc_id_rev,t}function en(t,e,n,r){n?r(t?"string"!=typeof t?t:_t(t,e):bt([""],{type:e})):t?"string"!=typeof t?kt(t,function(t){r(mt(t))}):r(t):r("")}function nn(a,u,s,t){var e=Object.keys(a._attachments||{});if(!e.length)return t&&t();var n=0;function c(){++n===e.length&&t&&t()}e.forEach(function(t){var e,n,r,o,i;u.attachments&&u.include_docs?(e=a,n=t,r=e._attachments[n],o=r.digest,i=s.objectStore(He).get(o),i.onsuccess=function(t){r.body=t.target.result.body,c()}):(a._attachments[t].stub=!0,c())})}function rn(t,a){return Promise.all(t.map(function(i){if(i.doc&&i.doc._attachments){var t=Object.keys(i.doc._attachments);return Promise.all(t.map(function(n){var r=i.doc._attachments[n];if("body"in r){var t=r.body,o=r.content_type;return new Promise(function(e){en(t,o,a,function(t){i.doc._attachments[n]=q(k(r,["digest","content_type"]),{data:t}),e()})})}}))}}))}function on(t,r,e){var o=[],i=e.objectStore(We),a=e.objectStore(He),u=e.objectStore(Ge),n=t.length;function s(){n--,n||function(){if(!o.length)return;o.forEach(function(n){var t=u.index("digestSeq").count(IDBKeyRange.bound(n+"::",n+"::￿",!1,!1));t.onsuccess=function(t){var e=t.target.result;e||a.delete(n)}})}()}t.forEach(function(t){var e=i.index("_doc_id_rev"),n=r+"::"+t;e.getKey(n).onsuccess=function(t){var e=t.target.result;if("number"!=typeof e)return s();i.delete(e);var n=u.index("seq").openCursor(IDBKeyRange.only(e));n.onsuccess=function(t){var e=t.target.result;if(e){var n=e.value.digestSeq.split("::")[0];o.push(n),u.delete(e.primaryKey),e.continue()}else s()}}})}function an(t,e,n){try{return{txn:t.transaction(e,n)}}catch(t){return{error:t}}}var un=new I;function sn(u,t,s,d,n,r){for(var h,v,i,p,y,o,e,a,c=t.docs,f=0,l=c.length;f<l;f++){var g=c[f];g._id&&Gt(g._id)||(g=c[f]=Fe(g,s.new_edits,u),g.error&&!e&&(e=g))}if(e)return r(e);var m=!1,b=0,w=new Array(c.length),_=new A,k=!1,x=d._meta.blobSupport?"blob":"base64";function S(){m=!0,O()}function O(){a&&m&&(a.docCount+=b,o.put(a))}function E(){k||(un.notify(d._meta.name),r(null,w))}function j(t,e,n,r,o,i,a,u){t.metadata.winningRev=e,t.metadata.deleted=n;var s=t.data;s._id=t.metadata.id,s._rev=t.metadata.rev,r&&(s._deleted=!0);var c=s._attachments&&Object.keys(s._attachments).length;if(c)return function(s,c,t,e,n,r){var o=s.data,f=0,i=Object.keys(o._attachments);function l(){f===i.length&&M(s,c,t,e,n,r)}function d(){f++,l()}i.forEach(function(t){var o,i,a,e,n=s.data._attachments[t];if(n.stub)f++,l();else{var r=n.data;delete n.data,n.revpos=parseInt(c,10);var u=n.digest;o=u,i=r,a=d,e=p.count(o),e.onsuccess=function(t){var e=t.target.result;if(e)return a();var n={digest:o,body:i},r=p.put(n);r.onsuccess=a}}})}(t,e,n,o,a,u);b+=i,O(),M(t,e,n,o,a,u)}function M(a,u,s,c,t,e){var r=a.data,f=a.metadata;function o(t){var e,i,n=a.stemmedRevs||[];c&&d.auto_compaction&&(n=n.concat((e=a.metadata,i=[],Lt(e.rev_tree,function(t,e,n,r,o){"available"!==o.status||t||(i.push(e+"-"+n),o.status="missing")}),i))),n&&n.length&&on(n,a.metadata.id,h),f.seq=t.target.result;var r=Qe(f,u,s),o=v.put(r);o.onsuccess=l}function l(){w[t]={ok:!0,id:f.id,rev:f.rev},_.set(a.metadata.id,a.metadata),function(r,o,t){var e=0,n=Object.keys(r.data._attachments||{});if(!n.length)return t();function i(){++e===n.length&&t()}function a(t){var e=r.data._attachments[t].digest,n=y.put({seq:o,digestSeq:e+"::"+o});n.onsuccess=i,n.onerror=function(t){t.preventDefault(),t.stopPropagation(),i()}}for(var u=0;u<n.length;u++)a(n[u])}(a,f.seq,e)}r._doc_id_rev=f.id+"::"+f.rev,delete r._id,delete r._rev;var n=i.put(r);n.onsuccess=o,n.onerror=function(t){t.preventDefault(),t.stopPropagation();var e=i.index("_doc_id_rev"),n=e.getKey(r._doc_id_rev);n.onsuccess=function(t){var e=i.put(r,t.target.result);e.onsuccess=o}}}!function(t,i,e){if(!t.length)return e();var a,n=0;function u(){n++,t.length===n&&(a?e(a):e())}t.forEach(function(t){var e=t.data&&t.data._attachments?Object.keys(t.data._attachments):[],n=0;if(!e.length)return u();function r(t){a=t,n++,n===e.length&&u()}for(var o in t.data._attachments)t.data._attachments.hasOwnProperty(o)&&Ne(t.data._attachments[o],i,r)})}(c,x,function(t){if(t)return r(t);!function(){var t=[Ue,We,He,Ve,Ge,Je],e=an(n,t,"readwrite");if(e.error)return r(e.error);h=e.txn,h.onabort=Xe(r),h.ontimeout=Xe(r),h.oncomplete=E,v=h.objectStore(Ue),i=h.objectStore(We),p=h.objectStore(He),y=h.objectStore(Ge),o=h.objectStore(Je),o.get(Je).onsuccess=function(t){a=t.target.result,O()},function(o){var i=[];if(c.forEach(function(n){n.data&&n.data._attachments&&Object.keys(n.data._attachments).forEach(function(t){var e=n.data._attachments[t];e.stub&&i.push(e.digest)})}),!i.length)return o();var a,u=0;i.forEach(function(t){var n,r,e;n=t,r=function(t){t&&!a&&(a=t),++u===i.length&&o(a)},e=p.get(n),e.onsuccess=function(t){if(t.target.result)r();else{var e=nt(et,"unknown stub attachment with digest "+n);e.status=412,r(e)}}})}(function(t){if(t)return k=!0,r(t);!function(){if(!c.length)return;var t=0;function n(){++t===c.length&&ze(u.revs_limit,c,d,_,h,w,j,s,S)}function e(t){var e=Ze(t.target.result);e&&_.set(e.id,e),n()}for(var r=0,o=c.length;r<o;r++){var i=c[r];if(i._id&&Gt(i._id))n();else{var a=v.get(i.metadata.id);a.onsuccess=e}}}()})}()})}function cn(n,r,t,o,i){-1===o&&(o=1e3);var a,u,e,s="function"==typeof n.getAll&&"function"==typeof n.getAllKeys&&1<o&&!t;function c(t){u=t.target.result,a&&i(a,u,e)}function f(t){a=t.target.result,u&&i(a,u,e)}function l(t){var e=t.target.result;if(!e)return i();i([e.key],[e.value],e)}s?(e={continue:function(){if(!a.length)return i();var t,e=a[a.length-1];if(r&&r.upper)try{t=IDBKeyRange.bound(e,r.upper,!0,r.upperOpen)}catch(t){if("DataError"===t.name&&0===t.code)return i()}else t=IDBKeyRange.lowerBound(e,!0);r=t,a=null,u=null,n.getAll(r,o).onsuccess=c,n.getAllKeys(r,o).onsuccess=f}},n.getAll(r,o).onsuccess=c,n.getAllKeys(r,o).onsuccess=f):t?n.openCursor(r,"prev").onsuccess=l:n.openCursor(r).onsuccess=l}function fn(s,t,e){var n,r,o="startkey"in s&&s.startkey,i="endkey"in s&&s.endkey,a="key"in s&&s.key,c="keys"in s&&s.keys,f=s.skip||0,u="number"==typeof s.limit?s.limit:-1,l=!1!==s.inclusive_end;if(!c&&(n=function(t,e,n,r,o){try{if(t&&e)return o?IDBKeyRange.bound(e,t,!n,!1):IDBKeyRange.bound(t,e,!1,!n);if(t)return o?IDBKeyRange.upperBound(t):IDBKeyRange.lowerBound(t);if(e)return o?IDBKeyRange.lowerBound(e,!n):IDBKeyRange.upperBound(e,!n);if(r)return IDBKeyRange.only(r)}catch(t){return{error:t}}return null}(o,i,l,a,s.descending),r=n&&n.error,r&&("DataError"!==r.name||0!==r.code)))return e(nt(Z,r.name,r.message));var d=[Ue,We,Je];s.attachments&&d.push(He);var h=an(t,d,"readonly");if(h.error)return e(h.error);var v=h.txn;v.oncomplete=function(){s.attachments?rn(M,s.binary).then(D):D()},v.onabort=Xe(e);var p,y,g,m,b,w,_,k,x,S=v.objectStore(Ue),O=v.objectStore(We),E=v.objectStore(Je),j=O.index("_doc_id_rev"),M=[];function A(t,e){var n,r,o,i,a={id:e.id,key:e.id,value:{rev:t}},u=e.deleted;u?c&&(M.push(a),a.value.deleted=!0,a.doc=null):f--<=0&&(M.push(a),s.include_docs&&(n=e,r=a,o=t,i=n.id+"::"+o,j.get(i).onsuccess=function(t){if(r.doc=tn(t.target.result)||{},s.conflicts){var e=Rt(n);e.length&&(r.doc._conflicts=e)}nn(r.doc,s,v)}))}function P(t){for(var e=0,n=t.length;e<n&&M.length!==u;e++){var r=t[e];if(r.error&&c)M.push(r);else{var o=Ze(r),i=o.winningRev;A(i,o)}}}function T(t,e,n){n&&(P(e),M.length<u&&n.continue())}function D(){var t={total_rows:p,offset:s.skip,rows:M};s.update_seq&&void 0!==y&&(t.update_seq=y),e(null,t)}return E.get(Je).onsuccess=function(t){p=t.target.result.docCount},s.update_seq&&(g=O,m=function(t){t.target.result&&0<t.target.result.length&&(y=t.target.result[0])},g.openCursor(null,"prev").onsuccess=function(t){var e=t.target.result,n=void 0;return e&&e.key&&(n=e.key),m({target:{result:[n]}})}),r||0===u?void 0:c?(b=s.keys,w=S,_=T,k=new Array(b.length),x=0,void b.forEach(function(e,n){w.get(e).onsuccess=function(t){t.target.result?k[n]=t.target.result:k[n]={key:e,error:"not_found"},x++,x===b.length&&_(b,k,{})}})):-1===u?function(t,e,n){if("function"!=typeof t.getAll){var r=[];t.openCursor(e).onsuccess=function(t){var e=t.target.result;e?(r.push(e.value),e.continue()):n({target:{result:r}})}}else t.getAll(e).onsuccess=n}(S,n,function(t){var e=t.target.result;s.descending&&(e=e.reverse()),P(e)}):void cn(S,n,s.descending,u+f,T)}var ln=!1,dn=[];function hn(){!ln&&dn.length&&(ln=!0,dn.shift()())}function vn(f,t,e,n){if(f=F(f),f.continuous){var r=e+":"+Dt();return un.addListener(e,r,t,f),un.notify(e),{cancel:function(){un.removeListener(e,r)}}}var l=f.doc_ids&&new O(f.doc_ids);f.since=f.since||0;var d=f.since,h="limit"in f?f.limit:-1;0===h&&(h=1);var v,o,p,a,y=[],g=0,m=ot(f),b=new A;function w(t,e,n,r){if(n.seq!==e)return r();if(n.winningRev===t._rev)return r(n,t);var o=t._id+"::"+n.winningRev,i=a.get(o);i.onsuccess=function(t){r(n,tn(t.target.result))}}function i(){f.complete(null,{results:y,last_seq:d})}var u=[Ue,We];f.attachments&&u.push(He);var s=an(n,u,"readonly");if(s.error)return f.complete(s.error);v=s.txn,v.onabort=Xe(f.complete),v.oncomplete=function(){!f.continuous&&f.attachments?rn(y).then(i):i()},o=v.objectStore(We),p=v.objectStore(Ue),a=o.index("_doc_id_rev");var c=f.since&&!f.descending?IDBKeyRange.lowerBound(f.since,!0):null;cn(o,c,f.descending,h,function(o,t,i){if(i&&o.length){var a=new Array(o.length),u=new Array(o.length),s=0;t.forEach(function(t,n){var e=tn(t),r=o[n];!function(e,n,r){if(l&&!l.has(e._id))return r();var o=b.get(e._id);if(o)return w(e,n,o,r);p.get(e._id).onsuccess=function(t){o=Ze(t.target.result),b.set(e._id,o),w(e,n,o,r)}}(e,r,function(t,e){u[n]=t,a[n]=e,++s===o.length&&function(){for(var t=[],e=0,n=a.length;e<n&&g!==h;e++){var r=a[e];if(r){var o=u[e];t.push(c(o,r))}}Promise.all(t).then(function(t){for(var e=0,n=t.length;e<n;e++)t[e]&&f.onChange(t[e])}).catch(f.complete),g!==h&&i.continue()}()})})}function c(t,e){var n=f.processChange(e,t,f);d=n.seq=t.seq;var r=m(n);return"object"==typeof r?Promise.reject(r):r?(g++,f.return_docs&&y.push(n),f.attachments&&f.include_docs?new Promise(function(t){nn(e,f,v,function(){rn([n],f.binary).then(function(){t(n)})})}):Promise.resolve(n)):Promise.resolve()}})}var pn,yn=new A,gn=new A;function mn(e,t){var n,r,o,i=this;n=function(t){!function(h,r,v){var p=r.name,y=null;function s(t,o){var i=t.objectStore(Ue);i.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),i.openCursor().onsuccess=function(t){var e=t.target.result;if(e){var n=e.value,r=Ht(n);n.deletedOrLocal=r?"1":"0",i.put(n),e.continue()}else o()}}function c(t,d){var h=t.objectStore(Ve),v=t.objectStore(Ue),p=t.objectStore(We),e=v.openCursor();e.onsuccess=function(t){var n=t.target.result;if(n){var e=n.value,r=e.id,o=Gt(r),i=It(e);if(o){var a=r+"::"+i,u=r+"::",s=r+"::~",c=p.index("_doc_id_rev"),f=IDBKeyRange.bound(u,s,!1,!1),l=c.openCursor(f);l.onsuccess=function(t){if(l=t.target.result,l){var e=l.value;e._doc_id_rev===a&&h.put(e),p.delete(l.primaryKey),l.continue()}else v.delete(n.primaryKey),n.continue()}}else n.continue()}else d&&d()}}function f(t,f){var n=t.objectStore(We),e=t.objectStore(He),l=t.objectStore(Ge),r=e.count();r.onsuccess=function(t){var e=t.target.result;if(!e)return f();n.openCursor().onsuccess=function(t){var e=t.target.result;if(!e)return f();for(var n=e.value,r=e.primaryKey,o=Object.keys(n._attachments||{}),i={},a=0;a<o.length;a++){var u=n._attachments[o[a]];i[u.digest]=!0}var s=Object.keys(i);for(a=0;a<s.length;a++){var c=s[a];l.put({seq:r,digestSeq:c+"::"+r})}e.continue()}}}function l(t){var c=t.objectStore(We),f=t.objectStore(Ue),e=f.openCursor();e.onsuccess=function(t){var n=t.target.result;if(n){var e,r,o,i,a,u=(e=n.value,e.data?Ze(e):(e.deleted="1"===e.deletedOrLocal,e));if(u.winningRev=u.winningRev||It(u),u.seq)return s();r=u.id+"::",o=u.id+"::￿",i=c.index("_doc_id_rev").openCursor(IDBKeyRange.bound(r,o)),a=0,i.onsuccess=function(t){var e=t.target.result;if(!e)return u.seq=a,s();var n=e.primaryKey;a<n&&(a=n),e.continue()}}function s(){var t=Qe(u,u.winningRev,u.deleted),e=f.put(t);e.onsuccess=function(){n.continue()}}}}h._meta=null,h._remote=!1,h.type=function(){return"idb"},h._id=g(function(t){t(null,h._meta.instanceId)}),h._bulkDocs=function(t,e,n){sn(r,t,e,h,y,n)},h._get=function(t,i,e){var a,u,s,c=i.ctx;if(!c){var n=an(y,[Ue,We,He],"readonly");if(n.error)return e(n.error);c=n.txn}function f(){e(s,{doc:a,metadata:u,ctx:c})}c.objectStore(Ue).get(t).onsuccess=function(t){if(u=Ze(t.target.result),!u)return s=nt(z,"missing"),f();var e;if(i.rev)e=i.latest?function(t,e){for(var n,r=e.rev_tree.slice();n=r.pop();){var o=n.pos,i=n.ids,a=i[0],u=i[1],s=i[2],c=0===s.length,f=n.history?n.history.slice():[];if(f.push({id:a,pos:o,opts:u}),c)for(var l=0,d=f.length;l<d;l++){var h=f[l],v=h.pos+"-"+h.id;if(v===t)return o+"-"+a}for(var p=0,y=s.length;p<y;p++)r.push({pos:o+1,ids:s[p],history:f})}throw new Error("Unable to resolve latest revision for id "+e.id+", rev "+t)}(i.rev,u):i.rev;else{e=u.winningRev;var n=Ht(u);if(n)return s=nt(z,"deleted"),f()}var r=c.objectStore(We),o=u.id+"::"+e;r.index("_doc_id_rev").get(o).onsuccess=function(t){if(a=t.target.result,a&&(a=tn(a)),!a)return s=nt(z,"missing"),f();f()}}},h._getAttachment=function(t,e,n,r,o){var i;if(r.ctx)i=r.ctx;else{var a=an(y,[Ue,We,He],"readonly");if(a.error)return o(a.error);i=a.txn}var u=n.digest,s=n.content_type;i.objectStore(He).get(u).onsuccess=function(t){var e=t.target.result.body;en(e,s,r.binary,function(t){o(null,t)})}},h._info=function(t){var n,e,r=an(y,[Je,We],"readonly");if(r.error)return t(r.error);var o=r.txn;o.objectStore(Je).get(Je).onsuccess=function(t){e=t.target.result.docCount},o.objectStore(We).openCursor(null,"prev").onsuccess=function(t){var e=t.target.result;n=e?e.key:0},o.oncomplete=function(){t(null,{doc_count:e,update_seq:n,idb_attachment_format:h._meta.blobSupport?"binary":"base64"})}},h._allDocs=function(t,e){fn(t,y,e)},h._changes=function(t){return vn(t,h,p,y)},h._close=function(t){y.close(),yn.delete(p),t()},h._getRevisionTree=function(t,n){var e=an(y,[Ue],"readonly");if(e.error)return n(e.error);var r=e.txn,o=r.objectStore(Ue).get(t);o.onsuccess=function(t){var e=Ze(t.target.result);e?n(null,e.rev_tree):n(nt(z))}},h._doCompaction=function(o,a,t){var e=[Ue,We,He,Ge],n=an(y,e,"readwrite");if(n.error)return t(n.error);var i=n.txn,r=i.objectStore(Ue);r.get(o).onsuccess=function(t){var e=Ze(t.target.result);Lt(e.rev_tree,function(t,e,n,r,o){var i=e+"-"+n;-1!==a.indexOf(i)&&(o.status="missing")}),on(a,o,i);var n=e.winningRev,r=e.deleted;i.objectStore(Ue).put(Qe(e,n,r))},i.onabort=Xe(t),i.oncomplete=function(){t()}},h._getLocal=function(t,n){var e=an(y,[Ve],"readonly");if(e.error)return n(e.error);var r=e.txn,o=r.objectStore(Ve).get(t);o.onerror=Xe(n),o.onsuccess=function(t){var e=t.target.result;e?(delete e._doc_id_rev,n(null,e)):n(nt(z))}},h._putLocal=function(r,o,i){"function"==typeof o&&(i=o,o={}),delete r._revisions;var a=r._rev,t=r._id;r._rev=a?"0-"+(parseInt(a.split("-")[1],10)+1):"0-1";var u,e=o.ctx;if(!e){var n=an(y,[Ve],"readwrite");if(n.error)return i(n.error);e=n.txn,e.onerror=Xe(i),e.oncomplete=function(){u&&i(null,u)}}var s,c=e.objectStore(Ve);s.onsuccess=a?(s=c.get(t),function(t){var e=t.target.result;if(e&&e._rev===a){var n=c.put(r);n.onsuccess=function(){u={ok:!0,id:r._id,rev:r._rev},o.ctx&&i(null,u)}}else i(nt(Y))}):(s=c.add(r),s.onerror=function(t){i(nt(Y)),t.preventDefault(),t.stopPropagation()},function(){u={ok:!0,id:r._id,rev:r._rev},o.ctx&&i(null,u)})},h._removeLocal=function(n,r,o){"function"==typeof r&&(o=r,r={});var i,t=r.ctx;if(!t){var e=an(y,[Ve],"readwrite");if(e.error)return o(e.error);t=e.txn,t.oncomplete=function(){i&&o(null,i)}}var a=n._id,u=t.objectStore(Ve),s=u.get(a);s.onerror=Xe(o),s.onsuccess=function(t){var e=t.target.result;e&&e._rev===n._rev?(u.delete(a),i={ok:!0,id:a,rev:"0-0"},r.ctx&&o(null,i)):o(nt(z))}},h._destroy=function(t,e){un.removeAllListeners(p);var n=gn.get(p);n&&n.result&&(n.result.close(),yn.delete(p));var r=indexedDB.deleteDatabase(p);r.onsuccess=function(){gn.delete(p),D()&&p in localStorage&&delete localStorage[p],e(null,{ok:!0})},r.onerror=Xe(e)};var t=yn.get(p);if(t)return y=t.idb,h._meta=t.global,R()(function(){v(null,h)});var e=indexedDB.open(p,Ye);gn.set(p,e),e.onupgradeneeded=function(t){var e=t.target.result;if(t.oldVersion<1)return function(t){var e=t.createObjectStore(Ue,{keyPath:"id"});t.createObjectStore(We,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),t.createObjectStore(He,{keyPath:"digest"}),t.createObjectStore(Je,{keyPath:"id",autoIncrement:!1}),t.createObjectStore(Ke),e.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),t.createObjectStore(Ve,{keyPath:"_id"});var n=t.createObjectStore(Ge,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}(e);var n,r,o,i=t.currentTarget.transaction;t.oldVersion<3&&(n=e,n.createObjectStore(Ve,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})),t.oldVersion<4&&(r=e,o=r.createObjectStore(Ge,{autoIncrement:!0}),o.createIndex("seq","seq"),o.createIndex("digestSeq","digestSeq",{unique:!0}));var a=[s,c,f,l],u=t.oldVersion;!function t(){var e=a[u-1];u++;e&&e(i,t)}()},e.onsuccess=function(t){y=t.target.result,y.onversionchange=function(){y.close(),yn.delete(p)},y.onabort=function(t){L("error","Database has a global failure",t.target.error),y.close(),yn.delete(p)};var e,n,r,o,i,a,u,s,c=y.transaction([Je,Ke,Ue],"readwrite"),f=!1;function l(){void 0!==r&&f&&(h._meta={name:p,instanceId:o,blobSupport:r},yn.set(p,{idb:y,global:h._meta}),v(null,h))}function d(){if(void 0!==n&&void 0!==e){var t=p+"_id";t in e?o=e[t]:e[t]=o=Dt(),e.docCount=n,c.objectStore(Je).put(e)}}c.objectStore(Je).get(Je).onsuccess=function(t){e=t.target.result||{id:Je},d()},i=c,a=function(t){n=t,d()},u=i.objectStore(Ue).index("deletedOrLocal"),u.count(IDBKeyRange.only("0")).onsuccess=function(t){a(t.target.result)},pn||(s=c,pn=new Promise(function(n){var t=bt([""]),e=s.objectStore(Ke).put(t,"key");e.onsuccess=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),e=navigator.userAgent.match(/Edge\//);n(e||!t||43<=parseInt(t[1],10))},e.onerror=s.onabort=function(t){t.preventDefault(),t.stopPropagation(),n(!1)}}).catch(function(){return!1})),pn.then(function(t){r=t,l()}),c.oncomplete=function(){f=!0,l()},c.onabort=Xe(v)},e.onerror=function(){var t="Failed to open indexedDB, are you in private browsing mode?";L("error",t),v(nt(Z,t))}}(i,e,t)},r=t,o=i.constructor,dn.push(function(){n(function(t,e){!function(t,e,n,r){try{t(e,n)}catch(e){r.emit("error",e)}}(r,t,e,o),ln=!1,R()(function(){hn()})})}),hn()}mn.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}};var bn=25,wn=50,_n=5e3,kn=1e4,xn={};function Sn(t){var e=t.doc||t.ok,n=e._attachments;n&&Object.keys(n).forEach(function(t){var e=n[t];e.data=_t(e.data,e.content_type)})}function On(t){return/^_design/.test(t)?"_design/"+encodeURIComponent(t.slice(8)):/^_local/.test(t)?"_local/"+encodeURIComponent(t.slice(7)):encodeURIComponent(t)}function En(n){return n._attachments&&Object.keys(n._attachments)?Promise.all(Object.keys(n._attachments).map(function(t){var e=n._attachments[t];if(e.data&&"string"!=typeof e.data)return new Promise(function(t){St(e.data,t)}).then(function(t){e.data=t})})):Promise.resolve()}function jn(t,e){if(function(t){if(!t.prefix)return!1;var e=vt(t.prefix).protocol;return"http"===e||"https"===e}(e)){var n=e.name.substr(e.prefix.length),r=e.prefix.replace(/\/?$/,"/");t=r+encodeURIComponent(n)}var o=vt(t);(o.user||o.password)&&(o.auth={username:o.user,password:o.password});var i=o.path.replace(/(^\/|\/$)/g,"").split("/");return o.db=i.pop(),-1===o.db.indexOf("%")&&(o.db=encodeURIComponent(o.db)),o.path=i.join("/"),o}function Mn(t,e){return An(t,t.db+"/"+e)}function An(t,e){var n=t.path?"/":"";return t.protocol+"://"+t.host+(t.port?":"+t.port:"")+"/"+t.path+n+e}function Pn(e){return"?"+Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}function Tn(h,t){var i=this,y=jn(h.name,h),e=Mn(y,"");h=F(h);var n,u=function(t,e){if(e=e||{},e.headers=e.headers||new oe,h.auth||y.auth){var n=h.auth||y.auth,r=n.username+":"+n.password,o=mt(unescape(encodeURIComponent(r)));e.headers.set("Authorization","Basic "+o)}var i,a,u,s,c,f,l=h.headers||{};Object.keys(l).forEach(function(t){e.headers.append(t,l[t])}),i=e,a="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",u=-1!==a.indexOf("msie"),s=-1!==a.indexOf("trident"),c=-1!==a.indexOf("edge"),f=!("method"in i)||"GET"===i.method,(u||s||c)&&f&&(t+=(-1===t.indexOf("?")?"?":"&")+"_nonce="+Date.now());var d=h.fetch||re;return d(t,e)};function r(t,e){return b(t,S()(function(n){m().then(function(){return e.apply(this,n)}).catch(function(t){var e=n.pop();e(t)})})).bind(i)}function g(t,e,n){var r={};return e=e||{},e.headers=e.headers||new oe,e.headers.get("Content-Type")||e.headers.set("Content-Type","application/json"),e.headers.get("Accept")||e.headers.set("Accept","application/json"),u(t,e).then(function(t){return r.ok=t.ok,r.status=t.status,t.json()}).then(function(t){if(r.data=t,!r.ok){r.data.status=r.status;var e=rt(r.data);if(n)return n(e);throw e}if(Array.isArray(r.data)&&(r.data=r.data.map(function(t){return t.error||t.missing?rt(t):t})),!n)return r;n(null,r.data)})}function m(){return h.skip_setup?Promise.resolve():n||(n=g(e).catch(function(t){return t&&t.status&&404===t.status?(C(404,"PouchDB is just detecting if the remote exists."),g(e,{method:"PUT"})):Promise.reject(t)}).catch(function(t){return!(!t||!t.status||412!==t.status)||Promise.reject(t)}),n.catch(function(){n=null}),n)}function c(t){return t.split("/").map(encodeURIComponent).join("/")}R()(function(){t(null,i)}),i._remote=!0,i.type=function(){return"http"},i.id=r("id",function(n){u(An(y,"")).then(function(t){return t.json()}).then(function(t){var e=t&&t.uuid?t.uuid+y.db:Mn(y,"");n(null,e)}).catch(function(t){n(t)})}),i.compact=r("compact",function(r,o){"function"==typeof r&&(o=r,r={}),r=F(r),g(Mn(y,"_compact"),{method:"POST"}).then(function(){!function n(){i.info(function(t,e){e&&!e.compact_running?o(null,{ok:!0}):setTimeout(n,r.interval||200)})}()})}),i.bulkGet=b("bulkGet",function(u,s){var c=this;function t(e){var t={};u.revs&&(t.revs=!0),u.attachments&&(t.attachments=!0),u.latest&&(t.latest=!0),g(Mn(y,"_bulk_get"+Pn(t)),{method:"POST",body:JSON.stringify({docs:u.docs})}).then(function(t){u.attachments&&u.binary&&t.data.results.forEach(function(t){t.docs.forEach(Sn)}),e(null,t.data)}).catch(e)}function n(){var t=wn,r=Math.ceil(u.docs.length/t),o=0,i=new Array(r);function e(n){return function(t,e){i[n]=e.results,++o===r&&s(null,{results:it(i)})}}for(var n=0;n<r;n++){var a=k(u,["revs","attachments","binary","latest"]);a.docs=u.docs.slice(n*t,Math.min(u.docs.length,(n+1)*t)),T(c,a,e(n))}}var r=An(y,""),e=xn[r];"boolean"!=typeof e?t(function(t,e){t?(xn[r]=!1,C(t.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),n()):(xn[r]=!0,s(null,e))}):e?t(s):n()}),i._info=function(e){m().then(function(){return u(Mn(y,""))}).then(function(t){return t.json()}).then(function(t){t.host=Mn(y,""),e(null,t)}).catch(e)},i.fetch=function(t,e){return m().then(function(){return u(Mn(y,t),e)})},i.get=r("get",function(e,a,n){"function"==typeof a&&(n=a,a={}),a=F(a);var t={};function r(o){var i=o._attachments,t=i&&Object.keys(i);if(i&&t.length){var l,d,e=t.map(function(r){return function(){return t=r,n=i[t],e=On(o._id)+"/"+c(t)+"?rev="+o._rev,u(Mn(y,e)).then(function(t){return void 0===s||s.browser?t.blob():t.buffer()}).then(function(e){return a.binary?(void 0===s||s.browser||(e.type=n.content_type),e):new Promise(function(t){St(e,t)})}).then(function(t){delete n.stub,delete n.length,n.data=t});var t,n,e}});return l=e,d=5,new Promise(function(t,e){var n,r=0,o=0,i=0,a=l.length;function u(){++i===a?n?e(n):t():f()}function s(){r--,u()}function c(t){r--,n=n||t,u()}function f(){for(;r<d&&o<a;)r++,l[o++]().then(s,c)}f()})}}a.revs&&(t.revs=!0),a.revs_info&&(t.revs_info=!0),a.latest&&(t.latest=!0),a.open_revs&&("all"!==a.open_revs&&(a.open_revs=JSON.stringify(a.open_revs)),t.open_revs=a.open_revs),a.rev&&(t.rev=a.rev),a.conflicts&&(t.conflicts=a.conflicts),a.update_seq&&(t.update_seq=a.update_seq),e=On(e);var o=Mn(y,e+Pn(t));g(o).then(function(e){return Promise.resolve().then(function(){if(a.attachments)return t=e.data,Array.isArray(t)?Promise.all(t.map(function(t){if(t.ok)return r(t.ok)})):r(t);var t}).then(function(){n(null,e.data)})}).catch(function(t){t.docId=e,n(t)})}),i.remove=r("remove",function(t,e,n,r){var o;"string"==typeof e?(o={_id:t,_rev:e},"function"==typeof n&&(r=n,n={})):(o=t,n="function"==typeof e?(r=e,{}):(r=n,e));var i=o._rev||n.rev,a=Mn(y,On(o._id))+"?rev="+i;g(a,{method:"DELETE"},r).catch(r)}),i.getAttachment=r("getAttachment",function(t,e,n,r){"function"==typeof n&&(r=n,n={});var o,i=n.rev?"?rev="+n.rev:"",a=Mn(y,On(t))+"/"+c(e)+i;u(a,{method:"GET"}).then(function(t){if(o=t.headers.get("content-type"),t.ok)return void 0===s||s.browser?t.blob():t.buffer();throw t}).then(function(t){void 0===s||s.browser||(t.type=o),r(null,t)}).catch(function(t){r(t)})}),i.removeAttachment=r("removeAttachment",function(t,e,n,r){var o=Mn(y,On(t)+"/"+c(e))+"?rev="+n;g(o,{method:"DELETE"},r).catch(r)}),i.putAttachment=r("putAttachment",function(t,e,n,r,o,i){"function"==typeof o&&(i=o,o=r,r=n,n=null);var a=On(t)+"/"+c(e),u=Mn(y,a);if(n&&(u+="?rev="+n),"string"==typeof r){var s;try{s=gt(r)}catch(t){return i(nt(J,"Attachment is not a valid base64 string"))}r=s?wt(s,o):""}g(u,{headers:new oe({"Content-Type":o}),method:"PUT",body:r},i).catch(i)}),i._bulkDocs=function(t,e,n){t.new_edits=e.new_edits,m().then(function(){return Promise.all(t.docs.map(En))}).then(function(){return g(Mn(y,"_bulk_docs"),{method:"POST",body:JSON.stringify(t)},n)}).catch(n)},i._put=function(e,t,n){m().then(function(){return En(e)}).then(function(){return g(Mn(y,On(e._id)),{method:"PUT",body:JSON.stringify(e)})}).then(function(t){n(null,t.data)}).catch(function(t){t.docId=e&&e._id,n(t)})},i.allDocs=r("allDocs",function(e,n){"function"==typeof e&&(n=e,e={}),e=F(e);var t,r={},o="GET";e.conflicts&&(r.conflicts=!0),e.update_seq&&(r.update_seq=!0),e.descending&&(r.descending=!0),e.include_docs&&(r.include_docs=!0),e.attachments&&(r.attachments=!0),e.key&&(r.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(r.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(r.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(r.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(r.limit=e.limit),void 0!==e.skip&&(r.skip=e.skip);var i=Pn(r);void 0!==e.keys&&(o="POST",t={keys:e.keys}),g(Mn(y,"_all_docs"+i),{method:o,body:JSON.stringify(t)}).then(function(t){e.include_docs&&e.attachments&&e.binary&&t.data.rows.forEach(Sn),n(null,t.data)}).catch(n)}),i._changes=function(a){var u="batch_size"in a?a.batch_size:bn;a=F(a),!a.continuous||"heartbeat"in a||(a.heartbeat=kn);var t="timeout"in a?a.timeout:3e4;"timeout"in a&&a.timeout&&t-a.timeout<_n&&(t=a.timeout+_n),"heartbeat"in a&&a.heartbeat&&t-a.heartbeat<_n&&(t=a.heartbeat+_n);var o={};"timeout"in a&&a.timeout&&(o.timeout=a.timeout);var s=void 0!==a.limit&&a.limit,c=s;if(a.style&&(o.style=a.style),(a.include_docs||a.filter&&"function"==typeof a.filter)&&(o.include_docs=!0),a.attachments&&(o.attachments=!0),a.continuous&&(o.feed="longpoll"),a.seq_interval&&(o.seq_interval=a.seq_interval),a.conflicts&&(o.conflicts=!0),a.descending&&(o.descending=!0),a.update_seq&&(o.update_seq=!0),"heartbeat"in a&&a.heartbeat&&(o.heartbeat=a.heartbeat),a.filter&&"string"==typeof a.filter&&(o.filter=a.filter),a.view&&"string"==typeof a.view&&(o.filter="_view",o.view=a.view),a.query_params&&"object"==typeof a.query_params)for(var e in a.query_params)a.query_params.hasOwnProperty(e)&&(o[e]=a.query_params[e]);var i,f="GET";a.doc_ids?(o.filter="_doc_ids",f="POST",i={doc_ids:a.doc_ids}):a.selector&&(o.filter="_selector",f="POST",i={selector:a.selector});var l,d=new ne,h=function(t,e){if(!a.aborted){o.since=t,"object"==typeof o.since&&(o.since=JSON.stringify(o.since)),a.descending?s&&(o.limit=c):o.limit=!s||u<c?u:c;var n=Mn(y,"_changes"+Pn(o)),r={signal:d.signal,method:f,body:JSON.stringify(i)};l=t,a.aborted||m().then(function(){return g(n,r,e)}).catch(e)}},v={results:[]},p=function(t,e){if(!a.aborted){var n=0;if(e&&e.results){n=e.results.length,v.last_seq=e.last_seq;var r=null,o=null;"number"==typeof e.pending&&(r=e.pending),"string"!=typeof v.last_seq&&"number"!=typeof v.last_seq||(o=v.last_seq);a.query_params,e.results=e.results.filter(function(t){c--;var e=ot(a)(t);return e&&(a.include_docs&&a.attachments&&a.binary&&Sn(t),a.return_docs&&v.results.push(t),a.onChange(t,r,o)),e})}else if(t)return a.aborted=!0,void a.complete(t);e&&e.last_seq&&(l=e.last_seq);var i=s&&c<=0||e&&n<u||a.descending;(!a.continuous||s&&c<=0)&&i?a.complete(null,v):R()(function(){h(l,p)})}};return h(a.since||0,p),{cancel:function(){a.aborted=!0,d.abort()}}},i.revsDiff=r("revsDiff",function(t,e,n){"function"==typeof e&&(n=e,e={}),g(Mn(y,"_revs_diff"),{method:"POST",body:JSON.stringify(t)},n).catch(n)}),i._close=function(t){t()},i._destroy=function(t,e){g(Mn(y,""),{method:"DELETE"}).then(function(t){e(null,t)}).catch(function(t){404===t.status?e(null,{ok:!0}):e(t)})}}function Dn(t){this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Dn)}catch(t){}}function In(t){this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,In)}catch(t){}}function Ln(t){this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Ln)}catch(t){}}function Cn(t,e){return e&&t.then(function(t){R()(function(){e(null,t)})},function(t){R()(function(){e(t)})}),t}function qn(n,r){return function(){var t=arguments,e=this;return n.add(function(){return r.apply(e,t)})}}function Rn(t){var e=new O(t),n=new Array(e.size),r=-1;return e.forEach(function(t){n[++r]=t}),n}function Fn(t){var n=new Array(t.size),r=-1;return t.forEach(function(t,e){n[++r]=e}),n}function $n(t){var e="builtin "+t+" function requires map values to be numbers or number arrays";return new Ln(e)}function Nn(t){for(var e=0,n=0,r=t.length;n<r;n++){var o=t[n];if("number"!=typeof o){if(!Array.isArray(o))throw $n("_sum");e="number"==typeof e?[e]:e;for(var i=0,a=o.length;i<a;i++){var u=o[i];if("number"!=typeof u)throw $n("_sum");void 0===e[i]?e.push(u):e[i]+=u}}else"number"==typeof e?e+=o:e[0]+=o}return e}Tn.valid=function(){return!0},o()(Dn,Error),o()(In,Error),o()(Ln,Error);var Bn=L.bind(null,"log"),zn=Array.isArray,Yn=JSON.parse;function Un(t,e){return pt("return ("+t.replace(/;\s*$/,"")+");",{emit:e,sum:Nn,log:Bn,isArray:zn,toJSON:Yn})}function Wn(){this.promise=new Promise(function(t){t()})}function Hn(t){if(!t)return"undefined";switch(typeof t){case"function":case"string":return t.toString();default:return JSON.stringify(t)}}function Gn(o,i,a,u,e,n){var t,r,s,c=(t=a,r=u,Hn(t)+Hn(r)+"undefined");if(!e&&(s=o._cachedViews=o._cachedViews||{},s[c]))return s[c];var f=o.info().then(function(t){var r=t.db_name+"-mrview-"+(e?"temp":Pt(c));return yt(o,"_local/"+n,function(t){t.views=t.views||{};var e=i;-1===e.indexOf("/")&&(e=i+"/"+i);var n=t.views[e]=t.views[e]||{};if(!n[r])return n[r]=!0,t}).then(function(){return o.registerDependentDatabase(r).then(function(t){var e=t.db;e.auto_compaction=!0;var n={name:r,db:e,sourceDB:o,adapter:o.adapter,mapFun:a,reduceFun:u};return n.db.get("_local/lastSeq").catch(function(t){if(404!==t.status)throw t}).then(function(t){return n.seq=t?t.seq:0,s&&n.db.once("destroyed",function(){delete s[c]}),n})})})});return s&&(s[c]=f),f}Wn.prototype.add=function(t){return this.promise=this.promise.catch(function(){}).then(function(){return t()}),this.promise},Wn.prototype.finish=function(){return this.promise};var Jn={},Vn=new Wn;function Kn(t){return-1===t.indexOf("/")?[t,t]:t.split("/")}function Xn(t,e){try{t.emit("error",e)}catch(t){L("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),L("error",e)}}var Qn={_sum:function(t,e){return Nn(e)},_count:function(t,e){return e.length},_stats:function(t,e){return{sum:Nn(e),min:Math.min.apply(null,e),max:Math.max.apply(null,e),count:e.length,sumsqr:function(t){for(var e=0,n=0,r=t.length;n<r;n++){var o=t[n];e+=o*o}return e}(e)}}};var Zn=function(f,e,p,l){function d(e,t,n){try{t(n)}catch(t){Xn(e,t)}}function y(e,t,n,r,o){try{return{output:t(n,r,o)}}catch(t){return Xn(e,t),{error:t}}}function h(t,e){var n=pe(t.key,e.key);return 0!==n?n:pe(t.value,e.value)}function g(t){var e=t.value,n=e&&"object"==typeof e&&e._id||t.id;return n}function v(n){return function(t){var e;return n.include_docs&&n.attachments&&n.binary&&(e=t,e.rows.forEach(function(t){var n=t.doc&&t.doc._attachments;n&&Object.keys(n).forEach(function(t){var e=n[t];n[t].data=_t(e.data,e.content_type)})})),t}}function m(t,e,n,r){var o=e[t];void 0!==o&&(r&&(o=encodeURIComponent(JSON.stringify(o))),n.push(t+"="+o))}function a(t){if(void 0!==t){var e=Number(t);return isNaN(e)||e!==parseInt(t,10)?t:e}}function b(n,t){var e=n.descending?"endkey":"startkey",r=n.descending?"startkey":"endkey";if(void 0!==n[e]&&void 0!==n[r]&&0<pe(n[e],n[r]))throw new Dn("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==n.reduce){if(n.include_docs)throw new Dn("{include_docs:true} is invalid for reduce");if(n.keys&&1<n.keys.length&&!n.group&&!n.group_level)throw new Dn("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var e=function(t){if(t){if("number"!=typeof t)return new Dn('Invalid value for integer: "'+t+'"');if(t<0)return new Dn('Invalid value for positive integer: "'+t+'"')}}(n[t]);if(e)throw e})}function w(e){return function(t){if(404===t.status)return e;throw t}}function _(t,n,e){var r,o="_local/doc_"+t,i={_id:o,keys:[]},a=e.get(t),f=a[0],u=a[1];return(r=u,1===r.length&&/^1-/.test(r[0].rev)?Promise.resolve(i):n.db.get(o).catch(w(i))).then(function(e){return(t=e,t.keys.length?n.db.allDocs({keys:t.keys,include_docs:!0}):Promise.resolve({rows:[]})).then(function(t){return function(t,e){for(var r=[],o=new O,n=0,i=e.rows.length;n<i;n++){var a=e.rows[n],u=a.doc;if(u&&(r.push(u),o.add(u._id),u._deleted=!f.has(u._id),!u._deleted)){var s=f.get(u._id);"value"in s&&(u.value=s.value)}}var c=Fn(f);return c.forEach(function(t){if(!o.has(t)){var e={_id:t},n=f.get(t);"value"in n&&(e.value=n.value),r.push(e)}}),t.keys=Rn(c.concat(t.keys)),r.push(t),r}(e,t)});var t})}function o(t){var e="string"==typeof t?t:t.name,n=Jn[e];return n||(n=Jn[e]=new Wn),n}function k(t){return qn(o(t),function(){return function(a){var u,s,c=e(a.mapFun,function(t,e){var n={id:s._id,key:ye(t)};null!=e&&(n.value=ye(e)),u.push(n)}),f=a.seq||0;function r(n,i){return function(){return r=a,e=n,o=i,t="_local/lastSeq",r.db.get(t).catch(w({_id:t,seq:0})).then(function(n){var t=Fn(e);return Promise.all(t.map(function(t){return _(t,r,e)})).then(function(t){var e=it(t);return n.seq=o,e.push(n),r.db.bulkDocs({docs:e})})});var r,e,o,t}}var o=new Wn;function i(){return a.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:f,limit:50}).then(t)}function t(t){var e=t.results;if(e.length){var n=function(t){for(var e=new A,n=0,r=t.length;n<r;n++){var o=t[n];if("_"!==o.doc._id[0]){u=[],s=o.doc,s._deleted||d(a.sourceDB,c,s),u.sort(h);var i=l(u);e.set(o.doc._id,[i,o.changes])}f=o.seq}return e}(e);if(o.add(r(n,f)),!(e.length<50))return i()}}function l(t){for(var e,n=new A,r=0,o=t.length;r<o;r++){var i=t[r],a=[i.key,i.id];0<r&&0===pe(i.key,e)&&a.push(r),n.set(me(a),i),e=i.key}return n}return i().then(function(){return o.finish()}).then(function(){a.seq=f})}(t)})()}function x(t,e){return qn(o(t),function(){return function(r,o){var i,a=r.reduceFun&&!1!==o.reduce,u=o.skip||0;function n(t){return t.include_docs=!0,r.db.allDocs(t).then(function(t){return i=t.total_rows,t.rows.map(function(t){if("value"in t.doc&&"object"==typeof t.doc.value&&null!==t.doc.value){var e=Object.keys(t.doc.value).sort(),n=["id","key","value"];if(!(e<n||n<e))return t.doc.value}var r=function(t){for(var e=[],n=[],r=0;;){var o=t[r++];if("\0"!==o)switch(o){case"1":e.push(null);break;case"2":e.push("1"===t[r]),r++;break;case"3":var i=be(t,r);e.push(i.num),r+=i.length;break;case"4":for(var a="";;){var u=t[r];if("\0"===u)break;a+=u,r++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),e.push(a);break;case"5":var s={element:[],index:e.length};e.push(s.element),n.push(s);break;case"6":var c={element:{},index:e.length};e.push(c.element),n.push(c);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===e.length)return e.pop();we(e,n)}}}(t.doc._id);return{key:r[0],id:r[1],value:"value"in t.doc?t.doc.value:null}})})}function t(e){var n;if(n=a?function(t,e,n){0===n.group_level&&delete n.group_level;var r,o,i,a=n.group||n.group_level,u=p(t.reduceFun),s=[],c=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;e.forEach(function(t){var e=s[s.length-1],n=a?t.key:null;if(a&&Array.isArray(n)&&(n=n.slice(0,c)),e&&0===pe(e.groupKey,n))return e.keys.push([t.key,t.id]),void e.values.push(t.value);s.push({keys:[[t.key,t.id]],values:[t.value],groupKey:n})}),e=[];for(var f=0,l=s.length;f<l;f++){var d=s[f],h=y(t.sourceDB,u,d.keys,d.values,!1);if(h.error&&h.error instanceof Ln)throw h.error;e.push({value:h.error?null:h.output,key:d.groupKey})}return{rows:(r=e,o=n.limit,i=n.skip,i=i||0,"number"==typeof o?r.slice(i,o+i):0<i?r.slice(i):r)}}(r,e,o):{total_rows:i,offset:u,rows:e},o.update_seq&&(n.update_seq=r.seq),o.include_docs){var t=Rn(e.map(g));return r.sourceDB.allDocs({keys:t,include_docs:!0,conflicts:o.conflicts,attachments:o.attachments,binary:o.binary}).then(function(t){var r=new A;return t.rows.forEach(function(t){r.set(t.id,t.doc)}),e.forEach(function(t){var e=g(t),n=r.get(e);n&&(t.doc=n)}),n})}return n}if(void 0===o.keys||o.keys.length||(o.limit=0,delete o.keys),void 0!==o.keys){var e=o.keys,s=e.map(function(t){var e={startkey:me([t]),endkey:me([t,{}])};return o.update_seq&&(e.update_seq=!0),n(e)});return Promise.all(s).then(it).then(t)}var c,f,l={descending:o.descending};if(o.update_seq&&(l.update_seq=!0),"start_key"in o&&(c=o.start_key),"startkey"in o&&(c=o.startkey),"end_key"in o&&(f=o.end_key),"endkey"in o&&(f=o.endkey),void 0!==c&&(l.startkey=o.descending?me([c,{}]):me([c])),void 0!==f){var d=!1!==o.inclusive_end;o.descending&&(d=!d),l.endkey=me(d?[f,{}]:[f])}if(void 0!==o.key){var h=me([o.key]),v=me([o.key,{}]);l.descending?(l.endkey=h,l.startkey=v):(l.startkey=h,l.endkey=v)}return a||("number"==typeof o.limit&&(l.limit=o.limit),l.skip=u),n(l).then(t)}(t,e)})()}function u(r,e,o){if("function"==typeof r._query)return t=r,i=e,a=o,new Promise(function(n,r){t._query(i,a,function(t,e){if(t)return r(t);n(e)})});var t,i,a;if(ut(r))return function(t,e,n){var r,o,i,a=[],u="GET";if(m("reduce",n,a),m("include_docs",n,a),m("attachments",n,a),m("limit",n,a),m("descending",n,a),m("group",n,a),m("group_level",n,a),m("skip",n,a),m("stale",n,a),m("conflicts",n,a),m("startkey",n,a,!0),m("start_key",n,a,!0),m("endkey",n,a,!0),m("end_key",n,a,!0),m("inclusive_end",n,a),m("key",n,a,!0),m("update_seq",n,a),a=a.join("&"),a=""===a?"":"?"+a,void 0!==n.keys){var s="keys="+encodeURIComponent(JSON.stringify(n.keys));s.length+a.length+1<=2e3?a+=("?"===a[0]?"&":"?")+s:(u="POST","string"==typeof e?r={keys:n.keys}:e.keys=n.keys)}if("string"!=typeof e)return r=r||{},Object.keys(e).forEach(function(t){Array.isArray(e[t])?r[t]=e[t]:r[t]=e[t].toString()}),t.fetch("_temp_view"+a,{headers:new oe({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(r)}).then(function(t){return o=t.ok,i=t.status,t.json()}).then(function(t){if(!o)throw t.status=i,rt(t);return t}).then(v(n));var c=Kn(e);return t.fetch("_design/"+c[0]+"/_view/"+c[1]+a,{headers:new oe({"Content-Type":"application/json"}),method:u,body:JSON.stringify(r)}).then(function(t){return o=t.ok,i=t.status,t.json()}).then(function(t){if(!o)throw t.status=i,rt(t);return t.rows.forEach(function(t){if(t.value&&t.value.error&&"builtin_reduce_error"===t.value.error)throw new Error(t.reason)}),t}).then(v(n))}(r,e,o);if("string"!=typeof e)return b(o,e),Vn.add(function(){var t=Gn(r,"temp_view/temp_view",e.map,e.reduce,!0,f);return t.then(function(t){return e=k(t).then(function(){return x(t,o)}),n=function(){return t.db.destroy()},e.then(function(t){return n().then(function(){return t})},function(t){return n().then(function(){throw t})});var e,n})}),Vn.finish();var u=e,n=Kn(u),s=n[0],c=n[1];return r.get("_design/"+s).then(function(t){var e=t.views&&t.views[c];if(!e)throw new In("ddoc "+t._id+" has no view named "+c);l(t,c),b(o,e);var n=Gn(r,u,e.map,e.reduce,!1,f);return n.then(function(t){return"ok"===o.stale||"update_after"===o.stale?("update_after"===o.stale&&R()(function(){k(t)}),x(t,o)):k(t).then(function(){return x(t,o)})})})}var r,t=(r=function(){var t,e,r;return"function"==typeof this._viewCleanup?(t=this,new Promise(function(n,r){t._viewCleanup(function(t,e){if(t)return r(t);n(e)})})):ut(this)?(e=this,e.fetch("_view_cleanup",{headers:new oe({"Content-Type":"application/json"}),method:"POST"}).then(function(t){return t.json()})):(r=this,r.get("_local/"+f).then(function(u){var s=new A;Object.keys(u.views).forEach(function(t){var e=Kn(t),n="_design/"+e[0],r=e[1],o=s.get(n);o||(o=new O,s.set(n,o)),o.add(r)});var t={keys:Fn(s),include_docs:!0};return r.allDocs(t).then(function(t){var a={};t.rows.forEach(function(o){var i=o.key.substring(8);s.get(o.key).forEach(function(t){var e=i+"/"+t;u.views[e]||(e=t);var n=Object.keys(u.views[e]),r=o.doc&&o.doc.views&&o.doc.views[t];n.forEach(function(t){a[t]=a[t]||r})})});var e=Object.keys(a).filter(function(t){return!a[t]}),n=e.map(function(t){return qn(o(t),function(){return new r.constructor(t,r.__opts).destroy()})()});return Promise.all(n).then(function(){return{ok:!0}})})},w({ok:!0})))},S()(function(t){var e=t.pop(),n=r.apply(this,t);return"function"==typeof e&&Cn(n,e),n}));return{query:function(t,e,n){var r,o=this;"function"==typeof e&&(n=e,e={}),e=e?(r=e,r.group_level=a(r.group_level),r.limit=a(r.limit),r.skip=a(r.skip),r):{},"function"==typeof t&&(t={map:t});var i=Promise.resolve().then(function(){return u(o,t,e)});return Cn(i,n),i},viewCleanup:t}}("mrviews",function(t,e){if("function"!=typeof t||2!==t.length)return Un(t.toString(),e);var n=t;return function(t){return n(t,e)}},function(t){var e=t.toString(),n=function(t){if(/^_sum/.test(t))return Qn._sum;if(/^_count/.test(t))return Qn._count;if(/^_stats/.test(t))return Qn._stats;if(/^_/.test(t))throw new Error(t+" is not a supported reduce function.")}(e);return n||Un(e)},function(t,e){var n=t.views&&t.views[e];if("string"!=typeof n.map)throw new In("ddoc "+t._id+" has no string view named "+e+", instead found object of type: "+typeof n.map)});var tr={query:function(t,e,n){return Zn.query.call(this,t,e,n)},viewCleanup:function(t){return Zn.viewCleanup.call(this,t)}};function er(t){return/^1-/.test(t)}function nr(e,n){var t=Object.keys(n._attachments);return Promise.all(t.map(function(t){return e.getAttachment(n._id,t,{rev:n._rev})}))}function rr(s,c,o,e){o=F(o);var i=[],f=!0;function n(t){return s.allDocs({keys:t,include_docs:!0,conflicts:!0}).then(function(t){if(e.cancelled)throw new Error("cancelled");t.rows.forEach(function(t){var e,n;t.deleted||!t.doc||!er(t.value.rev)||(n=t.doc,n._attachments&&0<Object.keys(n._attachments).length)||(e=t.doc,e._conflicts&&0<e._conflicts.length)||(t.doc._conflicts&&delete t.doc._conflicts,i.push(t.doc),delete o[t.id])})})}return Promise.resolve().then(function(){var t=Object.keys(o).filter(function(t){var e=o[t].missing;return 1===e.length&&er(e[0])});if(0<t.length)return n(t)}).then(function(){var n,r,t=(n=o,r=[],Object.keys(n).forEach(function(e){var t=n[e].missing;t.forEach(function(t){r.push({id:e,rev:t})})}),{docs:r,revs:!0,latest:!0});if(t.docs.length)return s.bulkGet(t).then(function(t){if(e.cancelled)throw new Error("cancelled");return Promise.all(t.results.map(function(t){return Promise.all(t.docs.map(function(t){var i,a,u,e,n,o=t.ok;return t.error&&(f=!1),o&&o._attachments?(i=c,a=s,u=o,e=ut(a)&&!ut(i),n=Object.keys(u._attachments),e?i.get(u._id).then(function(o){return Promise.all(n.map(function(t){return e=o,n=u,r=t,e._attachments&&e._attachments[r]&&e._attachments[r].digest===n._attachments[r].digest?i.getAttachment(o._id,t):a.getAttachment(u._id,t);var e,n,r}))}).catch(function(t){if(404!==t.status)throw t;return nr(a,u)}):nr(a,u)).then(function(t){var r=Object.keys(o._attachments);return t.forEach(function(t,e){var n=o._attachments[r[e]];delete n.stub,delete n.length,n.data=t}),o}):o}))})).then(function(t){i=i.concat(it(t).filter(Boolean))})})}).then(function(){return{ok:f,docs:i}})}var or=1,ir="pouchdb",ar=5,ur=0;function sr(e,n,r,o,i){return e.get(n).catch(function(t){if(404===t.status)return"http"!==e.adapter&&"https"!==e.adapter||C(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:o,_id:n,history:[],replicator:ir,version:or};throw t}).then(function(t){if(!i.cancelled&&t.last_seq!==r)return t.history=(t.history||[]).filter(function(t){return t.session_id!==o}),t.history.unshift({last_seq:r,session_id:o}),t.history=t.history.slice(0,ar),t.version=or,t.replicator=ir,t.session_id=o,t.last_seq=r,e.put(t).catch(function(t){if(409===t.status)return sr(e,n,r,o,i);throw t})})}function cr(t,e,n,r,o){this.src=t,this.target=e,this.id=n,this.returnValue=r,this.opts=o||{}}cr.prototype.writeCheckpoint=function(t,e){var n=this;return this.updateTarget(t,e).then(function(){return n.updateSource(t,e)})},cr.prototype.updateTarget=function(t,e){return this.opts.writeTargetCheckpoint?sr(this.target,this.id,t,e,this.returnValue):Promise.resolve(!0)},cr.prototype.updateSource=function(t,e){if(this.opts.writeSourceCheckpoint){var n=this;return sr(this.src,this.id,t,e,this.returnValue).catch(function(t){if(dr(t))return n.opts.writeSourceCheckpoint=!1,!0;throw t})}return Promise.resolve(!0)};var fr={undefined:function(t,e){return 0===pe(t.last_seq,e.last_seq)?e.last_seq:0},1:function(t,e){return(n=e,r=t,n.session_id!==r.session_id?function t(e,n){var r=e[0],o=e.slice(1),i=n[0],a=n.slice(1);if(!r||0===n.length)return{last_seq:ur,history:[]};var u=r.session_id;if(lr(u,n))return{last_seq:r.last_seq,history:e};var s=i.session_id;return lr(s,o)?{last_seq:i.last_seq,history:a}:t(o,a)}(n.history,r.history):{last_seq:n.last_seq,history:n.history}).last_seq;var n,r}};function lr(t,e){var n=e[0],r=e.slice(1);return!(!t||0===e.length)&&(t===n.session_id||lr(t,r))}function dr(t){return"number"==typeof t.status&&4===Math.floor(t.status/100)}cr.prototype.getCheckpoint=function(){var e=this;return e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then(function(t){return t.last_seq||ur}).catch(function(t){if(404!==t.status)throw t;return ur}):e.target.get(e.id).then(function(n){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?n.last_seq||ur:e.src.get(e.id).then(function(t){return n.version!==t.version?ur:(e=n.version?n.version.toString():"undefined",e in fr?fr[e](n,t):ur);var e},function(t){if(404===t.status&&n.last_seq)return e.src.put({_id:e.id,last_seq:ur}).then(function(){return ur},function(t){return dr(t)?(e.opts.writeSourceCheckpoint=!1,n.last_seq):ur});throw t})}).catch(function(t){if(404!==t.status)throw t;return ur})};var hr=0;function vr(t,e,n){var r,o=n.doc_ids?n.doc_ids.sort(pe):"",i=n.filter?n.filter.toString():"",a="",u="",s="";return n.selector&&(s=JSON.stringify(n.selector)),n.filter&&n.query_params&&(a=JSON.stringify((r=n.query_params,Object.keys(r).sort(pe).reduce(function(t,e){return t[e]=r[e],t},{})))),n.filter&&"_view"===n.filter&&(u=n.view.toString()),Promise.all([t.id(),e.id()]).then(function(t){var e=t[0]+t[1]+i+u+a+o+s;return new Promise(function(t){At(e,t)})}).then(function(t){return t=t.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+t})}function pr(r,o,i,a,u){var s,n,c,f=[],l={seq:0,changes:[],docs:[]},d=!1,h=!1,v=!1,p=0,y=i.continuous||i.live||!1,e=i.batch_size||100,g=i.batches_limit||10,m=!1,b=i.doc_ids,w=i.selector,_=[],k=Dt();u=u||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var x={};function t(){return c?Promise.resolve():vr(r,o,i).then(function(t){n=t;var e={};e=!1===i.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===i.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===i.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},c=new cr(r,o,n,a,e)})}function S(){if(_=[],0!==s.docs.length){var n=s.docs,t={timeout:i.timeout};return o.bulkDocs({docs:n,new_edits:!1},t).then(function(t){if(a.cancelled)throw P(),new Error("cancelled");var r=Object.create(null);t.forEach(function(t){t.error&&(r[t.id]=t)});var e=Object.keys(r).length;u.doc_write_failures+=e,u.docs_written+=n.length-e,n.forEach(function(t){var e=r[t._id];if(e){u.errors.push(e);var n=(e.name||"").toLowerCase();if("unauthorized"!==n&&"forbidden"!==n)throw e;a.emit("denied",F(e))}else _.push(t)})},function(t){throw u.doc_write_failures+=n.length,t})}}function O(){if(s.error)throw new Error("There was a problem getting docs.");u.last_seq=p=s.seq;var t=F(u);return _.length&&(t.docs=_,"number"==typeof s.pending&&(t.pending=s.pending,delete s.pending),a.emit("change",t)),d=!0,c.writeCheckpoint(s.seq,k).then(function(){if(d=!1,a.cancelled)throw P(),new Error("cancelled");s=void 0,L()}).catch(function(t){throw q(t),t})}function E(){return rr(r,o,s.diffs,a).then(function(t){s.error=!t.ok,t.docs.forEach(function(t){delete s.diffs[t._id],u.docs_read++,s.docs.push(t)})})}function j(){var e;a.cancelled||s||(0!==f.length?(s=f.shift(),(e={},s.changes.forEach(function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map(function(t){return t.rev}))}),o.revsDiff(e).then(function(t){if(a.cancelled)throw P(),new Error("cancelled");s.diffs=t})).then(E).then(S).then(O).then(j).catch(function(t){A("batch processing terminated with error",t)})):M(!0))}function M(t){0!==l.changes.length?(t||h||l.changes.length>=e)&&(f.push(l),l={seq:0,changes:[],docs:[]},"pending"!==a.state&&"stopped"!==a.state||(a.state="active",a.emit("active")),j()):0!==f.length||s||((y&&x.live||h)&&(a.state="pending",a.emit("paused")),h&&P())}function A(t,e){v||(e.message||(e.message=t),u.ok=!1,u.status="aborting",f=[],l={seq:0,changes:[],docs:[]},P(e))}function P(t){if(!(v||a.cancelled&&(u.status="cancelled",d)))if(u.status=u.status||"complete",u.end_time=(new Date).toISOString(),u.last_seq=p,v=!0,t){t=nt(t),t.result=u;var e=(t.name||"").toLowerCase();"unauthorized"===e||"forbidden"===e?(a.emit("error",t),a.removeAllListeners()):function(t,e,n,r){if(!1===t.retry)return e.emit("error",n),e.removeAllListeners();if("function"!=typeof t.back_off_function&&(t.back_off_function=$),e.emit("requestError",n),"active"===e.state||"pending"===e.state){e.emit("paused",n),e.state="stopped";var o=function(){t.current_back_off=hr};e.once("paused",function(){e.removeListener("active",o)}),e.once("active",o)}t.current_back_off=t.current_back_off||hr,t.current_back_off=t.back_off_function(t.current_back_off),setTimeout(r,t.current_back_off)}(i,a,t,function(){pr(r,o,i,a)})}else a.emit("complete",u),a.removeAllListeners()}function T(t,e,n){if(a.cancelled)return P();"number"==typeof e&&(l.pending=e);var r=ot(i)(t);r&&(l.seq=t.seq||n,l.changes.push(t),R()(function(){M(0===f.length&&x.live)}))}function D(t){if(m=!1,a.cancelled)return P();if(0<t.results.length)x.since=t.results[t.results.length-1].seq,L(),M(!0);else{var e=function(){y?(x.live=!0,L()):h=!0,M(!0)};s||0!==t.results.length?e():(d=!0,c.writeCheckpoint(t.last_seq,k).then(function(){d=!1,u.last_seq=p=t.last_seq,e()}).catch(q))}}function I(t){if(m=!1,a.cancelled)return P();A("changes rejected",t)}function L(){if(!m&&!h&&f.length<g){m=!0,a._changes&&(a.removeListener("cancel",a._abortChanges),a._changes.cancel()),a.once("cancel",e);var t=r.changes(x).on("change",T);t.then(n,n),t.then(D).catch(I),i.retry&&(a._changes=t,a._abortChanges=e)}function e(){t.cancel()}function n(){a.removeListener("cancel",e)}}function C(){t().then(function(){if(!a.cancelled)return c.getCheckpoint().then(function(t){p=t,x={since:p,limit:e,batch_size:e,style:"all_docs",doc_ids:b,selector:w,return_docs:!0},i.filter&&("string"!=typeof i.filter?x.include_docs=!0:x.filter=i.filter),"heartbeat"in i&&(x.heartbeat=i.heartbeat),"timeout"in i&&(x.timeout=i.timeout),i.query_params&&(x.query_params=i.query_params),i.view&&(x.view=i.view),L()});P()}).catch(function(t){A("getCheckpoint rejected with ",t)})}function q(t){d=!1,A("writeCheckpoint completed with error",t)}a.ready(r,o),a.cancelled?P():(a._addedListeners||(a.once("cancel",P),"function"==typeof i.complete&&(a.once("error",i.complete),a.once("complete",function(t){i.complete(null,t)})),a._addedListeners=!0),void 0===i.since?C():t().then(function(){return d=!0,c.writeCheckpoint(i.since,k)}).then(function(){d=!1,a.cancelled?P():(p=i.since,C())}).catch(q))}function yr(){u.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var n=this,r=new Promise(function(t,e){n.once("complete",t),n.once("error",e)});n.then=function(t,e){return r.then(t,e)},n.catch=function(t){return r.catch(t)},n.catch(function(){})}function gr(t,e){var n=e.PouchConstructor;return"string"==typeof t?new n(t,e):t}function mr(t,e,n,r){if("function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw nt(X,"`doc_ids` filter parameter is not a list.");n.complete=r,n=F(n),n.continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var o=new yr(n),i=gr(t,n),a=gr(e,n);return pr(i,a,n,o),o}function br(t,e,n,r){return"function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n=F(n),n.PouchConstructor=n.PouchConstructor||this,t=gr(t,n),e=gr(e,n),new wr(t,e,n,r)}function wr(t,e,n,r){var u=this;this.canceled=!1;var o=n.push?q({},n,n.push):n,i=n.pull?q({},n,n.pull):n;function s(t){u.emit("change",{direction:"pull",change:t})}function c(t){u.emit("change",{direction:"push",change:t})}function f(t){u.emit("denied",{direction:"push",doc:t})}function l(t){u.emit("denied",{direction:"pull",doc:t})}function d(){u.pushPaused=!0,u.pullPaused&&u.emit("paused")}function h(){u.pullPaused=!0,u.pushPaused&&u.emit("paused")}function v(){u.pushPaused=!1,u.pullPaused&&u.emit("active",{direction:"push"})}function p(){u.pullPaused=!1,u.pushPaused&&u.emit("active",{direction:"pull"})}this.push=mr(t,e,o),this.pull=mr(e,t,i),this.pushPaused=!0,this.pullPaused=!0;var y={};function a(a){return function(t,e){var n="change"===t&&(e===s||e===c),r="denied"===t&&(e===l||e===f),o="paused"===t&&(e===h||e===d),i="active"===t&&(e===p||e===v);(n||r||o||i)&&(t in y||(y[t]={}),y[t][a]=!0,2===Object.keys(y[t]).length&&u.removeAllListeners(t))}}function g(t,e,n){-1==t.listeners(e).indexOf(n)&&t.on(e,n)}n.live&&(this.push.on("complete",u.pull.cancel.bind(u.pull)),this.pull.on("complete",u.push.cancel.bind(u.push))),this.on("newListener",function(t){"change"===t?(g(u.pull,"change",s),g(u.push,"change",c)):"denied"===t?(g(u.pull,"denied",l),g(u.push,"denied",f)):"active"===t?(g(u.pull,"active",p),g(u.push,"active",v)):"paused"===t&&(g(u.pull,"paused",h),g(u.push,"paused",d))}),this.on("removeListener",function(t){"change"===t?(u.pull.removeListener("change",s),u.push.removeListener("change",c)):"denied"===t?(u.pull.removeListener("denied",l),u.push.removeListener("denied",f)):"active"===t?(u.pull.removeListener("active",p),u.push.removeListener("active",v)):"paused"===t&&(u.pull.removeListener("paused",h),u.push.removeListener("paused",d))}),this.pull.on("removeListener",a("pull")),this.push.on("removeListener",a("push"));var m=Promise.all([this.push,this.pull]).then(function(t){var e={push:t[0],pull:t[1]};return u.emit("complete",e),r&&r(null,e),u.removeAllListeners(),e},function(t){if(u.cancel(),r?r(t):u.emit("error",t),u.removeAllListeners(),r)throw t});this.then=function(t,e){return m.then(t,e)},this.catch=function(t){return m.catch(t)}}o()(yr,u.EventEmitter),yr.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},yr.prototype.ready=function(t,e){var n=this;function r(){n.cancel()}n._readyCalled||(n._readyCalled=!0,t.once("destroyed",r),e.once("destroyed",r),n.once("complete",function(){t.removeListener("destroyed",r),e.removeListener("destroyed",r)}))},o()(wr,u.EventEmitter),wr.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},ee.plugin(function(t){t.adapter("idb",mn,!0)}).plugin(function(t){t.adapter("http",Tn,!1),t.adapter("https",Tn,!1)}).plugin(tr).plugin(function(t){t.replicate=mr,t.sync=br,Object.defineProperty(t.prototype,"replicate",{get:function(){var r=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,e,n){return r.constructor.replicate(t,r,e,n)},to:function(t,e,n){return r.constructor.replicate(r,t,e,n)}}),this.replicateMethods}}),t.prototype.sync=function(t,e,n){return this.constructor.sync(this,t,e,n)}}),_r.a=ee}).call(this,kr(56),kr(505))},function(t,e,n){var r=n(23),o=n(3),i="__core-js_shared__",a=o[i]||(o[i]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(35)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var s=n(20),c=n(9),f=n(41);t.exports=function(u){return function(t,e,n){var r,o=s(t),i=c(o.length),a=f(n,i);if(u&&e!=e){for(;a<i;)if(r=o[a++],r!=r)return!0}else for(;a<i;a++)if((u||a in o)&&o[a]===e)return u||a||0;return!u&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(25);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(5),o=n(25),i=n(6)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,n){var i=n(6)("iterator"),a=!1;try{var r=[7][i]();r.return=function(){a=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!a)return!1;var n=!1;try{var r=[7],o=r[i]();o.next=function(){return{done:n=!0}},r[i]=function(){return o},t(r)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(2);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var u=n(15),s=n(16),c=n(4),f=n(28),l=n(6);t.exports=function(e,t,n){var r=l(e),o=n(f,r,""[e]),i=o[0],a=o[1];c(function(){var t={};return t[r]=function(){return 7},7!=""[e](t)})&&(s(String.prototype,e,i),u(RegExp.prototype,r,2==t?function(t,e){return a.call(t,this,e)}:function(t){return a.call(t,this)}))}},function(t,e,n){var o=n(2),i=n(13),a=n(6)("species");t.exports=function(t,e){var n,r=o(t).constructor;return void 0===r||null==(n=o(r)[a])?e:i(n)}},function(t,e,n){var r=n(3),o=r.navigator;t.exports=o&&o.userAgent||""},function(t,e,n){"use strict";var g=n(3),m=n(0),b=n(16),w=n(47),_=n(34),k=n(46),x=n(45),S=n(5),O=n(4),E=n(71),j=n(51),M=n(93);t.exports=function(r,t,e,n,o,i){var a=g[r],u=a,s=o?"set":"add",c=u&&u.prototype,f={},l=function(t){var n=c[t];b(c,t,"delete"==t?function(t){return!(i&&!S(t))&&n.call(this,0===t?0:t)}:"has"==t?function(t){return!(i&&!S(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return i&&!S(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,e){return n.call(this,0===t?0:t,e),this})};if("function"==typeof u&&(i||c.forEach&&!O(function(){(new u).entries().next()}))){var d=new u,h=d[s](i?{}:-0,1)!=d,v=O(function(){d.has(1)}),p=E(function(t){new u(t)}),y=!i&&O(function(){for(var t=new u,e=5;e--;)t[s](e,e);return!t.has(-0)});p||(u=t(function(t,e){x(t,u,r);var n=M(new a,t,u);return null!=e&&k(e,o,n[s],n),n}),u.prototype=c,c.constructor=u),(v||y)&&(l("delete"),l("has"),o&&l("get")),(y||h)&&l(s),i&&c.clear&&delete c.clear}else u=n.getConstructor(t,r,o,s),w(u.prototype,e),_.NEED=!0;return j(u,r),f[r]=u,m(m.G+m.W+m.F*(u!=a),f),i||n.setStrong(u,r,o),u}},function(t,e,n){for(var r,o=n(3),i=n(15),a=n(39),u=a("typed_array"),s=a("view"),c=!(!o.ArrayBuffer||!o.DataView),f=c,l=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(r=o[d[l++]])?(i(r.prototype,u,!0),i(r.prototype,s,!0)):f=!1;t.exports={ABV:c,CONSTR:f,TYPED:u,VIEW:s}},function(t,e,n){"use strict";t.exports=n(35)||!n(4)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(3)[t]})},function(t,e,n){"use strict";var r=n(0);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){"use strict";var r=n(0),a=n(13),u=n(24),s=n(46);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,o,i=arguments[1];return a(this),e=void 0!==i,e&&a(i),null==t?new this:(n=[],e?(r=0,o=u(i,arguments[2],2),s(t,!1,function(t){n.push(o(t,r++))})):s(t,!1,n.push,n),new this(n))}})}},function(t,e,n){var a=n(1);t.exports=function(t,e){var n=e&&Number(e.weekStartsOn)||0,r=a(t),o=r.getDay(),i=(o<n?7:0)+o-n;return r.setDate(r.getDate()-i),r.setHours(0,0,0,0),r}},function(t,e,n){var a=n(50);t.exports=function(t,e){var n=a(t),r=a(e),o=n.getTime()-6e4*n.getTimezoneOffset(),i=r.getTime()-6e4*r.getTimezoneOffset();return Math.round((o-i)/864e5)}},function(t,e,n){var u=n(1),s=n(113);t.exports=function(t,e){var n=u(t),r=Number(e),o=n.getMonth()+r,i=new Date(0);i.setFullYear(n.getFullYear(),o,1),i.setHours(0,0,0,0);var a=s(i);return n.setMonth(o,Math.min(a,n.getDate())),n}},function(t,e,n){var o=n(1);t.exports=function(t,e){var n=o(t),r=o(e);return n.getTime()-r.getTime()}},function(t,e,n){t.exports={addDays:n(60),addHours:n(159),addISOYears:n(160),addMilliseconds:n(61),addMinutes:n(162),addMonths:n(83),addQuarters:n(163),addSeconds:n(164),addWeeks:n(114),addYears:n(165),areRangesOverlapping:n(404),closestIndexTo:n(405),closestTo:n(406),compareAsc:n(63),compareDesc:n(115),differenceInCalendarDays:n(82),differenceInCalendarISOWeeks:n(407),differenceInCalendarISOYears:n(166),differenceInCalendarMonths:n(167),differenceInCalendarQuarters:n(408),differenceInCalendarWeeks:n(409),differenceInCalendarYears:n(169),differenceInDays:n(170),differenceInHours:n(410),differenceInISOYears:n(411),differenceInMilliseconds:n(84),differenceInMinutes:n(412),differenceInMonths:n(116),differenceInQuarters:n(413),differenceInSeconds:n(117),differenceInWeeks:n(414),differenceInYears:n(415),distanceInWords:n(172),distanceInWordsStrict:n(419),distanceInWordsToNow:n(420),eachDay:n(421),endOfDay:n(119),endOfHour:n(422),endOfISOWeek:n(423),endOfISOYear:n(424),endOfMinute:n(425),endOfMonth:n(174),endOfQuarter:n(426),endOfSecond:n(427),endOfToday:n(428),endOfTomorrow:n(429),endOfWeek:n(173),endOfYear:n(430),endOfYesterday:n(431),format:n(432),getDate:n(433),getDay:n(434),getDayOfYear:n(175),getDaysInMonth:n(113),getDaysInYear:n(435),getHours:n(436),getISODay:n(179),getISOWeek:n(120),getISOWeeksInYear:n(437),getISOYear:n(48),getMilliseconds:n(438),getMinutes:n(439),getMonth:n(440),getOverlappingDaysInRanges:n(441),getQuarter:n(168),getSeconds:n(442),getTime:n(443),getYear:n(444),isAfter:n(445),isBefore:n(446),isDate:n(112),isEqual:n(447),isFirstDayOfMonth:n(448),isFriday:n(449),isFuture:n(450),isLastDayOfMonth:n(451),isLeapYear:n(178),isMonday:n(452),isPast:n(453),isSameDay:n(454),isSameHour:n(180),isSameISOWeek:n(182),isSameISOYear:n(183),isSameMinute:n(184),isSameMonth:n(186),isSameQuarter:n(187),isSameSecond:n(189),isSameWeek:n(121),isSameYear:n(191),isSaturday:n(455),isSunday:n(456),isThisHour:n(457),isThisISOWeek:n(458),isThisISOYear:n(459),isThisMinute:n(460),isThisMonth:n(461),isThisQuarter:n(462),isThisSecond:n(463),isThisWeek:n(464),isThisYear:n(465),isThursday:n(466),isToday:n(467),isTomorrow:n(468),isTuesday:n(469),isValid:n(177),isWednesday:n(470),isWeekend:n(471),isWithinRange:n(472),isYesterday:n(473),lastDayOfISOWeek:n(474),lastDayOfISOYear:n(475),lastDayOfMonth:n(476),lastDayOfQuarter:n(477),lastDayOfWeek:n(192),lastDayOfYear:n(478),max:n(479),min:n(480),parse:n(1),setDate:n(481),setDay:n(482),setDayOfYear:n(483),setHours:n(484),setISODay:n(485),setISOWeek:n(486),setISOYear:n(161),setMilliseconds:n(487),setMinutes:n(488),setMonth:n(193),setQuarter:n(489),setSeconds:n(490),setYear:n(491),startOfDay:n(50),startOfHour:n(181),startOfISOWeek:n(49),startOfISOYear:n(62),startOfMinute:n(185),startOfMonth:n(492),startOfQuarter:n(188),startOfSecond:n(190),startOfToday:n(493),startOfTomorrow:n(494),startOfWeek:n(81),startOfYear:n(176),startOfYesterday:n(495),subDays:n(496),subHours:n(497),subISOYears:n(171),subMilliseconds:n(498),subMinutes:n(499),subMonths:n(500),subQuarters:n(501),subSeconds:n(502),subWeeks:n(503),subYears:n(504)}},function(t,e,n){var r=n(5),o=n(3).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(3),o=n(23),i=n(35),a=n(126),u=n(8).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||u(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(66)("keys"),o=n(39);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(3).document;t.exports=r&&r.documentElement},function(t,e,o){var n=o(5),r=o(2),i=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{r=o(24)(Function.call,o(21).f(Object.prototype,"__proto__").set,2),r(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return i(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:i}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var i=n(5),a=n(91).set;t.exports=function(t,e,n){var r,o=e.constructor;return o!==n&&"function"==typeof o&&(r=o.prototype)!==n.prototype&&i(r)&&a&&a(t,r),t}},function(t,e,n){"use strict";var o=n(29),i=n(28);t.exports=function(t){var e=String(i(this)),n="",r=o(t);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;0<r;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||22025.465794806718<n(10)||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:-1e-6<t&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var s=n(29),c=n(28);t.exports=function(u){return function(t,e){var n,r,o=String(c(t)),i=s(e),a=o.length;return i<0||a<=i?u?"":void 0:(n=o.charCodeAt(i),n<55296||56319<n||i+1===a||(r=o.charCodeAt(i+1))<56320||57343<r?u?o.charAt(i):n:u?o.slice(i,i+2):r-56320+(n-55296<<10)+65536)}}},function(t,e,n){"use strict";var b=n(35),w=n(0),_=n(16),k=n(15),x=n(53),S=n(99),O=n(51),E=n(22),j=n(6)("iterator"),M=!([].keys&&"next"in[].keys()),A="values",P=function(){return this};t.exports=function(t,e,n,r,o,i,a){S(n,e,r);var u,s,c,f=function(t){if(!M&&t in v)return v[t];switch(t){case"keys":case A:return function(){return new n(this,t)}}return function(){return new n(this,t)}},l=e+" Iterator",d=o==A,h=!1,v=t.prototype,p=v[j]||v["@@iterator"]||o&&v[o],y=p||f(o),g=o?d?f("entries"):y:void 0,m="Array"==e&&v.entries||p;if(m&&(c=E(m.call(new t)),c!==Object.prototype&&c.next&&(O(c,l,!0),b||"function"==typeof c[j]||k(c,j,P))),d&&p&&p.name!==A&&(h=!0,y=function(){return p.call(this)}),b&&!a||!M&&!h&&v[j]||k(v,j,y),x[e]=y,x[l]=P,o)if(u={values:d?y:f(A),keys:i?y:f("keys"),entries:g},a)for(s in u)s in v||_(v,s,u[s]);else w(w.P+w.F*(M||h),e,u);return u}},function(t,e,n){"use strict";var r=n(42),o=n(38),i=n(51),a={};n(15)(a,n(6)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(70),o=n(28);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(t))}},function(t,e,n){var r=n(6)("match");t.exports=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[r]=!1,!"/./"[e](n)}catch(t){}}return!0}},function(t,e,n){var r=n(53),o=n(6)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){"use strict";var r=n(8),o=n(38);t.exports=function(t,e,n){e in t?r.f(t,e,o(0,n)):t[e]=n}},function(t,e,n){var r=n(59),o=n(6)("iterator"),i=n(53);t.exports=n(23).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(291);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){"use strict";var u=n(12),s=n(41),c=n(9);t.exports=function(t){for(var e=u(this),n=c(e.length),r=arguments.length,o=s(1<r?arguments[1]:void 0,n),i=2<r?arguments[2]:void 0,a=void 0===i?n:s(i,n);o<a;)e[o++]=t;return e}},function(t,e,n){"use strict";var r=n(36),o=n(142),i=n(53),a=n(20);t.exports=n(98)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r,o,i,a=n(24),u=n(132),s=n(90),c=n(86),f=n(3),l=f.process,d=f.setImmediate,h=f.clearImmediate,v=f.MessageChannel,p=f.Dispatch,y=0,g={},m="onreadystatechange",b=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},w=function(t){b.call(t.data)};d&&h||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++y]=function(){u("function"==typeof t?t:Function(t),e)},r(y),y},h=function(t){delete g[t]},"process"==n(25)(l)?r=function(t){l.nextTick(a(b,t,1))}:p&&p.now?r=function(t){p.now(a(b,t,1))}:v?(o=new v,i=o.port2,o.port1.onmessage=w,r=a(i.postMessage,i,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(t){f.postMessage(t+"","*")},f.addEventListener("message",w,!1)):r=m in c("script")?function(t){s.appendChild(c("script"))[m]=function(){s.removeChild(this),b.call(t)}}:function(t){setTimeout(a(b,t,1),0)}),t.exports={set:d,clear:h}},function(t,e,n){var u=n(3),s=n(108).set,c=u.MutationObserver||u.WebKitMutationObserver,f=u.process,l=u.Promise,d="process"==n(25)(f);t.exports=function(){var n,r,o,t=function(){var t,e;for(d&&(t=f.domain)&&t.exit();n;){e=n.fn,n=n.next;try{e()}catch(t){throw n?o():r=void 0,t}}r=void 0,t&&t.enter()};if(d)o=function(){f.nextTick(t)};else if(!c||u.navigator&&u.navigator.standalone)if(l&&l.resolve){var e=l.resolve(void 0);o=function(){e.then(t)}}else o=function(){s.call(u,t)};else{var i=!0,a=document.createTextNode("");new c(t).observe(a,{characterData:!0}),o=function(){a.data=i=!i}}return function(t){var e={fn:t,next:void 0};r&&(r.next=e),n||(n=e,o()),r=e}}},function(t,e,n){"use strict";var o=n(13);function r(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=o(n),this.reject=o(r)}t.exports.f=function(t){return new r(t)}},function(t,e,n){"use strict";var r=n(3),o=n(7),i=n(35),a=n(77),u=n(15),s=n(47),c=n(4),f=n(45),l=n(29),d=n(9),h=n(151),v=n(43).f,p=n(8).f,y=n(106),g=n(51),m="ArrayBuffer",b="DataView",w="prototype",_="Wrong index!",k=r[m],x=r[b],S=r.Math,O=r.RangeError,E=r.Infinity,j=k,M=S.abs,A=S.pow,P=S.floor,T=S.log,D=S.LN2,I="byteLength",L="byteOffset",C=o?"_b":"buffer",q=o?"_l":I,R=o?"_o":L;function F(t,e,n){var r,o,i,a=new Array(n),u=8*n-e-1,s=(1<<u)-1,c=s>>1,f=23===e?A(2,-24)-A(2,-77):0,l=0,d=t<0||0===t&&1/t<0?1:0;for(t=M(t),t!=t||t===E?(o=t!=t?1:0,r=s):(r=P(T(t)/D),t*(i=A(2,-r))<1&&(r--,i*=2),t+=1<=r+c?f/i:f*A(2,1-c),2<=t*i&&(r++,i/=2),s<=r+c?(o=0,r=s):1<=r+c?(o=(t*i-1)*A(2,e),r+=c):(o=t*A(2,c-1)*A(2,e),r=0));8<=e;a[l++]=255&o,o/=256,e-=8);for(r=r<<e|o,u+=e;0<u;a[l++]=255&r,r/=256,u-=8);return a[--l]|=128*d,a}function $(t,e,n){var r,o=8*n-e-1,i=(1<<o)-1,a=i>>1,u=o-7,s=n-1,c=t[s--],f=127&c;for(c>>=7;0<u;f=256*f+t[s],s--,u-=8);for(r=f&(1<<-u)-1,f>>=-u,u+=e;0<u;r=256*r+t[s],s--,u-=8);if(0===f)f=1-a;else{if(f===i)return r?NaN:c?-E:E;r+=A(2,e),f-=a}return(c?-1:1)*r*A(2,f-e)}function N(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function B(t){return[255&t]}function z(t){return[255&t,t>>8&255]}function Y(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function U(t){return F(t,52,8)}function W(t){return F(t,23,4)}function H(t,e,n){p(t[w],e,{get:function(){return this[n]}})}function G(t,e,n,r){var o=+n,i=h(o);if(i+e>t[q])throw O(_);var a=t[C]._b,u=i+t[R],s=a.slice(u,u+e);return r?s:s.reverse()}function J(t,e,n,r,o,i){var a=+n,u=h(a);if(u+e>t[q])throw O(_);for(var s=t[C]._b,c=u+t[R],f=r(+o),l=0;l<e;l++)s[c+l]=f[i?l:e-l-1]}if(a.ABV){if(!c(function(){k(1)})||!c(function(){new k(-1)})||c(function(){return new k,new k(1.5),new k(NaN),k.name!=m})){k=function(t){return f(this,k),new j(h(t))};for(var V,K=k[w]=j[w],X=v(j),Q=0;X.length>Q;)(V=X[Q++])in k||u(k,V,j[V]);i||(K.constructor=k)}var Z=new x(new k(2)),tt=x[w].setInt8;Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||s(x[w],{setInt8:function(t,e){tt.call(this,t,e<<24>>24)},setUint8:function(t,e){tt.call(this,t,e<<24>>24)}},!0)}else k=function(t){f(this,k,m);var e=h(t);this._b=y.call(new Array(e),0),this[q]=e},x=function(t,e,n){f(this,x,b),f(t,k,b);var r=t[q],o=l(e);if(o<0||r<o)throw O("Wrong offset!");if(n=void 0===n?r-o:d(n),r<o+n)throw O("Wrong length!");this[C]=t,this[R]=o,this[q]=n},o&&(H(k,I,"_l"),H(x,"buffer","_b"),H(x,I,"_l"),H(x,L,"_o")),s(x[w],{getInt8:function(t){return G(this,1,t)[0]<<24>>24},getUint8:function(t){return G(this,1,t)[0]},getInt16:function(t){var e=G(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=G(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return N(G(this,4,t,arguments[1]))},getUint32:function(t){return N(G(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return $(G(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return $(G(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){J(this,1,t,B,e)},setUint8:function(t,e){J(this,1,t,B,e)},setInt16:function(t,e){J(this,2,t,z,e,arguments[2])},setUint16:function(t,e){J(this,2,t,z,e,arguments[2])},setInt32:function(t,e){J(this,4,t,Y,e,arguments[2])},setUint32:function(t,e){J(this,4,t,Y,e,arguments[2])},setFloat32:function(t,e){J(this,4,t,W,e,arguments[2])},setFloat64:function(t,e){J(this,8,t,U,e,arguments[2])}});g(k,m),g(x,b),u(x[w],a.VIEW,!0),e[m]=k,e[b]=x},function(t,e){t.exports=function(t){return t instanceof Date}},function(t,e,n){var i=n(1);t.exports=function(t){var e=i(t),n=e.getFullYear(),r=e.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}},function(t,e,n){var o=n(60);t.exports=function(t,e){var n=Number(e),r=7*n;return o(t,r)}},function(t,e,n){var a=n(1);t.exports=function(t,e){var n=a(t),r=n.getTime(),o=a(e),i=o.getTime();return i<r?-1:r<i?1:0}},function(t,e,n){var u=n(1),s=n(167),c=n(63);t.exports=function(t,e){var n=u(t),r=u(e),o=c(n,r),i=Math.abs(s(n,r));n.setMonth(n.getMonth()-o*i);var a=c(n,r)===-o;return o*(i-a)}},function(t,e,n){var r=n(84);t.exports=function(t,e){var n=r(t,e)/1e3;return 0<n?Math.floor(n):Math.ceil(n)}},function(t,e,n){var r=n(416),o=n(417);t.exports={distanceInWords:r(),format:o()}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t);return e.setHours(23,59,59,999),e}},function(t,e,n){var r=n(1),o=n(49),i=n(62);t.exports=function(t){var e=r(t),n=o(e).getTime()-i(e).getTime();return Math.round(n/6048e5)+1}},function(t,e,n){var i=n(81);t.exports=function(t,e,n){var r=i(t,n),o=i(e,n);return r.getTime()===o.getTime()}},function(t,e,n){var r=n(506),o=n(507),i=o;i.v1=r,i.v4=o,t.exports=i},function(t,e,n){"use strict";function h(t,e,n){var r=n[n.length-1];t===r.element&&(n.pop(),r=n[n.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(t);else if(i===e.length-2){var a=e.pop();o[a]=t}else e.push(t)}e.stringify=function(t){var e=[];e.push({obj:t});for(var n,r,o,i,a,u,s,c,f,l,d,h="";n=e.pop();)if(r=n.obj,o=n.prefix||"",i=n.val||"",h+=o,i)h+=i;else if("object"!=typeof r)h+=void 0===r?null:JSON.stringify(r);else if(null===r)h+="null";else if(Array.isArray(r)){for(e.push({val:"]"}),a=r.length-1;0<=a;a--)u=0===a?"":",",e.push({obj:r[a],prefix:u});e.push({val:"["})}else{for(c in s=[],r)r.hasOwnProperty(c)&&s.push(c);for(e.push({val:"}"}),a=s.length-1;0<=a;a--)f=s[a],l=r[f],d=0<a?",":"",d+=JSON.stringify(f)+":",e.push({obj:l,prefix:d});e.push({val:"{"})}return h},e.parse=function(t){for(var e,n,r,o,i,a,u,s,c,f=[],l=[],d=0;;)if(e=t[d++],"}"!==e&&"]"!==e&&void 0!==e)switch(e){case" ":case"\t":case"\n":case":":case",":break;case"n":d+=3,h(null,f,l);break;case"t":d+=3,h(!0,f,l);break;case"f":d+=4,h(!1,f,l);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",d--;;){if(r=t[d++],!/[\d\.\-e\+]/.test(r)){d--;break}n+=r}h(parseFloat(n),f,l);break;case'"':for(o="",i=void 0,a=0;u=t[d++],'"'!==u||"\\"===i&&a%2==1;)o+=u,i=u,"\\"===i?a++:a=0;h(JSON.parse('"'+o+'"'),f,l);break;case"[":s={element:[],index:f.length},f.push(s.element),l.push(s);break;case"{":c={element:{},index:f.length},f.push(c.element),l.push(c);break;default:throw new Error("unexpectedly reached end of input: "+e)}else{if(1===f.length)return f.pop();h(f.pop(),f,l)}}},function(t,e,n){var r=n(508),o=n(509),i=o;i.v1=r,i.v4=o,t.exports=i},function(t,e,n){t.exports=!n(7)&&!n(4)(function(){return 7!=Object.defineProperty(n(86)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){e.f=n(6)},function(t,e,n){var a=n(19),u=n(20),s=n(67)(!1),c=n(88)("IE_PROTO");t.exports=function(t,e){var n,r=u(t),o=0,i=[];for(n in r)n!=c&&a(r,n)&&i.push(n);for(;e.length>o;)a(r,n=e[o++])&&(~s(i,n)||i.push(n));return i}},function(t,e,n){var a=n(8),u=n(2),s=n(40);t.exports=n(7)?Object.defineProperties:function(t,e){u(t);for(var n,r=s(e),o=r.length,i=0;i<o;)a.f(t,n=r[i++],e[n]);return t}},function(t,e,n){var r=n(20),o=n(43).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return a.slice()}}(t):o(r(t))}},function(t,e,n){"use strict";var d=n(40),h=n(68),v=n(58),p=n(12),y=n(57),o=Object.assign;t.exports=!o||n(4)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=o({},t)[n]||Object.keys(o({},e)).join("")!=r})?function(t,e){for(var n=p(t),r=arguments.length,o=1,i=h.f,a=v.f;o<r;)for(var u,s=y(arguments[o++]),c=i?d(s).concat(i(s)):d(s),f=c.length,l=0;l<f;)a.call(s,u=c[l++])&&(n[u]=s[u]);return n}:o},function(t,e,n){"use strict";var i=n(13),a=n(5),u=n(132),s=[].slice,c={};t.exports=Function.bind||function(e){var n=i(this),r=s.call(arguments,1),o=function(){var t=r.concat(s.call(arguments));return this instanceof o?function(t,e,n){if(!(e in c)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";c[e]=Function("F,a","return new F("+r.join(",")+")")}return c[e](t,n)}(n,t.length,t):u(n,t,e)};return a(n.prototype)&&(o.prototype=n.prototype),o}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(3).parseInt,o=n(52).trim,i=n(92),a=/^[-+]?0[xX]/;t.exports=8!==r(i+"08")||22!==r(i+"0x16")?function(t,e){var n=o(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},function(t,e,n){var r=n(3).parseFloat,o=n(52).trim;t.exports=1/r(n(92)+"-0")!=-1/0?function(t){var e=o(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){var r=n(25);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){var r=n(5),o=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&o(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return-1e-8<(t=+t)&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var a=n(95),r=Math.pow,u=r(2,-52),s=r(2,-23),c=r(2,127)*(2-s),f=r(2,-126);t.exports=Math.fround||function(t){var e,n,r,o=Math.abs(t),i=a(t);return o<f?i*(r=o/f/s,r+1/u-1/u)*f*s:(e=(1+s/u)*o,n=e-(e-o),c<n||n!=n?i*(1/0):i*n)}},function(t,e,n){var i=n(2);t.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&i(o.call(e)),t}}},function(t,e,n){var f=n(13),l=n(12),d=n(57),h=n(9);t.exports=function(t,e,n,r,o){f(e);var i=l(t),a=d(i),u=h(i.length),s=o?u-1:0,c=o?-1:1;if(n<2)for(;;){if(s in a){r=a[s],s+=c;break}if(s+=c,o?s<0:u<=s)throw TypeError("Reduce of empty array with no initial value")}for(;o?0<=s:s<u;s+=c)s in a&&(r=e(r,a[s],s,i));return r}},function(t,e,n){"use strict";var c=n(12),f=n(41),l=n(9);t.exports=[].copyWithin||function(t,e){var n=c(this),r=l(n.length),o=f(t,r),i=f(e,r),a=2<arguments.length?arguments[2]:void 0,u=Math.min((void 0===a?r:f(a,r))-i,r-o),s=1;for(i<o&&o<i+u&&(s=-1,i+=u-1,o+=u-1);0<u--;)i in n?n[o]=n[i]:delete n[o],o+=s,i+=s;return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){n(7)&&"g"!=/./g.flags&&n(8).f(RegExp.prototype,"flags",{configurable:!0,get:n(72)})},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var o=n(2),i=n(5),a=n(110);t.exports=function(t,e){if(o(t),i(e)&&e.constructor===t)return e;var n=a.f(t),r=n.resolve;return r(e),n.promise}},function(t,e,n){"use strict";var r=n(147),o=n(54);t.exports=n(76)("Map",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(o(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(o(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var a=n(8).f,u=n(42),s=n(47),c=n(24),f=n(45),l=n(46),r=n(98),o=n(142),i=n(44),d=n(7),h=n(34).fastKey,v=n(54),p=d?"_s":"size",y=function(t,e){var n,r=h(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,i,n,r){var o=t(function(t,e){f(t,o,i,"_i"),t._t=i,t._i=u(null),t._f=void 0,t._l=void 0,t[p]=0,null!=e&&l(e,n,t[r],t)});return s(o.prototype,{clear:function(){for(var t=v(this,i),e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[p]=0},delete:function(t){var e=v(this,i),n=y(e,t);if(n){var r=n.n,o=n.p;delete e._i[n.i],n.r=!0,o&&(o.n=r),r&&(r.p=o),e._f==n&&(e._f=r),e._l==n&&(e._l=o),e[p]--}return!!n},forEach:function(t){v(this,i);for(var e,n=c(t,1<arguments.length?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!y(v(this,i),t)}}),d&&a(o.prototype,"size",{get:function(){return v(this,i)[p]}}),o},def:function(t,e,n){var r,o,i=y(t,e);return i?i.v=n:(t._l=i={i:o=h(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=i),r&&(r.n=i),t[p]++,"F"!==o&&(t._i[o]=i)),t},getEntry:y,setStrong:function(t,n,e){r(t,n,function(t,e){this._t=v(t,n),this._k=e,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?o(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,o(1))},e?"entries":"values",!e,!0),i(n)}}},function(t,e,n){"use strict";var r=n(147),o=n(54);t.exports=n(76)("Set",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{add:function(t){return r.def(o(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var i,r=n(31)(0),a=n(16),o=n(34),u=n(130),s=n(150),c=n(5),f=n(4),l=n(54),d="WeakMap",h=o.getWeak,v=Object.isExtensible,p=s.ufstore,y={},g=function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},m={get:function(t){if(c(t)){var e=h(t);return!0===e?p(l(this,d)).get(t):e?e[this._i]:void 0}},set:function(t,e){return s.def(l(this,d),t,e)}},b=t.exports=n(76)(d,g,m,s,!0,!0);f(function(){return 7!=(new b).set((Object.freeze||Object)(y),7).get(y)})&&(i=s.getConstructor(g,d),u(i.prototype,m),o.NEED=!0,r(["delete","has","get","set"],function(r){var t=b.prototype,o=t[r];a(t,r,function(t,e){if(!c(t)||v(t))return o.call(this,t,e);this._f||(this._f=new i);var n=this._f[r](t,e);return"set"==r?this:n})}))},function(t,e,n){"use strict";var a=n(47),u=n(34).getWeak,o=n(2),s=n(5),c=n(45),f=n(46),r=n(31),l=n(19),d=n(54),i=r(5),h=r(6),v=0,p=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},g=function(t,e){return i(t.a,function(t){return t[0]===e})};y.prototype={get:function(t){var e=g(this,t);if(e)return e[1]},has:function(t){return!!g(this,t)},set:function(t,e){var n=g(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(e){var t=h(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(t,n,r,o){var i=t(function(t,e){c(t,i,n,"_i"),t._t=n,t._i=v++,t._l=void 0,null!=e&&f(e,r,t[o],t)});return a(i.prototype,{delete:function(t){if(!s(t))return!1;var e=u(t);return!0===e?p(d(this,n)).delete(t):e&&l(e,this._i)&&delete e[this._i]},has:function(t){if(!s(t))return!1;var e=u(t);return!0===e?p(d(this,n)).has(t):e&&l(e,this._i)}}),i},def:function(t,e,n){var r=u(o(e),!0);return!0===r?p(t).set(e,n):r[t._i]=n,t},ufstore:p}},function(t,e,n){var r=n(29),o=n(9);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=o(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var r=n(43),o=n(68),i=n(2),a=n(3).Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(i(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){"use strict";var v=n(69),p=n(5),y=n(9),g=n(24),m=n(6)("isConcatSpreadable");t.exports=function t(e,n,r,o,i,a,u,s){for(var c,f,l=i,d=0,h=!!u&&g(u,s,3);d<o;){if(d in r){if(c=h?h(r[d],d,n):r[d],f=!1,p(c)&&(f=c[m],f=void 0!==f?!!f:v(c)),f&&0<a)l=t(e,n,c,y(c.length),l,a-1)-1;else{if(9007199254740991<=l)throw TypeError();e[l]=c}l++}d++}return l}},function(t,e,n){var f=n(9),l=n(94),d=n(28);t.exports=function(t,e,n,r){var o=String(d(t)),i=o.length,a=void 0===n?" ":String(n),u=f(e);if(u<=i||""==a)return o;var s=u-i,c=l.call(a,Math.ceil(s/a.length));return c.length>s&&(c=c.slice(0,s)),r?c+o:o+c}},function(t,e,n){var s=n(40),c=n(20),f=n(58).f;t.exports=function(u){return function(t){for(var e,n=c(t),r=s(n),o=r.length,i=0,a=[];i<o;)f.call(n,e=r[i++])&&a.push(u?[e,n[e]]:n[e]);return a}}},function(t,e,n){var r=n(59),o=n(157);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},function(t,e,n){var r=n(46);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e){t.exports=Math.scale||function(t,e,n,r,o){return 0===arguments.length||t!=t||e!=e||n!=n||r!=r||o!=o?NaN:t===1/0||t===-1/0?t:(t-e)*(o-r)/(n-e)+r}},function(t,e,n){var r=n(61);t.exports=function(t,e){var n=Number(e);return r(t,36e5*n)}},function(t,e,n){var r=n(48),o=n(161);t.exports=function(t,e){var n=Number(e);return o(t,r(t)+n)}},function(t,e,n){var a=n(1),u=n(62),s=n(82);t.exports=function(t,e){var n=a(t),r=Number(e),o=s(n,u(n)),i=new Date(0);return i.setFullYear(r,0,4),i.setHours(0,0,0,0),n=u(i),n.setDate(n.getDate()+o),n}},function(t,e,n){var r=n(61);t.exports=function(t,e){var n=Number(e);return r(t,6e4*n)}},function(t,e,n){var o=n(83);t.exports=function(t,e){var n=Number(e),r=3*n;return o(t,r)}},function(t,e,n){var r=n(61);t.exports=function(t,e){var n=Number(e);return r(t,1e3*n)}},function(t,e,n){var r=n(83);t.exports=function(t,e){var n=Number(e);return r(t,12*n)}},function(t,e,n){var r=n(48);t.exports=function(t,e){return r(t)-r(e)}},function(t,e,n){var a=n(1);t.exports=function(t,e){var n=a(t),r=a(e),o=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return 12*o+i}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t),n=Math.floor(e.getMonth()/3)+1;return n}},function(t,e,n){var o=n(1);t.exports=function(t,e){var n=o(t),r=o(e);return n.getFullYear()-r.getFullYear()}},function(t,e,n){var u=n(1),s=n(82),c=n(63);t.exports=function(t,e){var n=u(t),r=u(e),o=c(n,r),i=Math.abs(s(n,r));n.setDate(n.getDate()-o*i);var a=c(n,r)===-o;return o*(i-a)}},function(t,e,n){var r=n(160);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var b=n(115),w=n(1),_=n(117),k=n(116),x=n(118);t.exports=function(t,e,n){var r=n||{},o=b(t,e),i=r.locale,a=x.distanceInWords.localize;i&&i.distanceInWords&&i.distanceInWords.localize&&(a=i.distanceInWords.localize);var u,s,c={addSuffix:Boolean(r.addSuffix),comparison:o};s=0<o?(u=w(t),w(e)):(u=w(e),w(t));var f,l=_(s,u),d=s.getTimezoneOffset()-u.getTimezoneOffset(),h=Math.round(l/60)-d;if(h<2)return r.includeSeconds?l<5?a("lessThanXSeconds",5,c):l<10?a("lessThanXSeconds",10,c):l<20?a("lessThanXSeconds",20,c):l<40?a("halfAMinute",null,c):a(l<60?"lessThanXMinutes":"xMinutes",1,c):0===h?a("lessThanXMinutes",1,c):a("xMinutes",h,c);if(h<45)return a("xMinutes",h,c);if(h<90)return a("aboutXHours",1,c);if(h<1440){var v=Math.round(h/60);return a("aboutXHours",v,c)}if(h<2520)return a("xDays",1,c);if(h<43200){var p=Math.round(h/1440);return a("xDays",p,c)}if(h<86400)return f=Math.round(h/43200),a("aboutXMonths",f,c);if(f=k(s,u),f<12){var y=Math.round(h/43200);return a("xMonths",y,c)}var g=f%12,m=Math.floor(f/12);return g<3?a("aboutXYears",m,c):g<9?a("overXYears",m,c):a("almostXYears",m+1,c)}},function(t,e,n){var a=n(1);t.exports=function(t,e){var n=e&&Number(e.weekStartsOn)||0,r=a(t),o=r.getDay(),i=6+(o<n?-7:0)-(o-n);return r.setDate(r.getDate()+i),r.setHours(23,59,59,999),r}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}},function(t,e,n){var o=n(1),i=n(176),a=n(82);t.exports=function(t){var e=o(t),n=a(e,i(e)),r=n+1;return r}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}},function(t,e,n){var r=n(112);t.exports=function(t){if(r(t))return!isNaN(t);throw new TypeError(toString.call(t)+" is not an instance of Date")}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t),n=e.getFullYear();return n%400==0||n%4==0&&n%100!=0}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t),n=e.getDay();return 0===n&&(n=7),n}},function(t,e,n){var o=n(181);t.exports=function(t,e){var n=o(t),r=o(e);return n.getTime()===r.getTime()}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t);return e.setMinutes(0,0,0),e}},function(t,e,n){var r=n(121);t.exports=function(t,e){return r(t,e,{weekStartsOn:1})}},function(t,e,n){var o=n(62);t.exports=function(t,e){var n=o(t),r=o(e);return n.getTime()===r.getTime()}},function(t,e,n){var o=n(185);t.exports=function(t,e){var n=o(t),r=o(e);return n.getTime()===r.getTime()}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t);return e.setSeconds(0,0),e}},function(t,e,n){var o=n(1);t.exports=function(t,e){var n=o(t),r=o(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}},function(t,e,n){var o=n(188);t.exports=function(t,e){var n=o(t),r=o(e);return n.getTime()===r.getTime()}},function(t,e,n){var o=n(1);t.exports=function(t){var e=o(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}},function(t,e,n){var o=n(190);t.exports=function(t,e){var n=o(t),r=o(e);return n.getTime()===r.getTime()}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t);return e.setMilliseconds(0),e}},function(t,e,n){var o=n(1);t.exports=function(t,e){var n=o(t),r=o(e);return n.getFullYear()===r.getFullYear()}},function(t,e,n){var a=n(1);t.exports=function(t,e){var n=e&&Number(e.weekStartsOn)||0,r=a(t),o=r.getDay(),i=6+(o<n?-7:0)-(o-n);return r.setHours(0,0,0,0),r.setDate(r.getDate()+i),r}},function(t,e,n){var s=n(1),c=n(113);t.exports=function(t,e){var n=s(t),r=Number(e),o=n.getFullYear(),i=n.getDate(),a=new Date(0);a.setFullYear(o,r,15),a.setHours(0,0,0,0);var u=c(a);return n.setMonth(r,Math.min(i,u)),n}},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e){for(var o=[],n=0;n<256;++n)o[n]=(n+256).toString(16).substr(1);t.exports=function(t,e){var n=e||0,r=o;return r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]}},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e){for(var o=[],n=0;n<256;++n)o[n]=(n+256).toString(16).substr(1);t.exports=function(t,e){var n=e||0,r=o;return r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]}},function(t,e){function n(){return"serviceWorker"in navigator&&("https:"===window.location.protocol||"localhost"===window.location.hostname||0===window.location.hostname.indexOf("127."))}e.install=function(t){t||(t={}),n()&&navigator.serviceWorker.register("/sw.js",{})},e.applyUpdate=function(t,e){},e.update=function(){n()&&navigator.serviceWorker.getRegistration().then(function(t){if(t)return t.update()})}},function(t,e,n){"use strict";(function(t){if(n(200),n(397),n(398),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;function e(t,e,n){t[e]||Object.defineProperty(t,e,{writable:!0,configurable:!0,value:n})}e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}).call(this,n(56))},function(t,e,n){n(201),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(281),n(282),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(107),n(305),n(306),n(143),n(307),n(308),n(309),n(310),n(311),n(146),n(148),n(149),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),t.exports=n(23)},function(t,e,n){"use strict";var r=n(3),a=n(19),o=n(7),i=n(0),u=n(16),s=n(34).KEY,c=n(4),f=n(66),l=n(51),d=n(39),h=n(6),v=n(126),p=n(87),y=n(202),g=n(69),m=n(2),b=n(5),w=n(20),_=n(27),k=n(38),x=n(42),S=n(129),O=n(21),E=n(8),j=n(40),M=O.f,A=E.f,P=S.f,T=r.Symbol,D=r.JSON,I=D&&D.stringify,L="prototype",C=h("_hidden"),q=h("toPrimitive"),R={}.propertyIsEnumerable,F=f("symbol-registry"),$=f("symbols"),N=f("op-symbols"),B=Object[L],z="function"==typeof T,Y=r.QObject,U=!Y||!Y[L]||!Y[L].findChild,W=o&&c(function(){return 7!=x(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=M(B,e);r&&delete B[e],A(t,e,n),r&&t!==B&&A(B,e,r)}:A,H=function(t){var e=$[t]=x(T[L]);return e._k=t,e},G=z&&"symbol"==typeof T.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof T},J=function(t,e,n){return t===B&&J(N,e,n),m(t),e=_(e,!0),m(n),a($,e)?(n.enumerable?(a(t,C)&&t[C][e]&&(t[C][e]=!1),n=x(n,{enumerable:k(0,!1)})):(a(t,C)||A(t,C,k(1,{})),t[C][e]=!0),W(t,e,n)):A(t,e,n)},V=function(t,e){m(t);for(var n,r=y(e=w(e)),o=0,i=r.length;o<i;)J(t,n=r[o++],e[n]);return t},K=function(t){var e=R.call(this,t=_(t,!0));return!(this===B&&a($,t)&&!a(N,t))&&(!(e||!a(this,t)||!a($,t)||a(this,C)&&this[C][t])||e)},X=function(t,e){if(t=w(t),e=_(e,!0),t!==B||!a($,e)||a(N,e)){var n=M(t,e);return!n||!a($,e)||a(t,C)&&t[C][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=P(w(t)),r=[],o=0;n.length>o;)a($,e=n[o++])||e==C||e==s||r.push(e);return r},Z=function(t){for(var e,n=t===B,r=P(n?N:w(t)),o=[],i=0;r.length>i;)!a($,e=r[i++])||n&&!a(B,e)||o.push($[e]);return o};z||(T=function(){if(this instanceof T)throw TypeError("Symbol is not a constructor!");var e=d(0<arguments.length?arguments[0]:void 0),n=function(t){this===B&&n.call(N,t),a(this,C)&&a(this[C],e)&&(this[C][e]=!1),W(this,e,k(1,t))};return o&&U&&W(B,e,{configurable:!0,set:n}),H(e)},u(T[L],"toString",function(){return this._k}),O.f=X,E.f=J,n(43).f=S.f=Q,n(58).f=K,n(68).f=Z,o&&!n(35)&&u(B,"propertyIsEnumerable",K,!0),v.f=function(t){return H(h(t))}),i(i.G+i.W+i.F*!z,{Symbol:T});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)h(tt[et++]);for(var nt=j(h.store),rt=0;nt.length>rt;)p(nt[rt++]);i(i.S+i.F*!z,"Symbol",{for:function(t){return a(F,t+="")?F[t]:F[t]=T(t)},keyFor:function(t){if(!G(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){U=!0},useSimple:function(){U=!1}}),i(i.S+i.F*!z,"Object",{create:function(t,e){return void 0===e?x(t):V(x(t),e)},defineProperty:J,defineProperties:V,getOwnPropertyDescriptor:X,getOwnPropertyNames:Q,getOwnPropertySymbols:Z}),D&&i(i.S+i.F*(!z||c(function(){var t=T();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(b(e)||void 0!==t)&&!G(t))return g(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!G(e))return e}),r[1]=e,I.apply(D,r)}}),T[L][q]||n(15)(T[L],q,T[L].valueOf),l(T,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,e,n){var u=n(40),s=n(68),c=n(58);t.exports=function(t){var e=u(t),n=s.f;if(n)for(var r,o=n(t),i=c.f,a=0;o.length>a;)i.call(t,r=o[a++])&&e.push(r);return e}},function(t,e,n){var r=n(0);r(r.S,"Object",{create:n(42)})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(7),"Object",{defineProperty:n(8).f})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(7),"Object",{defineProperties:n(128)})},function(t,e,n){var r=n(20),o=n(21).f;n(30)("getOwnPropertyDescriptor",function(){return function(t,e){return o(r(t),e)}})},function(t,e,n){var r=n(12),o=n(22);n(30)("getPrototypeOf",function(){return function(t){return o(r(t))}})},function(t,e,n){var r=n(12),o=n(40);n(30)("keys",function(){return function(t){return o(r(t))}})},function(t,e,n){n(30)("getOwnPropertyNames",function(){return n(129).f})},function(t,e,n){var r=n(5),o=n(34).onFreeze;n(30)("freeze",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(t,e,n){var r=n(5),o=n(34).onFreeze;n(30)("seal",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(t,e,n){var r=n(5),o=n(34).onFreeze;n(30)("preventExtensions",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(t,e,n){var r=n(5);n(30)("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(t,e,n){var r=n(5);n(30)("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(t,e,n){var r=n(5);n(30)("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})},function(t,e,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(130)})},function(t,e,n){var r=n(0);r(r.S,"Object",{is:n(218)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(91).set})},function(t,e,n){"use strict";var r=n(59),o={};o[n(6)("toStringTag")]="z",o+""!="[object z]"&&n(16)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){var r=n(0);r(r.P,"Function",{bind:n(131)})},function(t,e,n){var r=n(8).f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||n(7)&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(5),o=n(22),i=n(6)("hasInstance"),a=Function.prototype;i in a||n(8).f(a,i,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=o(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(0),o=n(133);r(r.G+r.F*(parseInt!=o),{parseInt:o})},function(t,e,n){var r=n(0),o=n(134);r(r.G+r.F*(parseFloat!=o),{parseFloat:o})},function(t,e,n){"use strict";var r=n(3),o=n(19),i=n(25),a=n(93),f=n(27),u=n(4),s=n(43).f,c=n(21).f,l=n(8).f,d=n(52).trim,h="Number",v=r[h],p=v,y=v.prototype,g=i(n(42)(y))==h,m="trim"in String.prototype,b=function(t){var e=f(t,!1);if("string"==typeof e&&2<e.length){e=m?e.trim():d(e,3);var n,r,o,i=e.charCodeAt(0);if(43===i||45===i){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var a,u=e.slice(2),s=0,c=u.length;s<c;s++)if(a=u.charCodeAt(s),a<48||o<a)return NaN;return parseInt(u,r)}}return+e};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof v&&(g?u(function(){y.valueOf.call(n)}):i(n)!=h)?a(new p(b(e)),n,v):b(e)};for(var w,_=n(7)?s(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;_.length>k;k++)o(p,w=_[k])&&!o(v,w)&&l(v,w,c(p,w));v.prototype=y,y.constructor=v,n(16)(r,h,v)}},function(t,e,n){"use strict";var r=n(0),c=n(29),f=n(135),l=n(94),o=1..toFixed,i=Math.floor,a=[0,0,0,0,0,0],d="Number.toFixed: incorrect invocation!",h=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*a[n],a[n]=r%1e7,r=i(r/1e7)},v=function(t){for(var e=6,n=0;0<=--e;)n+=a[e],a[e]=i(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";0<=--t;)if(""!==e||0===t||0!==a[t]){var n=String(a[t]);e=""===e?n:e+l.call("0",7-n.length)+n}return e},y=function(t,e,n){return 0===e?n:e%2==1?y(t,e-1,n*t):y(t*t,e/2,n)};r(r.P+r.F*(!!o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(4)(function(){o.call({})})),"Number",{toFixed:function(t){var e,n,r,o,i=f(this,d),a=c(t),u="",s="0";if(a<0||20<a)throw RangeError(d);if(i!=i)return"NaN";if(i<=-1e21||1e21<=i)return String(i);if(i<0&&(u="-",i=-i),1e-21<i)if(e=function(t){for(var e=0,n=t;4096<=n;)e+=12,n/=4096;for(;2<=n;)e+=1,n/=2;return e}(i*y(2,69,1))-69,n=e<0?i*y(2,-e,1):i/y(2,e,1),n*=4503599627370496,e=52-e,0<e){for(h(0,n),r=a;7<=r;)h(1e7,0),r-=7;for(h(y(10,r,1),0),r=e-1;23<=r;)v(1<<23),r-=23;v(1<<r),h(1,1),v(2),s=p()}else h(0,n),h(1<<-e,0),s=p()+l.call("0",a);return s=0<a?(o=s.length,u+(o<=a?"0."+l.call("0",a-o)+s:s.slice(0,o-a)+"."+s.slice(o-a))):u+s,s}})},function(t,e,n){"use strict";var r=n(0),o=n(4),i=n(135),a=1..toPrecision;r(r.P+r.F*(o(function(){return"1"!==a.call(1,void 0)})||!o(function(){a.call({})})),"Number",{toPrecision:function(t){var e=i(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(0),o=n(3).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&o(t)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{isInteger:n(136)})},function(t,e,n){var r=n(0);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(0),o=n(136),i=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return o(t)&&i(t)<=9007199254740991}})},function(t,e,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(0),o=n(134);r(r.S+r.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},function(t,e,n){var r=n(0),o=n(133);r(r.S+r.F*(Number.parseInt!=o),"Number",{parseInt:o})},function(t,e,n){var r=n(0),o=n(137),i=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:94906265.62425156<t?Math.log(t)+Math.LN2:o(t-1+i(t-1)*i(t+1))}})},function(t,e,n){var r=n(0),o=Math.asinh;r(r.S+r.F*!(o&&0<1/o(0)),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var r=n(0),o=Math.atanh;r(r.S+r.F*!(o&&1/o(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(0),o=n(95);r(r.S,"Math",{cbrt:function(t){return o(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(0),o=Math.exp;r(r.S,"Math",{cosh:function(t){return(o(t=+t)+o(-t))/2}})},function(t,e,n){var r=n(0),o=n(96);r(r.S+r.F*(o!=Math.expm1),"Math",{expm1:o})},function(t,e,n){var r=n(0);r(r.S,"Math",{fround:n(138)})},function(t,e,n){var r=n(0),s=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,i=0,a=arguments.length,u=0;i<a;)n=s(arguments[i++]),u<n?(r=u/n,o=o*r*r+1,u=n):0<n?(r=n/u,o+=r*r):o+=n;return u===1/0?1/0:u*Math.sqrt(o)}})},function(t,e,n){var r=n(0),o=Math.imul;r(r.S+r.F*n(4)(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function(t,e){var n=+t,r=+e,o=65535&n,i=65535&r;return 0|o*i+((65535&n>>>16)*i+o*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log1p:n(137)})},function(t,e,n){var r=n(0);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(0);r(r.S,"Math",{sign:n(95)})},function(t,e,n){var r=n(0),o=n(96),i=Math.exp;r(r.S+r.F*n(4)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(o(t)-o(-t))/2:(i(t-1)-i(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(0),o=n(96),i=Math.exp;r(r.S,"Math",{tanh:function(t){var e=o(t=+t),n=o(-t);return e==1/0?1:n==1/0?-1:(e-n)/(i(t)+i(-t))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{trunc:function(t){return(0<t?Math.floor:Math.ceil)(t)}})},function(t,e,n){var r=n(0),i=n(41),a=String.fromCharCode,o=String.fromCodePoint;r(r.S+r.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,o=0;o<r;){if(e=+arguments[o++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?a(e):a(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(0),a=n(20),u=n(9);r(r.S,"String",{raw:function(t){for(var e=a(t.raw),n=u(e.length),r=arguments.length,o=[],i=0;i<n;)o.push(String(e[i++])),i<r&&o.push(String(arguments[i]));return o.join("")}})},function(t,e,n){"use strict";n(52)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var r=n(97)(!0);n(98)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var r=n(0),o=n(97)(!1);r(r.P,"String",{codePointAt:function(t){return o(this,t)}})},function(t,e,n){"use strict";var r=n(0),a=n(9),u=n(100),s="endsWith",c=""[s];r(r.P+r.F*n(101)(s),"String",{endsWith:function(t){var e=u(this,t,s),n=1<arguments.length?arguments[1]:void 0,r=a(e.length),o=void 0===n?r:Math.min(a(n),r),i=String(t);return c?c.call(e,i,o):e.slice(o-i.length,o)===i}})},function(t,e,n){"use strict";var r=n(0),o=n(100);r(r.P+r.F*n(101)("includes"),"String",{includes:function(t){return!!~o(this,t,"includes").indexOf(t,1<arguments.length?arguments[1]:void 0)}})},function(t,e,n){var r=n(0);r(r.P,"String",{repeat:n(94)})},function(t,e,n){"use strict";var r=n(0),o=n(9),i=n(100),a="startsWith",u=""[a];r(r.P+r.F*n(101)(a),"String",{startsWith:function(t){var e=i(this,t,a),n=o(Math.min(1<arguments.length?arguments[1]:void 0,e.length)),r=String(t);return u?u.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";n(17)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(t,e,n){"use strict";n(17)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(17)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(17)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(17)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(17)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(t,e,n){"use strict";n(17)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(t,e,n){"use strict";n(17)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(17)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(t,e,n){"use strict";n(17)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(17)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(17)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(17)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var r=n(0),o=n(12),i=n(27);r(r.P+r.F*n(4)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=o(this),n=i(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var r=n(0),o=n(280);r(r.P+r.F*(Date.prototype.toISOString!==o),"Date",{toISOString:o})},function(t,e,n){"use strict";var r=n(4),o=Date.prototype.getTime,i=Date.prototype.toISOString,a=function(t){return 9<t?t:"0"+t};t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-5e13-1))})||!r(function(){i.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var t=this.getUTCFullYear(),e=this.getUTCMilliseconds(),n=t<0?"-":9999<t?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+(99<e?e:"0"+a(e))+"Z"}:i},function(t,e,n){var r=Date.prototype,o="Invalid Date",i=r.toString,a=r.getTime;new Date(NaN)+""!=o&&n(16)(r,"toString",function(){var t=a.call(this);return t==t?i.call(this):o})},function(t,e,n){var r=n(6)("toPrimitive"),o=Date.prototype;r in o||n(15)(o,r,n(283))},function(t,e,n){"use strict";var r=n(2),o=n(27);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return o(r(this),"number"!=t)}},function(t,e,n){var r=n(0);r(r.S,"Array",{isArray:n(69)})},function(t,e,n){"use strict";var d=n(24),r=n(0),h=n(12),v=n(139),p=n(102),y=n(9),g=n(103),m=n(104);r(r.S+r.F*!n(71)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,o,i=h(t),a="function"==typeof this?this:Array,u=arguments.length,s=1<u?arguments[1]:void 0,c=void 0!==s,f=0,l=m(i);if(c&&(s=d(s,2<u?arguments[2]:void 0,2)),null==l||a==Array&&p(l))for(e=y(i.length),n=new a(e);f<e;f++)g(n,f,c?s(i[f],f):i[f]);else for(o=l.call(i),n=new a;!(r=o.next()).done;f++)g(n,f,c?v(o,s,[r.value,f],!0):r.value);return n.length=f,n}})},function(t,e,n){"use strict";var r=n(0),o=n(103);r(r.S+r.F*n(4)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);t<e;)o(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(0),o=n(20),i=[].join;r(r.P+r.F*(n(57)!=Object||!n(26)(i)),"Array",{join:function(t){return i.call(o(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(0),o=n(90),c=n(25),f=n(41),l=n(9),d=[].slice;r(r.P+r.F*n(4)(function(){o&&d.call(o)}),"Array",{slice:function(t,e){var n=l(this.length),r=c(this);if(e=void 0===e?n:e,"Array"==r)return d.call(this,t,e);for(var o=f(t,n),i=f(e,n),a=l(i-o),u=new Array(a),s=0;s<a;s++)u[s]="String"==r?this.charAt(o+s):this[o+s];return u}})},function(t,e,n){"use strict";var r=n(0),o=n(13),i=n(12),a=n(4),u=[].sort,s=[1,2,3];r(r.P+r.F*(a(function(){s.sort(void 0)})||!a(function(){s.sort(null)})||!n(26)(u)),"Array",{sort:function(t){return void 0===t?u.call(i(this)):u.call(i(this),o(t))}})},function(t,e,n){"use strict";var r=n(0),o=n(31)(0),i=n(26)([].forEach,!0);r(r.P+r.F*!i,"Array",{forEach:function(t){return o(this,t,arguments[1])}})},function(t,e,n){var r=n(5),o=n(69),i=n(6)("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&(e=e[i],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(0),o=n(31)(1);r(r.P+r.F*!n(26)([].map,!0),"Array",{map:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),o=n(31)(2);r(r.P+r.F*!n(26)([].filter,!0),"Array",{filter:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),o=n(31)(3);r(r.P+r.F*!n(26)([].some,!0),"Array",{some:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),o=n(31)(4);r(r.P+r.F*!n(26)([].every,!0),"Array",{every:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),o=n(140);r(r.P+r.F*!n(26)([].reduce,!0),"Array",{reduce:function(t){return o(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var r=n(0),o=n(140);r(r.P+r.F*!n(26)([].reduceRight,!0),"Array",{reduceRight:function(t){return o(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(0),o=n(67)(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(26)(i)),"Array",{indexOf:function(t){return a?i.apply(this,arguments)||0:o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),o=n(20),i=n(29),a=n(9),u=[].lastIndexOf,s=!!u&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(s||!n(26)(u)),"Array",{lastIndexOf:function(t){if(s)return u.apply(this,arguments)||0;var e=o(this),n=a(e.length),r=n-1;for(1<arguments.length&&(r=Math.min(r,i(arguments[1]))),r<0&&(r=n+r);0<=r;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){var r=n(0);r(r.P,"Array",{copyWithin:n(141)}),n(36)("copyWithin")},function(t,e,n){var r=n(0);r(r.P,"Array",{fill:n(106)}),n(36)("fill")},function(t,e,n){"use strict";var r=n(0),o=n(31)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),r(r.P+r.F*i,"Array",{find:function(t){return o(this,t,1<arguments.length?arguments[1]:void 0)}}),n(36)("find")},function(t,e,n){"use strict";var r=n(0),o=n(31)(6),i="findIndex",a=!0;i in[]&&Array(1)[i](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(t){return o(this,t,1<arguments.length?arguments[1]:void 0)}}),n(36)(i)},function(t,e,n){n(44)("Array")},function(t,e,n){var r=n(3),i=n(93),o=n(8).f,a=n(43).f,u=n(70),s=n(72),c=r.RegExp,f=c,l=c.prototype,d=/a/g,h=/a/g,v=new c(d)!==d;if(n(7)&&(!v||n(4)(function(){return h[n(6)("match")]=!1,c(d)!=d||c(h)==h||"/a/i"!=c(d,"i")}))){c=function(t,e){var n=this instanceof c,r=u(t),o=void 0===e;return!n&&r&&t.constructor===c&&o?t:i(v?new f(r&&!o?t.source:t,e):f((r=t instanceof c)?t.source:t,r&&o?s.call(t):e),n?this:l,c)};for(var p=function(e){e in c||o(c,e,{configurable:!0,get:function(){return f[e]},set:function(t){f[e]=t}})},y=a(f),g=0;y.length>g;)p(y[g++]);l.constructor=c,c.prototype=l,n(16)(r,"RegExp",c)}n(44)("RegExp")},function(t,e,n){"use strict";n(143);var r=n(2),o=n(72),i=n(7),a="toString",u=/./[a],s=function(t){n(16)(RegExp.prototype,a,t,!0)};n(4)(function(){return"/a/b"!=u.call({source:"a",flags:"b"})})?s(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!i&&t instanceof RegExp?o.call(t):void 0)}):u.name!=a&&s(function(){return u.call(this)})},function(t,e,n){n(73)("match",1,function(r,o,t){return[function(t){"use strict";var e=r(this),n=null==t?void 0:t[o];return void 0!==n?n.call(t,e):new RegExp(t)[o](String(e))},t]})},function(t,e,n){n(73)("replace",2,function(o,i,a){return[function(t,e){"use strict";var n=o(this),r=null==t?void 0:t[i];return void 0!==r?r.call(t,n,e):a.call(String(n),t,e)},a]})},function(t,e,n){n(73)("search",1,function(r,o,t){return[function(t){"use strict";var e=r(this),n=null==t?void 0:t[o];return void 0!==n?n.call(t,e):new RegExp(t)[o](String(e))},t]})},function(t,e,n){n(73)("split",2,function(o,i,a){"use strict";var h=n(70),v=a,p=[].push,t="split",y="length";if("c"=="abbc"[t](/(b)*/)[1]||4!="test"[t](/(?:)/,-1)[y]||2!="ab"[t](/(?:ab)*/)[y]||4!="."[t](/(.?)(.?)/)[y]||1<"."[t](/()()/)[y]||""[t](/.?/)[y]){var g=void 0===/()??/.exec("")[1];a=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!h(t))return v.call(n,t,e);var r,o,i,a,u,s=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,l=void 0===e?4294967295:e>>>0,d=new RegExp(t.source,c+"g");for(g||(r=new RegExp("^"+d.source+"$(?!\\s)",c));(o=d.exec(n))&&(i=o.index+o[0][y],!(f<i&&(s.push(n.slice(f,o.index)),!g&&1<o[y]&&o[0].replace(r,function(){for(u=1;u<arguments[y]-2;u++)void 0===arguments[u]&&(o[u]=void 0)}),1<o[y]&&o.index<n[y]&&p.apply(s,o.slice(1)),a=o[0][y],f=i,s[y]>=l)));)d.lastIndex===o.index&&d.lastIndex++;return f===n[y]?!a&&d.test("")||s.push(""):s.push(n.slice(f)),s[y]>l?s.slice(0,l):s}}else"0"[t](void 0,0)[y]&&(a=function(t,e){return void 0===t&&0===e?[]:v.call(this,t,e)});return[function(t,e){var n=o(this),r=null==t?void 0:t[i];return void 0!==r?r.call(t,n,e):a.call(String(n),t,e)},a]})},function(t,e,n){"use strict";var r,o,i,a,u=n(35),s=n(3),c=n(24),f=n(59),l=n(0),d=n(5),h=n(13),v=n(45),p=n(46),y=n(74),g=n(108).set,m=n(109)(),b=n(110),w=n(144),_=n(75),k=n(145),x="Promise",S=s.TypeError,O=s.process,E=O&&O.versions,j=E&&E.v8||"",M=s[x],A="process"==f(O),P=function(){},T=o=b.f,D=!!function(){try{var t=M.resolve(1),e=(t.constructor={})[n(6)("species")]=function(t){t(P,P)};return(A||"function"==typeof PromiseRejectionEvent)&&t.then(P)instanceof e&&0!==j.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(t){}}(),I=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},L=function(f,n){if(!f._n){f._n=!0;var r=f._c;m(function(){for(var s=f._v,c=1==f._s,t=0,e=function(t){var e,n,r,o=c?t.ok:t.fail,i=t.resolve,a=t.reject,u=t.domain;try{o?(c||(2==f._h&&R(f),f._h=1),!0===o?e=s:(u&&u.enter(),e=o(s),u&&(u.exit(),r=!0)),e===t.promise?a(S("Promise-chain cycle")):(n=I(e))?n.call(e,i,a):i(e)):a(s)}catch(t){u&&!r&&u.exit(),a(t)}};r.length>t;)e(r[t++]);f._c=[],f._n=!1,n&&!f._h&&C(f)})}},C=function(i){g.call(s,function(){var t,e,n,r=i._v,o=q(i);if(o&&(t=w(function(){A?O.emit("unhandledRejection",r,i):(e=s.onunhandledrejection)?e({promise:i,reason:r}):(n=s.console)&&n.error&&n.error("Unhandled promise rejection",r)}),i._h=A||q(i)?2:1),i._a=void 0,o&&t.e)throw t.v})},q=function(t){return 1!==t._h&&0===(t._a||t._c).length},R=function(e){g.call(s,function(){var t;A?O.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},F=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),L(e,!0))},$=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw S("Promise can't be resolved itself");(n=I(t))?m(function(){var e={_w:r,_d:!1};try{n.call(t,c($,e,1),c(F,e,1))}catch(t){F.call(e,t)}}):(r._v=t,r._s=1,L(r,!1))}catch(t){F.call({_w:r,_d:!1},t)}}};D||(M=function(t){v(this,M,x,"_h"),h(t),r.call(this);try{t(c($,this,1),c(F,this,1))}catch(t){F.call(this,t)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(47)(M.prototype,{then:function(t,e){var n=T(y(this,M));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=A?O.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r;this.promise=t,this.resolve=c($,t,1),this.reject=c(F,t,1)},b.f=T=function(t){return t===M||t===a?new i(t):o(t)}),l(l.G+l.W+l.F*!D,{Promise:M}),n(51)(M,x),n(44)(x),a=n(23)[x],l(l.S+l.F*!D,x,{reject:function(t){var e=T(this),n=e.reject;return n(t),e.promise}}),l(l.S+l.F*(u||!D),x,{resolve:function(t){return k(u&&this===a?M:this,t)}}),l(l.S+l.F*!(D&&n(71)(function(t){M.all(t).catch(P)})),x,{all:function(t){var a=this,e=T(a),u=e.resolve,s=e.reject,n=w(function(){var r=[],o=0,i=1;p(t,!1,function(t){var e=o++,n=!1;r.push(void 0),i++,a.resolve(t).then(function(t){n||(n=!0,r[e]=t,--i||u(r))},s)}),--i||u(r)});return n.e&&s(n.v),e.promise},race:function(t){var e=this,n=T(e),r=n.reject,o=w(function(){p(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(t,e,n){"use strict";var r=n(150),o=n(54);n(76)("WeakSet",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{add:function(t){return r.def(o(this,"WeakSet"),t,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(0),o=n(77),i=n(111),c=n(2),f=n(41),l=n(9),a=n(5),u=n(3).ArrayBuffer,d=n(74),h=i.ArrayBuffer,v=i.DataView,s=o.ABV&&u.isView,p=h.prototype.slice,y=o.VIEW,g="ArrayBuffer";r(r.G+r.W+r.F*(u!==h),{ArrayBuffer:h}),r(r.S+r.F*!o.CONSTR,g,{isView:function(t){return s&&s(t)||a(t)&&y in t}}),r(r.P+r.U+r.F*n(4)(function(){return!new h(2).slice(1,void 0).byteLength}),g,{slice:function(t,e){if(void 0!==p&&void 0===e)return p.call(c(this),t);for(var n=c(this).byteLength,r=f(t,n),o=f(void 0===e?n:e,n),i=new(d(this,h))(l(o-r)),a=new v(this),u=new v(i),s=0;r<o;)u.setUint8(s++,a.getUint8(r++));return i}}),n(44)(g)},function(t,e,n){var r=n(0);r(r.G+r.W+r.F*!n(77).ABV,{DataView:n(111).DataView})},function(t,e,n){n(32)("Int8",1,function(r){return function(t,e,n){return r(this,t,e,n)}})},function(t,e,n){n(32)("Uint8",1,function(r){return function(t,e,n){return r(this,t,e,n)}})},function(t,e,n){n(32)("Uint8",1,function(r){return function(t,e,n){return r(this,t,e,n)}},!0)},function(t,e,n){n(32)("Int16",2,function(r){return function(t,e,n){return r(this,t,e,n)}})},function(t,e,n){n(32)("Uint16",2,function(r){return function(t,e,n){return r(this,t,e,n)}})},function(t,e,n){n(32)("Int32",4,function(r){return function(t,e,n){return r(this,t,e,n)}})},function(t,e,n){n(32)("Uint32",4,function(r){return function(t,e,n){return r(this,t,e,n)}})},function(t,e,n){n(32)("Float32",4,function(r){return function(t,e,n){return r(this,t,e,n)}})},function(t,e,n){n(32)("Float64",8,function(r){return function(t,e,n){return r(this,t,e,n)}})},function(t,e,n){var r=n(0),i=n(13),a=n(2),u=(n(3).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(4)(function(){u(function(){})}),"Reflect",{apply:function(t,e,n){var r=i(t),o=a(n);return u?u(r,e,o):s.call(r,e,o)}})},function(t,e,n){var r=n(0),u=n(42),s=n(13),c=n(2),f=n(5),o=n(4),l=n(131),d=(n(3).Reflect||{}).construct,h=o(function(){function t(){}return!(d(function(){},[],t)instanceof t)}),v=!o(function(){d(function(){})});r(r.S+r.F*(h||v),"Reflect",{construct:function(t,e){s(t),c(e);var n=arguments.length<3?t:s(arguments[2]);if(v&&!h)return d(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(l.apply(t,r))}var o=n.prototype,i=u(f(o)?o:Object.prototype),a=Function.apply.call(t,i,e);return f(a)?a:i}})},function(t,e,n){var r=n(8),o=n(0),i=n(2),a=n(27);o(o.S+o.F*n(4)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){i(t),e=a(e,!0),i(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0),o=n(21).f,i=n(2);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=o(i(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var r=n(0),o=n(2),i=function(t){this._t=o(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(99)(i,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new i(t)}})},function(t,e,n){var a=n(21),u=n(22),s=n(19),r=n(0),c=n(5),f=n(2);r(r.S,"Reflect",{get:function t(e,n){var r,o,i=arguments.length<3?e:arguments[2];return f(e)===i?e[n]:(r=a.f(e,n))?s(r,"value")?r.value:void 0!==r.get?r.get.call(i):void 0:c(o=u(e))?t(o,n,i):void 0}})},function(t,e,n){var r=n(21),o=n(0),i=n(2);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(i(t),e)}})},function(t,e,n){var r=n(0),o=n(22),i=n(2);r(r.S,"Reflect",{getPrototypeOf:function(t){return o(i(t))}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(0),o=n(2),i=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return o(t),!i||i(t)}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(152)})},function(t,e,n){var r=n(0),o=n(2),i=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){o(t);try{return i&&i(t),!0}catch(t){return!1}}})},function(t,e,n){var s=n(8),c=n(21),f=n(22),l=n(19),r=n(0),d=n(38),h=n(2),v=n(5);r(r.S,"Reflect",{set:function t(e,n,r){var o,i,a=arguments.length<4?e:arguments[3],u=c.f(h(e),n);if(!u){if(v(i=f(e)))return t(i,n,r,a);u=d(0)}if(l(u,"value")){if(!1===u.writable||!v(a))return!1;if(o=c.f(a,n)){if(o.get||o.set||!1===o.writable)return!1;o.value=r,s.f(a,n,o)}else s.f(a,n,d(0,r));return!0}return void 0!==u.set&&(u.set.call(a,r),!0)}})},function(t,e,n){var r=n(0),o=n(91);o&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){o.check(t,e);try{return o.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){"use strict";var r=n(0),o=n(67)(!0);r(r.P,"Array",{includes:function(t){return o(this,t,1<arguments.length?arguments[1]:void 0)}}),n(36)("includes")},function(t,e,n){"use strict";var r=n(0),o=n(153),i=n(12),a=n(9),u=n(13),s=n(105);r(r.P,"Array",{flatMap:function(t){var e,n,r=i(this);return u(t),e=a(r.length),n=s(r,0),o(n,r,r,e,0,1,t,arguments[1]),n}}),n(36)("flatMap")},function(t,e,n){"use strict";var r=n(0),o=n(153),i=n(12),a=n(9),u=n(29),s=n(105);r(r.P,"Array",{flatten:function(){var t=arguments[0],e=i(this),n=a(e.length),r=s(e,0);return o(r,e,e,n,0,void 0===t?1:u(t)),r}}),n(36)("flatten")},function(t,e,n){"use strict";var r=n(0),o=n(97)(!0);r(r.P,"String",{at:function(t){return o(this,t)}})},function(t,e,n){"use strict";var r=n(0),o=n(154),i=n(75);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(i),"String",{padStart:function(t){return o(this,t,1<arguments.length?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";var r=n(0),o=n(154),i=n(75);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(i),"String",{padEnd:function(t){return o(this,t,1<arguments.length?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";n(52)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";n(52)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){"use strict";var r=n(0),o=n(28),i=n(9),a=n(70),u=n(72),s=RegExp.prototype,c=function(t,e){this._r=t,this._s=e};n(99)(c,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),r(r.P,"String",{matchAll:function(t){if(o(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in s?String(t.flags):u.call(t),r=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=i(t.lastIndex),new c(r,e)}})},function(t,e,n){n(87)("asyncIterator")},function(t,e,n){n(87)("observable")},function(t,e,n){var r=n(0),s=n(152),c=n(20),f=n(21),l=n(103);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=c(t),o=f.f,i=s(r),a={},u=0;i.length>u;)n=o(r,e=i[u++]),void 0!==n&&l(a,e,n);return a}})},function(t,e,n){var r=n(0),o=n(155)(!1);r(r.S,"Object",{values:function(t){return o(t)}})},function(t,e,n){var r=n(0),o=n(155)(!0);r(r.S,"Object",{entries:function(t){return o(t)}})},function(t,e,n){"use strict";var r=n(0),o=n(12),i=n(13),a=n(8);n(7)&&r(r.P+n(78),"Object",{__defineGetter__:function(t,e){a.f(o(this),t,{get:i(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(0),o=n(12),i=n(13),a=n(8);n(7)&&r(r.P+n(78),"Object",{__defineSetter__:function(t,e){a.f(o(this),t,{set:i(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(0),o=n(12),i=n(27),a=n(22),u=n(21).f;n(7)&&r(r.P+n(78),"Object",{__lookupGetter__:function(t){var e,n=o(this),r=i(t,!0);do{if(e=u(n,r))return e.get}while(n=a(n))}})},function(t,e,n){"use strict";var r=n(0),o=n(12),i=n(27),a=n(22),u=n(21).f;n(7)&&r(r.P+n(78),"Object",{__lookupSetter__:function(t){var e,n=o(this),r=i(t,!0);do{if(e=u(n,r))return e.set}while(n=a(n))}})},function(t,e,n){var r=n(0);r(r.P+r.R,"Map",{toJSON:n(156)("Map")})},function(t,e,n){var r=n(0);r(r.P+r.R,"Set",{toJSON:n(156)("Set")})},function(t,e,n){n(79)("Map")},function(t,e,n){n(79)("Set")},function(t,e,n){n(79)("WeakMap")},function(t,e,n){n(79)("WeakSet")},function(t,e,n){n(80)("Map")},function(t,e,n){n(80)("Set")},function(t,e,n){n(80)("WeakMap")},function(t,e,n){n(80)("WeakSet")},function(t,e,n){var r=n(0);r(r.G,{global:n(3)})},function(t,e,n){var r=n(0);r(r.S,"System",{global:n(3)})},function(t,e,n){var r=n(0),o=n(25);r(r.S,"Error",{isError:function(t){return"Error"===o(t)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var r=n(0),o=180/Math.PI;r(r.S,"Math",{degrees:function(t){return t*o}})},function(t,e,n){var r=n(0),i=n(158),a=n(138);r(r.S,"Math",{fscale:function(t,e,n,r,o){return a(i(t,e,n,r,o))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{iaddh:function(t,e,n,r){var o=t>>>0,i=e>>>0,a=n>>>0;return i+(r>>>0)+((o&a|(o|a)&~(o+a>>>0))>>>31)|0}})},function(t,e,n){var r=n(0);r(r.S,"Math",{isubh:function(t,e,n,r){var o=t>>>0,i=e>>>0,a=n>>>0;return i-(r>>>0)-((~o&a|~(o^a)&o-a>>>0)>>>31)|0}})},function(t,e,n){var r=n(0);r(r.S,"Math",{imulh:function(t,e){var n=+t,r=+e,o=65535&n,i=65535&r,a=n>>16,u=r>>16,s=(a*i>>>0)+(o*i>>>16);return a*u+(s>>16)+((o*u>>>0)+(65535&s)>>16)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var r=n(0),o=Math.PI/180;r(r.S,"Math",{radians:function(t){return t*o}})},function(t,e,n){var r=n(0);r(r.S,"Math",{scale:n(158)})},function(t,e,n){var r=n(0);r(r.S,"Math",{umulh:function(t,e){var n=+t,r=+e,o=65535&n,i=65535&r,a=n>>>16,u=r>>>16,s=(a*i>>>0)+(o*i>>>16);return a*u+(s>>>16)+((o*u>>>0)+(65535&s)>>>16)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:0<t}})},function(t,e,n){"use strict";var r=n(0),o=n(23),i=n(3),a=n(74),u=n(145);r(r.P+r.R,"Promise",{finally:function(e){var n=a(this,o.Promise||i.Promise),t="function"==typeof e;return this.then(t?function(t){return u(n,e()).then(function(){return t})}:e,t?function(t){return u(n,e()).then(function(){throw t})}:e)}})},function(t,e,n){"use strict";var r=n(0),o=n(110),i=n(144);r(r.S,"Promise",{try:function(t){var e=o.f(this),n=i(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){var r=n(33),o=n(2),i=r.key,a=r.set;r.exp({defineMetadata:function(t,e,n,r){a(t,e,o(n),i(r))}})},function(t,e,n){var r=n(33),i=n(2),a=r.key,u=r.map,s=r.store;r.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:a(arguments[2]),r=u(i(e),n,!1);if(void 0===r||!r.delete(t))return!1;if(r.size)return!0;var o=s.get(e);return o.delete(n),!!o.size||s.delete(e)}})},function(t,e,n){var r=n(33),o=n(2),i=n(22),a=r.has,u=r.get,s=r.key,c=function(t,e,n){var r=a(t,e,n);if(r)return u(t,e,n);var o=i(e);return null!==o?c(t,o,n):void 0};r.exp({getMetadata:function(t,e){return c(t,o(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var i=n(148),a=n(157),r=n(33),o=n(2),u=n(22),s=r.keys,c=r.key,f=function(t,e){var n=s(t,e),r=u(t);if(null===r)return n;var o=f(r,e);return o.length?n.length?a(new i(n.concat(o))):o:n};r.exp({getMetadataKeys:function(t){return f(o(t),arguments.length<2?void 0:c(arguments[1]))}})},function(t,e,n){var r=n(33),o=n(2),i=r.get,a=r.key;r.exp({getOwnMetadata:function(t,e){return i(t,o(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(33),o=n(2),i=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(t){return i(o(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,e,n){var r=n(33),o=n(2),i=n(22),a=r.has,u=r.key,s=function(t,e,n){var r=a(t,e,n);if(r)return!0;var o=i(e);return null!==o&&s(t,o,n)};r.exp({hasMetadata:function(t,e){return s(t,o(e),arguments.length<3?void 0:u(arguments[2]))}})},function(t,e,n){var r=n(33),o=n(2),i=r.has,a=r.key;r.exp({hasOwnMetadata:function(t,e){return i(t,o(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(33),o=n(2),i=n(13),a=r.key,u=r.set;r.exp({metadata:function(n,r){return function(t,e){u(n,r,(void 0!==e?o:i)(t),a(e))}}})},function(t,e,n){var r=n(0),o=n(109)(),i=n(3).process,a="process"==n(25)(i);r(r.G,{asap:function(t){var e=a&&i.domain;o(e?e.bind(t):t)}})},function(t,e,n){"use strict";var r=n(0),i=n(3),a=n(23),o=n(109)(),u=n(6)("observable"),s=n(13),c=n(2),f=n(45),l=n(47),d=n(15),h=n(46),v=h.RETURN,p=function(t){return null==t?void 0:s(t)},y=function(t){var e=t._c;e&&(t._c=void 0,e())},g=function(t){return void 0===t._o},m=function(t){g(t)||(t._o=void 0,y(t))},b=function(e,t){c(e),this._c=void 0,this._o=e,e=new w(this);try{var n=t(e),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:s(n),this._c=n)}catch(t){return void e.error(t)}g(this)&&y(this)};b.prototype=l({},{unsubscribe:function(){m(this)}});var w=function(t){this._s=t};w.prototype=l({},{next:function(t){var e=this._s;if(!g(e)){var n=e._o;try{var r=p(n.next);if(r)return r.call(n,t)}catch(t){try{m(e)}finally{throw t}}}},error:function(t){var e=this._s;if(g(e))throw t;var n=e._o;e._o=void 0;try{var r=p(n.error);if(!r)throw t;t=r.call(n,t)}catch(t){try{y(e)}finally{throw t}}return y(e),t},complete:function(t){var e=this._s;if(!g(e)){var n=e._o;e._o=void 0;try{var r=p(n.complete);t=r?r.call(n,t):void 0}catch(t){try{y(e)}finally{throw t}}return y(e),t}}});var _=function(t){f(this,_,"Observable","_f")._f=s(t)};l(_.prototype,{subscribe:function(t){return new b(t,this._f)},forEach:function(r){var o=this;return new(a.Promise||i.Promise)(function(t,e){s(r);var n=o.subscribe({next:function(t){try{return r(t)}catch(t){e(t),n.unsubscribe()}},error:e,complete:t})})}}),l(_,{from:function(t){var e="function"==typeof this?this:_,n=p(c(t)[u]);if(n){var r=c(n.call(t));return r.constructor===e?r:new e(function(t){return r.subscribe(t)})}return new e(function(e){var n=!1;return o(function(){if(!n){try{if(h(t,!1,function(t){if(e.next(t),n)return v})===v)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,r=new Array(e);t<e;)r[t]=arguments[t++];return new("function"==typeof this?this:_)(function(e){var n=!1;return o(function(){if(!n){for(var t=0;t<r.length;++t)if(e.next(r[t]),n)return;e.complete()}}),function(){n=!0}})}}),d(_.prototype,u,function(){return this}),r(r.G,{Observable:_}),n(44)("Observable")},function(t,e,n){var r=n(3),o=n(0),i=n(75),a=[].slice,u=/MSIE .\./.test(i),s=function(o){return function(t,e){var n=2<arguments.length,r=!!n&&a.call(arguments,2);return o(n?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,e)}};o(o.G+o.B+o.F*u,{setTimeout:s(r.setTimeout),setInterval:s(r.setInterval)})},function(t,e,n){var r=n(0),o=n(108);r(r.G+r.B,{setImmediate:o.set,clearImmediate:o.clear})},function(t,e,n){for(var r=n(107),o=n(40),i=n(16),a=n(3),u=n(15),s=n(53),c=n(6),f=c("iterator"),l=c("toStringTag"),d=s.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=o(h),p=0;p<v.length;p++){var y,g=v[p],m=h[g],b=a[g],w=b&&b.prototype;if(w&&(w[f]||u(w,f,d),w[l]||u(w,l,g),s[g]=d,m))for(y in r)w[y]||i(w,y,r[y],!0)}},function(D,t,e){(function(t){!function(t){"use strict";var s,e=Object.prototype,c=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag",a="object"==typeof D,u=t.regeneratorRuntime;if(u)a&&(D.exports=u);else{u=t.regeneratorRuntime=a?D.exports:{},u.wrap=b;var l="suspendedStart",d="suspendedYield",h="executing",v="completed",p={},f={};f[o]=function(){return this};var y=Object.getPrototypeOf,g=y&&y(y(P([])));g&&g!==e&&c.call(g,o)&&(f=g);var m=x.prototype=_.prototype=Object.create(f);k.prototype=m.constructor=x,x.constructor=k,x[i]=k.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===k||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,i in t||(t[i]="GeneratorFunction")),t.prototype=Object.create(m),t},u.awrap=function(t){return{__await:t}},S(O.prototype),O.prototype[r]=function(){return this},u.AsyncIterator=O,u.async=function(t,e,n,r){var o=new O(b(t,e,n,r));return u.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},S(m),m[i]="Generator",m[o]=function(){return this},m.toString=function(){return"[object Generator]"},u.keys=function(n){var r=[];for(var t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},u.values=P,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&c.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=s)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return i.type="throw",i.arg=n,r.next=t,e&&(r.method="next",r.arg=s),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=c.call(o,"catchLoc"),u=c.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=s),p}}}function b(t,e,n,r){var i,a,u,s,o=e&&e.prototype instanceof _?e:_,c=Object.create(o.prototype),f=new A(r||[]);return c._invoke=(i=t,a=n,u=f,s=l,function(t,e){if(s===h)throw new Error("Generator is already running");if(s===v){if("throw"===t)throw e;return T()}for(u.method=t,u.arg=e;;){var n=u.delegate;if(n){var r=E(n,u);if(r){if(r===p)continue;return r}}if("next"===u.method)u.sent=u._sent=u.arg;else if("throw"===u.method){if(s===l)throw s=v,u.arg;u.dispatchException(u.arg)}else"return"===u.method&&u.abrupt("return",u.arg);s=h;var o=w(i,a,u);if("normal"===o.type){if(s=u.done?v:d,o.arg===p)continue;return{value:o.arg,done:u.done}}"throw"===o.type&&(s=v,u.method="throw",u.arg=o.arg)}}),c}function w(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function _(){}function k(){}function x(){}function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function O(u){function s(t,e,n,r){var o=w(u[t],u,e);if("throw"!==o.type){var i=o.arg,a=i.value;return a&&"object"==typeof a&&c.call(a,"__await")?Promise.resolve(a.__await).then(function(t){s("next",t,n,r)},function(t){s("throw",t,n,r)}):Promise.resolve(a).then(function(t){i.value=t,n(i)},r)}r(o.arg)}var e;"object"==typeof t.process&&t.process.domain&&(s=t.process.domain.bind(s)),this._invoke=function(n,r){function t(){return new Promise(function(t,e){s(n,r,t,e)})}return e=e?e.then(t,t):t()}}function E(t,e){var n=t.iterator[e.method];if(n===s){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=s,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=w(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=s),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(c.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=s,t.done=!0,t};return r.next=r}}return{next:T}}function T(){return{value:s,done:!0}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,e(56))},function(t,e,n){n(399),t.exports=n(23).RegExp.escape},function(t,e,n){var r=n(0),o=n(400)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(t){return o(t)}})},function(t,e){t.exports=function(e,n){var r=n===Object(n)?function(t){return n[t]}:n;return function(t){return String(t).replace(e,r)}}},function(t,e,n){},function(t,e,n){t.exports=n.p+"assets/img/logo.svg"},function(t,e){t.exports=function(t){var e=new Date(t.getTime()),n=e.getTimezoneOffset();e.setSeconds(0,0);var r=e.getTime()%6e4;return 6e4*n+r}},function(t,e,n){var s=n(1);t.exports=function(t,e,n,r){var o=s(t).getTime(),i=s(e).getTime(),a=s(n).getTime(),u=s(r).getTime();if(i<o||u<a)throw new Error("The start of the range cannot be after the end of the range");return o<u&&a<i}},function(t,e,n){var u=n(1);t.exports=function(t,e){if(!(e instanceof Array))throw new TypeError(toString.call(e)+" is not an instance of Array");var o,i,n=u(t),a=n.getTime();return e.forEach(function(t,e){var n=u(t),r=Math.abs(a-n.getTime());(void 0===o||r<i)&&(o=e,i=r)}),o}},function(t,e,n){var a=n(1);t.exports=function(t,e){if(!(e instanceof Array))throw new TypeError(toString.call(e)+" is not an instance of Array");var r,o,n=a(t),i=n.getTime();return e.forEach(function(t){var e=a(t),n=Math.abs(i-e.getTime());(void 0===r||n<o)&&(r=e,o=n)}),r}},function(t,e,n){var a=n(49);t.exports=function(t,e){var n=a(t),r=a(e),o=n.getTime()-6e4*n.getTimezoneOffset(),i=r.getTime()-6e4*r.getTimezoneOffset();return Math.round((o-i)/6048e5)}},function(t,e,n){var a=n(168),u=n(1);t.exports=function(t,e){var n=u(t),r=u(e),o=n.getFullYear()-r.getFullYear(),i=a(n)-a(r);return 4*o+i}},function(t,e,n){var u=n(81);t.exports=function(t,e,n){var r=u(t,n),o=u(e,n),i=r.getTime()-6e4*r.getTimezoneOffset(),a=o.getTime()-6e4*o.getTimezoneOffset();return Math.round((i-a)/6048e5)}},function(t,e,n){var r=n(84);t.exports=function(t,e){var n=r(t,e)/36e5;return 0<n?Math.floor(n):Math.ceil(n)}},function(t,e,n){var u=n(1),s=n(166),c=n(63),f=n(171);t.exports=function(t,e){var n=u(t),r=u(e),o=c(n,r),i=Math.abs(s(n,r));n=f(n,o*i);var a=c(n,r)===-o;return o*(i-a)}},function(t,e,n){var r=n(84);t.exports=function(t,e){var n=r(t,e)/6e4;return 0<n?Math.floor(n):Math.ceil(n)}},function(t,e,n){var r=n(116);t.exports=function(t,e){var n=r(t,e)/3;return 0<n?Math.floor(n):Math.ceil(n)}},function(t,e,n){var r=n(170);t.exports=function(t,e){var n=r(t,e)/7;return 0<n?Math.floor(n):Math.ceil(n)}},function(t,e,n){var u=n(1),s=n(169),c=n(63);t.exports=function(t,e){var n=u(t),r=u(e),o=c(n,r),i=Math.abs(s(n,r));n.setFullYear(n.getFullYear()-o*i);var a=c(n,r)===-o;return o*(i-a)}},function(t,e){t.exports=function(){var o={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(t,e,n){var r;return n=n||{},r="string"==typeof o[t]?o[t]:1===e?o[t].one:o[t].other.replace("{{count}}",e),n.addSuffix?0<n.comparison?"in "+r:r+" ago":r}}}},function(t,e,n){var c=n(418);t.exports=function(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Su","Mo","Tu","We","Th","Fr","Sa"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["AM","PM"],u=["am","pm"],s=["a.m.","p.m."],t={MMM:function(t){return e[t.getMonth()]},MMMM:function(t){return n[t.getMonth()]},dd:function(t){return r[t.getDay()]},ddd:function(t){return o[t.getDay()]},dddd:function(t){return i[t.getDay()]},A:function(t){return 1<=t.getHours()/12?a[1]:a[0]},a:function(t){return 1<=t.getHours()/12?u[1]:u[0]},aa:function(t){return 1<=t.getHours()/12?s[1]:s[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){t[n+"o"]=function(t,e){return function(t){var e=t%100;if(20<e||e<10)switch(e%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"}(e[n](t))}}),{formatters:t,formattingTokensRegExp:c(t)}}},function(t,e){var i=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];t.exports=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);var r=i.concat(e).sort().reverse(),o=new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+r.join("|")+"|.)","g");return o}},function(t,e,n){var b=n(115),w=n(1),_=n(117),k=n(118);t.exports=function(t,e,n){var r=n||{},o=b(t,e),i=r.locale,a=k.distanceInWords.localize;i&&i.distanceInWords&&i.distanceInWords.localize&&(a=i.distanceInWords.localize);var u,s,c,f={addSuffix:Boolean(r.addSuffix),comparison:o};s=0<o?(u=w(t),w(e)):(u=w(e),w(t));var l,d,h,v,p=Math[r.partialMethod?String(r.partialMethod):"floor"],y=_(s,u),g=s.getTimezoneOffset()-u.getTimezoneOffset(),m=p(y/60)-g;if(c=r.unit?String(r.unit):m<1?"s":m<60?"m":m<1440?"h":m<43200?"d":m<525600?"M":"Y","s"===c)return a("xSeconds",y,f);if("m"===c)return a("xMinutes",m,f);if("h"===c)return l=p(m/60),a("xHours",l,f);if("d"===c)return d=p(m/1440),a("xDays",d,f);if("M"===c)return h=p(m/43200),a("xMonths",h,f);if("Y"===c)return v=p(m/525600),a("xYears",v,f);throw new Error("Unknown unit: "+c)}},function(t,e,n){var r=n(172);t.exports=function(t,e){return r(Date.now(),t,e)}},function(t,e,n){var c=n(1);t.exports=function(t,e,n){var r=c(t),o=c(e),i=void 0!==n?n:1,a=o.getTime();if(r.getTime()>a)throw new Error("The first date cannot be after the second date");var u=[],s=r;for(s.setHours(0,0,0,0);s.getTime()<=a;)u.push(c(s)),s.setDate(s.getDate()+i);return u}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t);return e.setMinutes(59,59,999),e}},function(t,e,n){var r=n(173);t.exports=function(t){return r(t,{weekStartsOn:1})}},function(t,e,n){var o=n(48),i=n(49);t.exports=function(t){var e=o(t),n=new Date(0);n.setFullYear(e+1,0,4),n.setHours(0,0,0,0);var r=i(n);return r.setMilliseconds(r.getMilliseconds()-1),r}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t);return e.setSeconds(59,999),e}},function(t,e,n){var o=n(1);t.exports=function(t){var e=o(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t);return e.setMilliseconds(999),e}},function(t,e,n){var r=n(119);t.exports=function(){return r(new Date)}},function(t,e){t.exports=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),r=t.getDate(),o=new Date(0);return o.setFullYear(e,n,r+1),o.setHours(23,59,59,999),o}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}},function(t,e){t.exports=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),r=t.getDate(),o=new Date(0);return o.setFullYear(e,n,r-1),o.setHours(23,59,59,999),o}},function(t,e,n){var r=n(175),o=n(120),i=n(48),f=n(1),l=n(177),d=n(118);var h={M:function(t){return t.getMonth()+1},MM:function(t){return u(t.getMonth()+1,2)},Q:function(t){return Math.ceil((t.getMonth()+1)/3)},D:function(t){return t.getDate()},DD:function(t){return u(t.getDate(),2)},DDD:function(t){return r(t)},DDDD:function(t){return u(r(t),3)},d:function(t){return t.getDay()},E:function(t){return t.getDay()||7},W:function(t){return o(t)},WW:function(t){return u(o(t),2)},YY:function(t){return u(t.getFullYear(),4).substr(2)},YYYY:function(t){return u(t.getFullYear(),4)},GG:function(t){return String(i(t)).substr(2)},GGGG:function(t){return i(t)},H:function(t){return t.getHours()},HH:function(t){return u(t.getHours(),2)},h:function(t){var e=t.getHours();return 0===e?12:12<e?e%12:e},hh:function(t){return u(h.h(t),2)},m:function(t){return t.getMinutes()},mm:function(t){return u(t.getMinutes(),2)},s:function(t){return t.getSeconds()},ss:function(t){return u(t.getSeconds(),2)},S:function(t){return Math.floor(t.getMilliseconds()/100)},SS:function(t){return u(Math.floor(t.getMilliseconds()/10),2)},SSS:function(t){return u(t.getMilliseconds(),3)},Z:function(t){return a(t.getTimezoneOffset(),":")},ZZ:function(t){return a(t.getTimezoneOffset())},X:function(t){return Math.floor(t.getTime()/1e3)},x:function(t){return t.getTime()}};function a(t,e){e=e||"";var n=0<t?"-":"+",r=Math.abs(t),o=Math.floor(r/60),i=r%60;return n+u(o,2)+e+u(i,2)}function u(t,e){for(var n=Math.abs(t).toString();n.length<e;)n="0"+n;return n}t.exports=function(t,e,n){var r=e?String(e):"YYYY-MM-DDTHH:mm:ss.SSSZ",o=n||{},i=o.locale,a=d.format.formatters,u=d.format.formattingTokensRegExp;i&&i.format&&i.format.formatters&&(a=i.format.formatters,i.format.formattingTokensRegExp&&(u=i.format.formattingTokensRegExp));var s=f(t);if(!l(s))return"Invalid Date";var c=function(t,e,n){var r,o,i,a=t.match(n),u=a.length;for(r=0;r<u;r++)o=e[a[r]]||h[a[r]],a[r]=o||(i=a[r],i.match(/\[[\s\S]/)?i.replace(/^\[|]$/g,""):i.replace(/\\/g,""));return function(t){for(var e="",n=0;n<u;n++)a[n]instanceof Function?e+=a[n](t,h):e+=a[n];return e}}(r,a,u);return c(s)}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t),n=e.getDate();return n}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t),n=e.getDay();return n}},function(t,e,n){var r=n(178);t.exports=function(t){return r(t)?366:365}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t),n=e.getHours();return n}},function(t,e,n){var o=n(62),i=n(114);t.exports=function(t){var e=o(t),n=o(i(e,60)),r=n.valueOf()-e.valueOf();return Math.round(r/6048e5)}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t),n=e.getMilliseconds();return n}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t),n=e.getMinutes();return n}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t),n=e.getMonth();return n}},function(t,e,n){var d=n(1);t.exports=function(t,e,n,r){var o=d(t).getTime(),i=d(e).getTime(),a=d(n).getTime(),u=d(r).getTime();if(i<o||u<a)throw new Error("The start of the range cannot be after the end of the range");var s=o<u&&a<i;if(!s)return 0;var c=a<o?o:a,f=i<u?i:u,l=f-c;return Math.ceil(l/864e5)}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t),n=e.getSeconds();return n}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t),n=e.getTime();return n}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t),n=e.getFullYear();return n}},function(t,e,n){var o=n(1);t.exports=function(t,e){var n=o(t),r=o(e);return n.getTime()>r.getTime()}},function(t,e,n){var o=n(1);t.exports=function(t,e){var n=o(t),r=o(e);return n.getTime()<r.getTime()}},function(t,e,n){var o=n(1);t.exports=function(t,e){var n=o(t),r=o(e);return n.getTime()===r.getTime()}},function(t,e,n){var r=n(1);t.exports=function(t){return 1===r(t).getDate()}},function(t,e,n){var r=n(1);t.exports=function(t){return 5===r(t).getDay()}},function(t,e,n){var r=n(1);t.exports=function(t){return r(t).getTime()>(new Date).getTime()}},function(t,e,n){var r=n(1),o=n(119),i=n(174);t.exports=function(t){var e=r(t);return o(e).getTime()===i(e).getTime()}},function(t,e,n){var r=n(1);t.exports=function(t){return 1===r(t).getDay()}},function(t,e,n){var r=n(1);t.exports=function(t){return r(t).getTime()<(new Date).getTime()}},function(t,e,n){var o=n(50);t.exports=function(t,e){var n=o(t),r=o(e);return n.getTime()===r.getTime()}},function(t,e,n){var r=n(1);t.exports=function(t){return 6===r(t).getDay()}},function(t,e,n){var r=n(1);t.exports=function(t){return 0===r(t).getDay()}},function(t,e,n){var r=n(180);t.exports=function(t){return r(new Date,t)}},function(t,e,n){var r=n(182);t.exports=function(t){return r(new Date,t)}},function(t,e,n){var r=n(183);t.exports=function(t){return r(new Date,t)}},function(t,e,n){var r=n(184);t.exports=function(t){return r(new Date,t)}},function(t,e,n){var r=n(186);t.exports=function(t){return r(new Date,t)}},function(t,e,n){var r=n(187);t.exports=function(t){return r(new Date,t)}},function(t,e,n){var r=n(189);t.exports=function(t){return r(new Date,t)}},function(t,e,n){var r=n(121);t.exports=function(t,e){return r(new Date,t,e)}},function(t,e,n){var r=n(191);t.exports=function(t){return r(new Date,t)}},function(t,e,n){var r=n(1);t.exports=function(t){return 4===r(t).getDay()}},function(t,e,n){var r=n(50);t.exports=function(t){return r(t).getTime()===r(new Date).getTime()}},function(t,e,n){var r=n(50);t.exports=function(t){var e=new Date;return e.setDate(e.getDate()+1),r(t).getTime()===r(e).getTime()}},function(t,e,n){var r=n(1);t.exports=function(t){return 2===r(t).getDay()}},function(t,e,n){var r=n(1);t.exports=function(t){return 3===r(t).getDay()}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t),n=e.getDay();return 0===n||6===n}},function(t,e,n){var a=n(1);t.exports=function(t,e,n){var r=a(t).getTime(),o=a(e).getTime(),i=a(n).getTime();if(i<o)throw new Error("The start of the range cannot be after the end of the range");return o<=r&&r<=i}},function(t,e,n){var r=n(50);t.exports=function(t){var e=new Date;return e.setDate(e.getDate()-1),r(t).getTime()===r(e).getTime()}},function(t,e,n){var r=n(192);t.exports=function(t){return r(t,{weekStartsOn:1})}},function(t,e,n){var o=n(48),i=n(49);t.exports=function(t){var e=o(t),n=new Date(0);n.setFullYear(e+1,0,4),n.setHours(0,0,0,0);var r=i(n);return r.setDate(r.getDate()-1),r}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}},function(t,e,n){var o=n(1);t.exports=function(t){var e=o(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(0,0,0,0),e}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(0,0,0,0),e}},function(t,e,n){var r=n(1);t.exports=function(){var t=Array.prototype.slice.call(arguments),e=t.map(function(t){return r(t)}),n=Math.max.apply(null,e);return new Date(n)}},function(t,e,n){var r=n(1);t.exports=function(){var t=Array.prototype.slice.call(arguments),e=t.map(function(t){return r(t)}),n=Math.min.apply(null,e);return new Date(n)}},function(t,e,n){var o=n(1);t.exports=function(t,e){var n=o(t),r=Number(e);return n.setDate(r),n}},function(t,e,n){var f=n(1),l=n(60);t.exports=function(t,e,n){var r=n&&Number(n.weekStartsOn)||0,o=f(t),i=Number(e),a=o.getDay(),u=i%7,s=(u+7)%7,c=(s<r?7:0)+i-a;return l(o,c)}},function(t,e,n){var o=n(1);t.exports=function(t,e){var n=o(t),r=Number(e);return n.setMonth(0),n.setDate(r),n}},function(t,e,n){var o=n(1);t.exports=function(t,e){var n=o(t),r=Number(e);return n.setHours(r),n}},function(t,e,n){var a=n(1),u=n(60),s=n(179);t.exports=function(t,e){var n=a(t),r=Number(e),o=s(n),i=r-o;return u(n,i)}},function(t,e,n){var i=n(1),a=n(120);t.exports=function(t,e){var n=i(t),r=Number(e),o=a(n)-r;return n.setDate(n.getDate()-7*o),n}},function(t,e,n){var o=n(1);t.exports=function(t,e){var n=o(t),r=Number(e);return n.setMilliseconds(r),n}},function(t,e,n){var o=n(1);t.exports=function(t,e){var n=o(t),r=Number(e);return n.setMinutes(r),n}},function(t,e,n){var a=n(1),u=n(193);t.exports=function(t,e){var n=a(t),r=Number(e),o=Math.floor(n.getMonth()/3)+1,i=r-o;return u(n,n.getMonth()+3*i)}},function(t,e,n){var o=n(1);t.exports=function(t,e){var n=o(t),r=Number(e);return n.setSeconds(r),n}},function(t,e,n){var o=n(1);t.exports=function(t,e){var n=o(t),r=Number(e);return n.setFullYear(r),n}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r(t);return e.setDate(1),e.setHours(0,0,0,0),e}},function(t,e,n){var r=n(50);t.exports=function(){return r(new Date)}},function(t,e){t.exports=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),r=t.getDate(),o=new Date(0);return o.setFullYear(e,n,r+1),o.setHours(0,0,0,0),o}},function(t,e){t.exports=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),r=t.getDate(),o=new Date(0);return o.setFullYear(e,n,r-1),o.setHours(0,0,0,0),o}},function(t,e,n){var r=n(60);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(159);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(61);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(162);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(83);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(163);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(164);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(114);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(165);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var s,c=[],f=!1,l=-1;function d(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&h())}function h(){if(!f){var t=u(d);f=!0;for(var e=c.length;e;){for(s=c,c=[];++l<e;)s&&s[l].run();l=-1,e=c.length}s=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(t)}}function v(t,e){this.fun=t,this.array=e}function p(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new v(t,e)),1!==c.length||f||u(h)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){var v,p,y=n(194),g=n(195),m=0,b=0;t.exports=function(t,e,n){var r=e&&n||0,o=e||[];t=t||{};var i=t.node||v,a=void 0!==t.clockseq?t.clockseq:p;if(null==i||null==a){var u=y();null==i&&(i=v=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==a&&(a=p=16383&(u[6]<<8|u[7]))}var s=void 0!==t.msecs?t.msecs:(new Date).getTime(),c=void 0!==t.nsecs?t.nsecs:b+1,f=s-m+(c-b)/1e4;if(f<0&&void 0===t.clockseq&&(a=a+1&16383),(f<0||m<s)&&void 0===t.nsecs&&(c=0),1e4<=c)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");m=s,b=c,p=a,s+=122192928e5;var l=(1e4*(268435455&s)+c)%4294967296;o[r++]=l>>>24&255,o[r++]=l>>>16&255,o[r++]=l>>>8&255,o[r++]=255&l;var d=s/4294967296*1e4&268435455;o[r++]=d>>>8&255,o[r++]=255&d,o[r++]=d>>>24&15|16,o[r++]=d>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var h=0;h<6;++h)o[r+h]=i[h];return e||g(o)}},function(t,e,n){var a=n(194),u=n(195);t.exports=function(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null),t=t||{};var o=t.random||(t.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var i=0;i<16;++i)e[r+i]=o[i];return e||u(o)}},function(t,e,n){var v,p,y=n(196),g=n(197),m=0,b=0;t.exports=function(t,e,n){var r=e&&n||0,o=e||[];t=t||{};var i=t.node||v,a=void 0!==t.clockseq?t.clockseq:p;if(null==i||null==a){var u=y();null==i&&(i=v=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==a&&(a=p=16383&(u[6]<<8|u[7]))}var s=void 0!==t.msecs?t.msecs:(new Date).getTime(),c=void 0!==t.nsecs?t.nsecs:b+1,f=s-m+(c-b)/1e4;if(f<0&&void 0===t.clockseq&&(a=a+1&16383),(f<0||m<s)&&void 0===t.nsecs&&(c=0),1e4<=c)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");m=s,b=c,p=a,s+=122192928e5;var l=(1e4*(268435455&s)+c)%4294967296;o[r++]=l>>>24&255,o[r++]=l>>>16&255,o[r++]=l>>>8&255,o[r++]=255&l;var d=s/4294967296*1e4&268435455;o[r++]=d>>>8&255,o[r++]=255&d,o[r++]=d>>>24&15|16,o[r++]=d>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var h=0;h<6;++h)o[r+h]=i[h];return e||g(o)}},function(t,e,n){var a=n(196),u=n(197);t.exports=function(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null),t=t||{};var o=t.random||(t.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var i=0;i<16;++i)e[r+i]=o[i];return e||u(o)}},function(t,e,n){"use strict";n.r(e);var r=n(198),o=(n(199),n(401),n(402),function(){}),i={},a={},u=null,s={mark:o,measure:o};try{"undefined"!=typeof window&&(i=window),"undefined"!=typeof document&&(a=document),"undefined"!=typeof MutationObserver&&(u=MutationObserver),"undefined"!=typeof performance&&(s=performance)}catch(t){}var c=i.navigator||{},f=c.userAgent,l=void 0===f?"":f,h=i,v=a,d=u,p=s,y=!!v.documentElement&&!!v.head&&"function"==typeof v.addEventListener&&"function"==typeof v.createElement,k=~l.indexOf("MSIE")||~l.indexOf("Trident/"),g="___FONT_AWESOME___",x=16,m="svg-inline--fa",S="data-fa-i2svg",b="data-fa-pseudo-element",w="fontawesome-i2svg",_=["HTML","HEAD","STYLE","SCRIPT"],O=function(){try{return!0}catch(t){return!1}}(),E=[1,2,3,4,5,6,7,8,9,10],j=E.concat([11,12,13,14,15,16,17,18,19,20]),M=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],A=["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter"].concat(E.map(function(t){return t+"x"})).concat(j.map(function(t){return"w-"+t})),P=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},I=h.FontAwesomeConfig||{};if(v&&"function"==typeof v.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e,n=D(t,2),r=n[0],o=n[1],i=(e=function(t){var e=v.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(r),""===e||"false"!==e&&("true"===e||e));null!=i&&(I[o]=i)})}var L=T({familyPrefix:"fa",replacementClass:m,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},I);L.autoReplaceSvg||(L.observeMutations=!1);var C=T({},L);h.FontAwesomeConfig=C;var q=h||{};q[g]||(q[g]={}),q[g].styles||(q[g].styles={}),q[g].hooks||(q[g].hooks={}),q[g].shims||(q[g].shims=[]);var R=q[g],F=[],$=!1;y&&($=(v.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(v.readyState),$||v.addEventListener("DOMContentLoaded",function t(){v.removeEventListener("DOMContentLoaded",t),$=1,F.map(function(t){return t()})}));var N=x,B={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function z(t){if(t&&y){var e=v.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=v.head.childNodes,r=null,o=n.length-1;-1<o;o--){var i=n[o],a=(i.tagName||"").toUpperCase();-1<["STYLE","LINK"].indexOf(a)&&(r=i)}return v.head.insertBefore(e,r),t}}var Y="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function U(){for(var t=12,e="";0<t--;)e+=Y[62*Math.random()|0];return e}function W(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function H(t){return t.classList?W(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(t){return t})}function G(t,e){var n,r=e.split("-"),o=r[0],i=r.slice(1).join("-");return o!==t||""===i||(n=i,~A.indexOf(n))?null:i}function J(t){return(""+t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function V(n){return Object.keys(n||{}).reduce(function(t,e){return t+(e+": ")+n[e]+";"},"")}function K(t){return t.size!==B.size||t.x!==B.x||t.y!==B.y||t.rotate!==B.rotate||t.flipX||t.flipY}function X(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,o={transform:"translate("+n/2+" 256)"},i="translate("+32*e.x+", "+32*e.y+") ",a="scale("+e.size/16*(e.flipX?-1:1)+", "+e.size/16*(e.flipY?-1:1)+") ",u="rotate("+e.rotate+" 0 0)",s={transform:i+" "+a+" "+u},c={transform:"translate("+r/2*-1+" -256)"};return{outer:o,inner:s,path:c}}var Q={x:0,y:0,width:"100%",height:"100%"},Z=function(t){var e=t.children,n=t.attributes,r=t.main,o=t.mask,i=t.transform,a=r.width,u=r.icon,s=o.width,c=o.icon,f=X({transform:i,containerWidth:s,iconWidth:a}),l={tag:"rect",attributes:T({},Q,{fill:"white"})},d={tag:"g",attributes:T({},f.inner),children:[{tag:"path",attributes:T({},u.attributes,f.path,{fill:"black"})}]},h={tag:"g",attributes:T({},f.outer),children:[d]},v="mask-"+U(),p="clip-"+U(),y={tag:"mask",attributes:T({},Q,{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[l,h]},g={tag:"defs",children:[{tag:"clipPath",attributes:{id:p},children:[c]},y]};return e.push(g,{tag:"rect",attributes:T({fill:"currentColor","clip-path":"url(#"+p+")",mask:"url(#"+v+")"},Q)}),{children:e,attributes:n}},tt=function(t){var e=t.children,n=t.attributes,r=t.main,o=t.transform,i=t.styles,a=V(i);if(0<a.length&&(n.style=a),K(o)){var u=X({transform:o,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:T({},u.outer),children:[{tag:"g",attributes:T({},u.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:T({},r.icon.attributes,u.path)}]}]})}else e.push(r.icon);return{children:e,attributes:n}},et=function(t){var e=t.children,n=t.main,r=t.mask,o=t.attributes,i=t.styles,a=t.transform;if(K(a)&&n.found&&!r.found){var u=n.width,s=n.height,c=u/s/2,f=.5;o.style=V(T({},i,{"transform-origin":c+a.x/16+"em "+(f+a.y/16)+"em"}))}return[{tag:"svg",attributes:o,children:e}]},nt=function(t){var e=t.prefix,n=t.iconName,r=t.children,o=t.attributes,i=t.symbol,a=!0===i?e+"-"+C.familyPrefix+"-"+n:i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:T({},o,{id:a}),children:r}]}]};function rt(t){var e=t.icons,n=e.main,r=e.mask,o=t.prefix,i=t.iconName,a=t.transform,u=t.symbol,s=t.title,c=t.extra,f=t.watchable,l=void 0!==f&&f,d=r.found?r:n,h=d.width,v=d.height,p="fa-w-"+Math.ceil(h/v*16),y=[C.replacementClass,i?C.familyPrefix+"-"+i:"",p].filter(function(t){return-1===c.classes.indexOf(t)}).concat(c.classes).join(" "),g={children:[],attributes:T({},c.attributes,{"data-prefix":o,"data-icon":i,class:y,role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+h+" "+v})};l&&(g.attributes[S]=""),s&&g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-"+U()},children:[s]});var m=T({},g,{prefix:o,iconName:i,main:n,mask:r,transform:a,symbol:u,styles:c.styles}),b=r.found&&n.found?Z(m):tt(m),w=b.children,_=b.attributes;return m.children=w,m.attributes=_,u?nt(m):et(m)}function ot(t){var e=t.content,n=t.width,r=t.height,o=t.transform,i=t.title,a=t.extra,u=t.watchable,s=void 0!==u&&u,c=T({},a.attributes,i?{title:i}:{},{class:a.classes.join(" ")});s&&(c[S]="");var f,l,d,h,v,p,y,g,m,b=T({},a.styles);K(o)&&(b.transform=(f={transform:o,startCentered:!0,width:n,height:r},l=f.transform,d=f.width,h=void 0===d?x:d,v=f.height,p=void 0===v?x:v,y=f.startCentered,g=void 0!==y&&y,m="",m+=g&&k?"translate("+(l.x/N-h/2)+"em, "+(l.y/N-p/2)+"em) ":g?"translate(calc(-50% + "+l.x/N+"em), calc(-50% + "+l.y/N+"em)) ":"translate("+l.x/N+"em, "+l.y/N+"em) ",m+="scale("+l.size/N*(l.flipX?-1:1)+", "+l.size/N*(l.flipY?-1:1)+") ",m+="rotate("+l.rotate+"deg) ",m),b["-webkit-transform"]=b.transform);var w=V(b);0<w.length&&(c.style=w);var _=[];return _.push({tag:"span",attributes:c,children:[e]}),i&&_.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),_}var it=function(){},at=C.measurePerformance&&p&&p.mark&&p.measure?p:{mark:it,measure:it},ut='FA "5.5.0"',st=function(t){at.mark(ut+" "+t+" ends"),at.measure(ut+" "+t,ut+" "+t+" begins",ut+" "+t+" ends")},ct={begin:function(t){return at.mark(ut+" "+t+" begins"),function(){return st(t)}},end:st},ft=function(t,e,n,r){var o,i,a,u,s,c=Object.keys(t),f=c.length,l=void 0!==r?(u=e,s=r,function(t,e,n,r){return u.call(s,t,e,n,r)}):e;for(a=void 0===n?(o=1,t[c[0]]):(o=0,n);o<f;o++)i=c[o],a=l(a,t[i],i,t);return a},lt=R.styles,dt=R.shims,ht={},vt={},pt={},yt=function(){var t=function(r){return ft(lt,function(t,e,n){return t[n]=ft(e,r,{}),t},{})};ht=t(function(t,e,n){return t[e[3]]=n,t}),vt=t(function(e,t,n){var r=t[2];return e[n]=n,r.forEach(function(t){e[t]=n}),e});var i="far"in lt;pt=ft(dt,function(t,e){var n=e[0],r=e[1],o=e[2];return"far"!==r||i||(r="fas"),t[n]={prefix:r,iconName:o},t},{})};function gt(t,e){return ht[t][e]}yt();var mt=R.styles,bt=function(){return{prefix:null,iconName:null,rest:[]}};function wt(t){return t.reduce(function(t,e){var n,r=G(C.familyPrefix,e);if(mt[e])t.prefix=e;else if(r){var o="fa"===t.prefix?(n=r,pt[n]||{prefix:null,iconName:null}):{};t.iconName=o.iconName||r,t.prefix=o.prefix||t.prefix}else e!==C.replacementClass&&0!==e.indexOf("fa-w-")&&t.rest.push(e);return t},bt())}function _t(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function kt(t){var n,e=t.tag,r=t.attributes,o=void 0===r?{}:r,i=t.children,a=void 0===i?[]:i;return"string"==typeof t?J(t):"<"+e+" "+(n=o,Object.keys(n||{}).reduce(function(t,e){return t+(e+'="')+J(n[e])+'" '},"").trim())+">"+a.map(kt).join("")+"</"+e+">"}var xt=function(){};function St(t){var e=t.getAttribute?t.getAttribute(S):null;return"string"==typeof e}var Ot={replace:function(t){var e=t[0],n=t[1],r=n.map(function(t){return kt(t)}).join("\n");if(e.parentNode&&e.outerHTML)e.outerHTML=r+(C.keepOriginalSource&&"svg"!==e.tagName.toLowerCase()?"\x3c!-- "+e.outerHTML+" --\x3e":"");else if(e.parentNode){var o=document.createElement("span");e.parentNode.replaceChild(o,e),o.outerHTML=r}},nest:function(t){var e=t[0],n=t[1];if(~H(e).indexOf(C.replacementClass))return Ot.replace(t);var r=new RegExp(C.familyPrefix+"-.*");delete n[0].attributes.style;var o=n[0].attributes.class.split(" ").reduce(function(t,e){return e===C.replacementClass||e.match(r)?t.toSvg.push(e):t.toNode.push(e),t},{toNode:[],toSvg:[]});n[0].attributes.class=o.toSvg.join(" ");var i=n.map(function(t){return kt(t)}).join("\n");e.setAttribute("class",o.toNode.join(" ")),e.setAttribute(S,""),e.innerHTML=i}};function Et(n,t){var r="function"==typeof t?t:xt;if(0===n.length)r();else{var e=h.requestAnimationFrame||function(t){return t()};e(function(){var t=function(){if(!0===C.autoReplaceSvg)return Ot.replace;var t=Ot[C.autoReplaceSvg];return t||Ot.replace}(),e=ct.begin("mutate");n.map(t),e(),r()})}}var jt=!1;var Mt=null;var At=function(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(t,e){var n=e.split(":"),r=n[0],o=n.slice(1);return r&&0<o.length&&(t[r]=o.join(":").trim()),t},{})),n};function Pt(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n).toString(16);e+=("000"+r).slice(-4)}return e}var Tt=function(t){var e,n,r=t.getAttribute("data-prefix"),o=t.getAttribute("data-icon"),i=void 0!==t.innerText?t.innerText.trim():"",a=wt(H(t));return r&&o&&(a.prefix=r,a.iconName=o),a.prefix&&1<i.length?a.iconName=(e=a.prefix,n=t.innerText,vt[e][n]):a.prefix&&1===i.length&&(a.iconName=gt(a.prefix,Pt(t.innerText))),a},Dt=function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce(function(t,e){var n=e.toLowerCase().split("-"),r=n[0],o=n.slice(1).join("-");if(r&&"h"===o)return t.flipX=!0,t;if(r&&"v"===o)return t.flipY=!0,t;if(o=parseFloat(o),isNaN(o))return t;switch(r){case"grow":t.size=t.size+o;break;case"shrink":t.size=t.size-o;break;case"left":t.x=t.x-o;break;case"right":t.x=t.x+o;break;case"up":t.y=t.y-o;break;case"down":t.y=t.y+o;break;case"rotate":t.rotate=t.rotate+o}return t},e):e},It=function(t){return Dt(t.getAttribute("data-fa-transform"))},Lt=function(t){var e=t.getAttribute("data-fa-symbol");return null!==e&&(""===e||e)},Ct=function(t){var e=W(t.attributes).reduce(function(t,e){return"class"!==t.name&&"style"!==t.name&&(t[e.name]=e.value),t},{}),n=t.getAttribute("title");return C.autoA11y&&(n?e["aria-labelledby"]=C.replacementClass+"-title-"+U():e["aria-hidden"]="true"),e},qt=function(t){var e=t.getAttribute("data-fa-mask");return e?wt(e.split(" ").map(function(t){return t.trim()})):bt()},Rt={iconName:null,title:null,prefix:null,transform:B,symbol:!1,mask:null,extra:{classes:[],styles:{},attributes:{}}};function Ft(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}Ft.prototype=Object.create(Error.prototype),Ft.prototype.constructor=Ft;var $t={fill:"currentColor"},Nt={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},Bt={tag:"path",attributes:T({},$t,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},zt=T({},Nt,{attributeName:"opacity"}),Yt={tag:"circle",attributes:T({},$t,{cx:"256",cy:"364",r:"28"}),children:[{tag:"animate",attributes:T({},Nt,{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:T({},zt,{values:"1;0;1;1;0;1;"})}]},Ut={tag:"path",attributes:T({},$t,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:[{tag:"animate",attributes:T({},zt,{values:"1;0;0;0;0;1;"})}]},Wt={tag:"path",attributes:T({},$t,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:T({},zt,{values:"0;0;1;1;0;0;"})}]},Ht={tag:"g",children:[Bt,Yt,Ut,Wt]},Gt=R.styles,Jt="fa-layers-text",Vt=/Font Awesome 5 (Solid|Regular|Light|Brands|Free|Pro)/,Kt={Solid:"fas",Regular:"far",Light:"fal",Brands:"fab"},Xt={900:"fas",400:"far",300:"fal"};function Qt(t,e){var n={found:!1,width:512,height:512,icon:Ht};if(t&&e&&Gt[e]&&Gt[e][t]){var r=Gt[e][t],o=r[0],i=r[1],a=r.slice(4);n={found:!0,width:o,height:i,icon:{tag:"path",attributes:{fill:"currentColor",d:a[0]}}}}else if(t&&e&&!C.showMissingIcons)throw new Ft("Icon is missing for prefix "+e+" with icon name "+t);return n}function Zt(t){var e,n,r,o,i,a,u,s,c,f,l,d,h,v,p,y,g,m,b,w=(e=t,n=Tt(e),r=n.iconName,o=n.prefix,i=n.rest,a=At(e),u=It(e),s=Lt(e),c=Ct(e),f=qt(e),{iconName:r,title:e.getAttribute("title"),prefix:o,transform:u,symbol:s,mask:f,extra:{classes:i,styles:a,attributes:c}});return~w.extra.classes.indexOf(Jt)?function(t,e){var n=e.title,r=e.transform,o=e.extra,i=null,a=null;if(k){var u=parseInt(getComputedStyle(t).fontSize,10),s=t.getBoundingClientRect();i=s.width/u,a=s.height/u}return C.autoA11y&&!n&&(o.attributes["aria-hidden"]="true"),[t,ot({content:t.innerHTML,width:i,height:a,transform:r,title:n,extra:o,watchable:!0})]}(t,w):(l=t,d=w,h=d.iconName,v=d.title,p=d.prefix,y=d.transform,g=d.symbol,m=d.mask,b=d.extra,[l,rt({icons:{main:Qt(h,p),mask:Qt(m.iconName,m.prefix)},prefix:p,iconName:h,transform:y,symbol:g,mask:m,title:v,extra:b,watchable:!0})])}function te(t){if(y){var e,n=ct.begin("searchPseudoElements");e=function(){W(t.querySelectorAll("*")).filter(function(t){return!(t.parentNode===document.head||~_.indexOf(t.tagName.toUpperCase())||t.getAttribute(b)||t.parentNode&&"svg"===t.parentNode.tagName)}).forEach(function(d){[":before",":after"].forEach(function(e){var t=W(d.children),n=t.filter(function(t){return t.getAttribute(b)===e})[0],r=h.getComputedStyle(d,e),o=r.getPropertyValue("font-family").match(Vt),i=r.getPropertyValue("font-weight");if(n&&!o)d.removeChild(n);else if(o){var a=r.getPropertyValue("content"),u=~["Light","Regular","Solid","Brands"].indexOf(o[1])?Kt[o[1]]:Xt[i],s=gt(u,Pt(3===a.length?a.substr(1,1):a));if(!n||n.getAttribute("data-prefix")!==u||n.getAttribute("data-icon")!==s){n&&d.removeChild(n);var c=Rt.extra;c.attributes[b]=e;var f=rt(T({},Rt,{icons:{main:Qt(s,u),mask:bt()},prefix:u,iconName:s,extra:c,watchable:!0})),l=v.createElement("svg");":before"===e?d.insertBefore(l,d.firstChild):d.appendChild(l),l.outerHTML=f.map(function(t){return kt(t)}).join("\n")}}})})},jt=!0,e(),jt=!1,n()}}function ee(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(y){var n=v.documentElement.classList,r=function(t){return n.add(w+"-"+t)},o=function(t){return n.remove(w+"-"+t)},i=Object.keys(Gt),a=["."+Jt+":not(["+S+"])"].concat(i.map(function(t){return"."+t+":not(["+S+"])"})).join(", ");if(0!==a.length){var u=W(t.querySelectorAll(a));if(0<u.length){r("pending"),o("complete");var s=ct.begin("onTree"),c=u.reduce(function(t,e){try{var n=Zt(e);n&&t.push(n)}catch(t){O||t instanceof Ft&&console.error(t)}return t},[]);s(),Et(c,function(){r("active"),r("complete"),o("pending"),"function"==typeof e&&e()})}}}}function ne(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=Zt(t);n&&Et([n],e)}var re=function(){var t=m,e=C.familyPrefix,n=C.replacementClass,r='svg:not(:root).svg-inline--fa {\n  overflow: visible; }\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -.125em; }\n  .svg-inline--fa.fa-lg {\n    vertical-align: -.225em; }\n  .svg-inline--fa.fa-w-1 {\n    width: 0.0625em; }\n  .svg-inline--fa.fa-w-2 {\n    width: 0.125em; }\n  .svg-inline--fa.fa-w-3 {\n    width: 0.1875em; }\n  .svg-inline--fa.fa-w-4 {\n    width: 0.25em; }\n  .svg-inline--fa.fa-w-5 {\n    width: 0.3125em; }\n  .svg-inline--fa.fa-w-6 {\n    width: 0.375em; }\n  .svg-inline--fa.fa-w-7 {\n    width: 0.4375em; }\n  .svg-inline--fa.fa-w-8 {\n    width: 0.5em; }\n  .svg-inline--fa.fa-w-9 {\n    width: 0.5625em; }\n  .svg-inline--fa.fa-w-10 {\n    width: 0.625em; }\n  .svg-inline--fa.fa-w-11 {\n    width: 0.6875em; }\n  .svg-inline--fa.fa-w-12 {\n    width: 0.75em; }\n  .svg-inline--fa.fa-w-13 {\n    width: 0.8125em; }\n  .svg-inline--fa.fa-w-14 {\n    width: 0.875em; }\n  .svg-inline--fa.fa-w-15 {\n    width: 0.9375em; }\n  .svg-inline--fa.fa-w-16 {\n    width: 1em; }\n  .svg-inline--fa.fa-w-17 {\n    width: 1.0625em; }\n  .svg-inline--fa.fa-w-18 {\n    width: 1.125em; }\n  .svg-inline--fa.fa-w-19 {\n    width: 1.1875em; }\n  .svg-inline--fa.fa-w-20 {\n    width: 1.25em; }\n  .svg-inline--fa.fa-pull-left {\n    margin-right: .3em;\n    width: auto; }\n  .svg-inline--fa.fa-pull-right {\n    margin-left: .3em;\n    width: auto; }\n  .svg-inline--fa.fa-border {\n    height: 1.5em; }\n  .svg-inline--fa.fa-li {\n    width: 2em; }\n  .svg-inline--fa.fa-fw {\n    width: 1.25em; }\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0; }\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -.125em;\n  width: 1em; }\n  .fa-layers svg.svg-inline--fa {\n    -webkit-transform-origin: center center;\n            transform-origin: center center; }\n\n.fa-layers-text, .fa-layers-counter {\n  display: inline-block;\n  position: absolute;\n  text-align: center; }\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center; }\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: .25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right; }\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right; }\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left; }\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right; }\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left; }\n\n.fa-lg {\n  font-size: 1.33333em;\n  line-height: 0.75em;\n  vertical-align: -.0667em; }\n\n.fa-xs {\n  font-size: .75em; }\n\n.fa-sm {\n  font-size: .875em; }\n\n.fa-1x {\n  font-size: 1em; }\n\n.fa-2x {\n  font-size: 2em; }\n\n.fa-3x {\n  font-size: 3em; }\n\n.fa-4x {\n  font-size: 4em; }\n\n.fa-5x {\n  font-size: 5em; }\n\n.fa-6x {\n  font-size: 6em; }\n\n.fa-7x {\n  font-size: 7em; }\n\n.fa-8x {\n  font-size: 8em; }\n\n.fa-9x {\n  font-size: 9em; }\n\n.fa-10x {\n  font-size: 10em; }\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em; }\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0; }\n  .fa-ul > li {\n    position: relative; }\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit; }\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: .1em;\n  padding: .2em .25em .15em; }\n\n.fa-pull-left {\n  float: left; }\n\n.fa-pull-right {\n  float: right; }\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: .3em; }\n\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: .3em; }\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear; }\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8); }\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg); }\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg); }\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg); }\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1); }\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1); }\n\n.fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1); }\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical {\n  -webkit-filter: none;\n          filter: none; }\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em; }\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0; }\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em; }\n\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em; }\n\n.fa-inverse {\n  color: #fff; }\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px; }\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto; }\n';if("fa"!==e||n!==t){var o=new RegExp("\\.fa\\-","g"),i=new RegExp("\\."+t,"g");r=r.replace(o,"."+e+"-").replace(i,"."+n)}return r};var oe=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.definitions={}}return P(t,[{key:"add",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(t){e.definitions[t]=T({},e.definitions[t]||{},o[t]),function t(e,o){var n=Object.keys(o).reduce(function(t,e){var n=o[e],r=!!n.icon;return r?t[n.iconName]=n.icon:t[e]=n,t},{});"function"==typeof R.hooks.addPack?R.hooks.addPack(e,n):R.styles[e]=T({},R.styles[e]||{},n),"fas"===e&&t("fa",o)}(t,o[t]),yt()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(i,t){var a=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(a).map(function(t){var e=a[t],n=e.prefix,r=e.iconName,o=e.icon;i[n]||(i[n]={}),i[n][r]=o}),i}}]),t}();function ie(t){var e=t[0],n=t[1],r=t.slice(4);return{found:!0,width:e,height:n,icon:{tag:"path",attributes:{fill:"currentColor",d:r[0]}}}}function ae(){C.autoAddCss&&!le&&(z(re()),le=!0)}function ue(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(t){return kt(t)})}}),Object.defineProperty(e,"node",{get:function(){if(y){var t=v.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function se(t){var e=t.prefix,n=void 0===e?"fa":e,r=t.iconName;if(r)return _t(fe.definitions,n,r)||_t(R.styles,n,r)}var ce,fe=new oe,le=!1,de={i2svg:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(y){ae();var e=t.node,n=void 0===e?v:e,r=t.callback,o=void 0===r?function(){}:r;C.searchPseudoElements&&te(n),ee(n,o)}},css:re,insertCss:function(){le||(z(re()),le=!0)},watch:function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot,r=e.observeMutationsRoot;!1===C.autoReplaceSvg&&(C.autoReplaceSvg=!0),C.observeMutations=!0,t=function(){ve({autoReplaceSvgRoot:n}),function(t){if(d&&C.observeMutations){var o=t.treeCallback,i=t.nodeCallback,a=t.pseudoElementsCallback,e=t.observeMutationsRoot,n=void 0===e?v.body:e;Mt=new d(function(t){jt||W(t).forEach(function(t){if("childList"===t.type&&0<t.addedNodes.length&&!St(t.addedNodes[0])&&(C.searchPseudoElements&&a(t.target),o(t.target)),"attributes"===t.type&&t.target.parentNode&&C.searchPseudoElements&&a(t.target.parentNode),"attributes"===t.type&&St(t.target)&&~M.indexOf(t.attributeName))if("class"===t.attributeName){var e=wt(H(t.target)),n=e.prefix,r=e.iconName;n&&t.target.setAttribute("data-prefix",n),r&&t.target.setAttribute("data-icon",r)}else i(t.target)})}),y&&Mt.observe(n,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}({treeCallback:ee,nodeCallback:ne,pseudoElementsCallback:te,observeMutationsRoot:r})},y&&($?setTimeout(t,0):F.push(t))}},he=(ce=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?B:n,o=e.symbol,i=void 0!==o&&o,a=e.mask,u=void 0===a?null:a,s=e.title,c=void 0===s?null:s,f=e.classes,l=void 0===f?[]:f,d=e.attributes,h=void 0===d?{}:d,v=e.styles,p=void 0===v?{}:v;if(t){var y=t.prefix,g=t.iconName,m=t.icon;return ue(T({type:"icon"},t),function(){return ae(),C.autoA11y&&(c?h["aria-labelledby"]=C.replacementClass+"-title-"+U():h["aria-hidden"]="true"),rt({icons:{main:ie(m),mask:u?ie(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:y,iconName:g,transform:T({},B,r),symbol:i,title:c,extra:{attributes:h,styles:p,classes:l}})})}},de),ve=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot,n=void 0===e?v:e;0<Object.keys(R.styles).length&&y&&C.autoReplaceSvg&&he.i2svg({node:n})},pe={prefix:"fas",iconName:"arrow-left",icon:[448,512,[],"f060","M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"]},ye={prefix:"fas",iconName:"check-circle",icon:[512,512,[],"f058","M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"]},ge={prefix:"fas",iconName:"ellipsis-v",icon:[192,512,[],"f142","M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"]},me={prefix:"fas",iconName:"hdd",icon:[576,512,[],"f0a0","M576 304v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48zm-48-80a79.557 79.557 0 0 1 30.777 6.165L462.25 85.374A48.003 48.003 0 0 0 422.311 64H153.689a48 48 0 0 0-39.938 21.374L17.223 230.165A79.557 79.557 0 0 1 48 224h480zm-48 96c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32zm-96 0c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32z"]},be={prefix:"fas",iconName:"heart",icon:[512,512,[],"f004","M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"]},we={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},_e={prefix:"fas",iconName:"search",icon:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"]},ke={prefix:"fas",iconName:"star",icon:[576,512,[],"f005","M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"]};fe.add(we,_e,ge,pe,be,me,ye,ke),de.i2svg(),de.watch();var xe={name:"Atomic",state:"home",proxy:"https://atomic-proxy.herokuapp.com/?url="};function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(t){Oe(e,t,n[t])})}return e}function Oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ee(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function je(u){return function(){var t=this,a=arguments;return new Promise(function(e,n){var r=u.apply(t,a);function o(t){Ee(r,e,n,o,i,"next",t)}function i(t){Ee(r,e,n,o,i,"throw",t)}o(void 0)})}}function Me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ae=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r,o,i,a;return e=t,n=[{key:"toObject",value:function(){var t={},e=!0,n=!1,r=void 0;try{for(var o,i=this.attributes[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;t[a]=this[a]}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}return t}},{key:"update",value:(a=je(regeneratorRuntime.mark(function t(){var e,n,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.db[this._database].get(this._id);case 3:e=t.sent,n=Se({_rev:e._rev},this.toObject()),window.db[this._database].put(n).then(function(){"posts"===r._database&&r.isSaved()&&window.db.saved.put(n)}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])})),function(){return a.apply(this,arguments)})},{key:"save",value:(i=je(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.db[this._database].put(this.toObject());case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0);case 9:case"end":return t.stop()}},t,this,[[0,6]])})),function(){return i.apply(this,arguments)})},{key:"delete",value:(o=je(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.db[this._database].get(this._id);case 3:return e=t.sent,t.next=6,window.db[this._database].remove(e);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])})),function(){return o.apply(this,arguments)})}],n&&Me(e.prototype,n),r&&Me(e,r),t}();function Pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Te=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"toggle",value:function(){var t=document.getElementById("main-loader");t?t.classList.toggle("loader--show"):(e.init(),e.toggle())}},{key:"init",value:function(){if(!document.getElementById("main-loader")){document.body.insertAdjacentHTML("beforeend",'<div id="main-loader"><div class="loader">Loading...</div></div>')}}}],n&&Pe(t.prototype,n),r&&Pe(t,r),e}();function De(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function Ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Le=function(){function u(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),this.$options=document.querySelector(".options"),this.opened=!1,this.events=[]}var t,e,n,s,r;return t=u,e=[{key:"close",value:function(){this.$options.classList.remove("open"),this.opened=!1}},{key:"open",value:function(){this.$options.classList.add("open"),this.opened=!0}}],n=[{key:"source",value:function(){u.instance.markup='\n            <ul>\n                <li>\n                    <button class="btn js-delete-source">Delete source</button>\n                </li>\n            </ul>\n        '}},{key:"toggle",value:function(){u.instance.opened?u.instance.close():u.instance.open()}},{key:"render",value:(s=regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=u.instance,e.$options.innerHTML=e.markup;case 2:case"end":return t.stop()}},t,this)}),r=function(){var t=this,a=arguments;return new Promise(function(e,n){var r=s.apply(t,a);function o(t){De(r,e,n,o,i,"next",t)}function i(t){De(r,e,n,o,i,"throw",t)}o(void 0)})},function(){return r.apply(this,arguments)})},{key:"addListeners",value:function(){var t=u.instance;t.events=[{el:document.querySelector(".js-delete-source"),event:"click",handler:Ne.delete}];var e=!0,n=!1,r=void 0;try{for(var o,i=t.events[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;a.el.addEventListener(a.event,a.handler)}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"init",value:function(t){switch(t.preventDefault(),window.app.state){case"source":u.source()}u.render().then(u.addListeners).then(u.toggle)}},{key:"listen",value:function(){var t=document.querySelector(".js-options");t.addEventListener("click",u.init.bind(u))}},{key:"markup",set:function(t){u._markup=t},get:function(){return u._markup}},{key:"instance",get:function(){return u._instance||(u.instance=new u),u._instance},set:function(t){u._instance=t}}],e&&Ie(t.prototype,e),n&&Ie(t,n),u}();function Ce(t){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ce(t)}function qe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Re(t,e){return!e||"object"!==Ce(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function Fe(t){return Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fe(t)}function $e(t,e){return $e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},$e(t,e)}var Ne=function(t){function r(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"http://example.com";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),t=Re(this,Fe(r).call(this)),t._database="sources",t.attributes=["_id","url","title"],t.url=e,t}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$e(t,e)}(r,t),e=r,n=[{key:"slug",value:function(){return this.title.split(" ").map(function(t){return t.toLowerCase()}).join("-")}},{key:"render",value:function(){return'<a href="#/source/'.concat(this.url,'">').concat(this.title,"</a>")}},{key:"isUnique",value:function(){return window.db[this._database].get(this._id).then(function(t){return!!t})}},{key:"renderToSidebar",value:function(){var t='\n\t\t<li>\n\t\t\t<a class="notranslate" translate="no" class="source__link" href="#/source/'.concat(this.url,'">').concat(this.title,"</a>\n\t\t</li>");return t}},{key:"_id",get:function(){return this.url}},{key:"url",set:function(t){if(!t.match(/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-_]*)?\??(?:[\-\+=&;%@\.\w_]*)#?(?:[\.\!\/\\\w]*))?)/))throw new Error("Invalid url given");this._url=t},get:function(){return this._url}},{key:"title",set:function(t){this._title=t},get:function(){return this._title}}],o=[{key:"delete",value:function(){if(window.app.source){var t=window.app.source;t.delete().then(function(){Te.toggle(),window.db.deleteBySource(t.url).then(function(){Te.toggle(),window.app.source=null,Le.toggle(),Qe.init(),en.get().init()})})}}},{key:"fromObject",value:function(t){if(t.title&&t.url){var e=new r(t.url);return e.title=t.title,e}}},{key:"openSource",value:function(t){Te.toggle(),window.db.sources.get(t).then(function(e){window.db.postsBySource(e).then(function(t){bn.render(t).then(function(){Te.toggle()}),document.querySelector(".current-section").textContent="Source: ".concat(e.title),window.app.state="source",e=r.fromObject(e),window.app.source=e,an.go("".concat(e.title," - ").concat(window.app.name),"#/source/".concat(e.url))})}).catch(function(){Qe.init()})}},{key:"loadSource",value:function(t){t.preventDefault();var e=t.target.textContent;r.openSource(e),en.get().close(),an.go("".concat(e," - ").concat(window.app.name),t.target.href)}},{key:"addListeners",value:function(){var t=document.querySelectorAll(".source__link");t.forEach(function(t){t.addEventListener("click",r.loadSource,!1)})}},{key:"render",value:function(t){var e=document.querySelector(".sources");if(t.length){var n=[];t.forEach(function(t){return n.push(t.renderToSidebar())}),e.innerHTML="<ul>".concat(n.join(""),"</ul>"),r.addListeners()}else e.innerHTML='<div class="emptiness">No sources added... yet :)</div>'}},{key:"all",value:function(){return window.db.sources.allDocs({include_docs:!0}).then(function(t){var e=t.rows.filter(function(t){return t.doc.url}).map(function(t){return r.fromObject(t.doc)});return e}).catch(function(t){throw new Error(t)})}},{key:"attributes",get:function(){return{url:"string",title:"string"}}}],n&&qe(e.prototype,n),o&&qe(e,o),r}(Ae);function Be(t){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Be(t)}function ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ye(t,e){return!e||"object"!==Be(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function Ue(t){var r="function"==typeof Map?new Map:void 0;return Ue=function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,n)}function n(){return We(t,arguments,Ge(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),He(n,t)},Ue(t)}function We(t,e,n){return We=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=Function.bind.apply(t,r),i=new o;return n&&He(i,n.prototype),i},We.apply(null,arguments)}function He(t,e){return He=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},He(t,e)}function Ge(t){return Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ge(t)}var Je=function(t){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e=Ye(this,Ge(n).call(this)),e.data=t.data,e.source=t.source,e.imageTagPattern=/<img.*src=\\?"(.*.[jpe?g|png|gif|webm])\\?".*\/>/,e}var e,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&He(t,e)}(n,t),e=n,r=[{key:"strip",value:function(t){var e=this.parseFromString(t,"text/html");return e.body.textContent||""}},{key:"extractImage",value:function(t){var e=t.match(this.imageTagPattern);return e?e[1]:""}},{key:"xmlToJson",value:function(t){var e={},n={title:"title",link:"link",description:"content",pubDate:"timestamp"};for(var r in n)e[n[r]]=t.querySelector(r).textContent;var o=t.querySelector("enclosure");return e.image=o?o.getAttribute("url"):this.extractImage(e.content),e.content=e.content.replace(this.imageTagPattern,""),e.content=this.strip(e.content),e.source=new Ne(this.source.url),e.source.title=this.source.title,e}},{key:"feedInfo",value:function(){var t=this.parseFromString(this.data,"text/xml");return{title:t.querySelector("title"),description:t.querySelector("description")}}},{key:"parsePosts",value:function(){var t=this.parseFromString(this.data,"text/xml"),e=t.querySelectorAll("item"),n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;n.push(bn.fromObject.call(bn,this.xmlToJson(s)))}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}},{key:"posts",value:function(){return this.parsePosts()}},{key:"data",set:function(t){this._data=t},get:function(){return this._data}}],r&&ze(e.prototype,r),o&&ze(e,o),n}(Ue(DOMParser));function Ve(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ke(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function Xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Qe=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r,u,o;return e=t,n=null,r=[{key:"init",value:(u=regeneratorRuntime.mark(function t(){var c,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Te.toggle(),t.next=3,bn.all();case 3:return f=t.sent,f.length&&bn.render(f).then(function(){Te.toggle(),an.home(),document.querySelector(".current-section").textContent="All articles",window.app.state="home"}).catch(function(t){throw new Error(t)}),t.prev=5,t.delegateYield(regeneratorRuntime.mark(function t(){var r,e,n,o,i,a,u,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.db.sources.allDocs({include_docs:!0});case 2:for(c=t.sent,c=c.rows.filter(function(t){return t.doc.url}).map(function(t){return t.doc}),Ne.render(c.map(Ne.fromObject)),r=[],e=[],n=!0,o=!1,i=void 0,t.prev=10,a=function(){var n=s.value;e.push(fetch(window.app.proxy+n.url,{mode:"cors"}).then(function(t){return t.text()}).then(function(t){var e=new Je({data:t,source:n});r.push.apply(r,Ve(e.posts()))}))},u=c[Symbol.iterator]();!(n=(s=u.next()).done);n=!0)a();t.next=19;break;case 15:t.prev=15,t.t0=t.catch(10),o=!0,i=t.t0;case 19:t.prev=19,t.prev=20,n||null==u.return||u.return();case 22:if(t.prev=22,o)throw i;t.next=25;break;case 25:return t.finish(22);case 26:return t.finish(19);case 27:Promise.all(e).then(function(){for(var t=function(){var n=r[e];window.db.posts.get(n._id,function(t,e){t&&window.db.posts.put(n.toObject())})},e=0;e<r.length;e++)t();f.length||bn.all().then(function(t){bn.render(t).then(function(){Te.toggle(),an.home(),document.querySelector(".current-section").textContent="All articles",window.app.state="home"}).catch(function(t){throw new Error(t)})})});case 28:case"end":return t.stop()}},t,this,[[10,15,19,27],[20,,22,26]])})(),"t0",7);case 7:t.next=16;break;case 9:if(t.prev=9,t.t1=t.catch(5),console.error(t.t1),c.length){t.next=16;break}return Te.toggle(),bn.render([]),t.abrupt("return");case 16:case"end":return t.stop()}},t,this,[[5,9]])}),o=function(){var t=this,a=arguments;return new Promise(function(e,n){var r=u.apply(t,a);function o(t){Ke(r,e,n,o,i,"next",t)}function i(t){Ke(r,e,n,o,i,"throw",t)}o(void 0)})},function(){return o.apply(this,arguments)})}],n&&Xe(e.prototype,n),r&&Xe(e,r),t}();function Ze(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function tn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var en=function(){function n(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.opened=!1,this.header=document.querySelector(".header"),this.btn=document.querySelector(".logo"),this.cloak=document.querySelector(".sidebar__cloak"),this.title=document.querySelector(".sidebar__header a"),this.$links=document.querySelectorAll(".sidebar a"),this.init()}var t,e,r,u,o;return t=n,e=[{key:"init",value:(u=regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.db.sources.allDocs({include_docs:!0});case 3:e=t.sent,e=e.rows.filter(function(t){return t.doc.url}).map(function(t){return t.doc}),Ne.render(e.map(Ne.fromObject)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}),o=function(){var t=this,a=arguments;return new Promise(function(e,n){var r=u.apply(t,a);function o(t){Ze(r,e,n,o,i,"next",t)}function i(t){Ze(r,e,n,o,i,"throw",t)}o(void 0)})},function(){return o.apply(this,arguments)})},{key:"toggle",value:function(t){t.preventDefault(),this.opened?this.close():this.open()}},{key:"open",value:function(){this.header.classList.add("sidebar--opened"),this.btn.blur(),this.addListeners(),this.opened=!0}},{key:"close",value:function(){this.header.classList.remove("sidebar--opened"),this.btn.blur(),this.removeListeners(),this.opened=!1}},{key:"handleKeys",value:function(t){"Escape"===t.key&&this.opened&&this.close()}},{key:"removeListeners",value:function(){this.cloak.removeEventListener("click",this.close.bind(this)),window.removeEventListener("keypress",this.handleKeys.bind(this))}},{key:"addListeners",value:function(){this.cloak.addEventListener("click",this.close.bind(this)),window.addEventListener("keypress",this.handleKeys.bind(this)),this.title.addEventListener("click",function(t){t.preventDefault(),"home"!==window.app.state&&(document.querySelector(".current-section").textContent="All articles",n.get().close(),an.home(),Qe.init())}),this.$links.forEach(function(t){t.addEventListener("click",function(){n.get().close()})})}}],r=[{key:"get",value:function(){return n._sidebar}},{key:"listen",value:function(){var e=new n;n._sidebar=e,e.btn.addEventListener("click",e.toggle.bind(e)),e.btn.addEventListener("keypress",function(t){"Enter"===t.key&&e.toggle.bind(e)})}}],e&&tn(t.prototype,e),r&&tn(t,r),n}();function nn(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function rn(u){return function(){var t=this,a=arguments;return new Promise(function(e,n){var r=u.apply(t,a);function o(t){nn(r,e,n,o,i,"next",t)}function i(t){nn(r,e,n,o,i,"throw",t)}o(void 0)})}}function on(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var an=function(){function n(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.routes=t}var t,e,r,o,i,a,u;return t=n,e=[{key:"validateRoutes",value:function(t){if(!(t instanceof Array))throw new Error("routes parameters must be of an array");if(t.length){if(!t.every(function(t){return t.hasOwnProperty("url")&&"string"==typeof t.url&&t.hasOwnProperty("handler")&&"function"==typeof t.handler}))throw new Error("Routes have to be an object with url and handler properties")}}},{key:"init",value:function(){localStorage.removeItem("previous_url"),localStorage.removeItem("previous_name"),this.addListener(),this.handleCurrentRoute()}},{key:"handle",value:(u=rn(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.target.location.hash.substr(1),""===n)return t.next=4,ln.close();t.next=4;break;case 4:this.match(n),en.get().close();case 6:case"end":return t.stop()}},t,this)})),function(t){return u.apply(this,arguments)})},{key:"match",value:function(r){this.routes.forEach(function(t){var e=new RegExp(t.url),n=r.match(e);n&&t.handler(n[1])})}},{key:"handleCurrentRoute",value:function(){var t=window.location.hash.substr(1);this.match(t)}},{key:"addListener",value:function(){window.addEventListener("popstate",this.handle.bind(this),!1)}},{key:"routes",get:function(){return this._routes},set:function(t){this.validateRoutes(t),this._routes=t}}],r=[{key:"go",value:(a=rn(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:localStorage.setItem("previous_url",JSON.stringify(window.location)),localStorage.setItem("previous_name",document.title),document.title=e,window.history.pushState({},"",n);case 4:case"end":return t.stop()}},t,this)})),function(t,e){return a.apply(this,arguments)})},{key:"back",value:(i=rn(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=JSON.parse(localStorage.getItem("previous_url")),e&&""!==e.hash&&e.href!==window.location.href){t.next=6;break}return t.next=4,n.go(window.app.name,window.location.href.replace(/#.+/,""));case 4:t.next=8;break;case 6:return t.next=8,n.go(localStorage.getItem("previous_name"),e.href);case 8:case"end":return t.stop()}},t,this)})),function(){return i.apply(this,arguments)})},{key:"home",value:(o=rn(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.go(window.app.name,window.location.href.replace(/#.+/,""));case 2:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)})},{key:"listen",value:function(t){var e=new n(t);return e.init(),e}}],e&&on(t.prototype,e),r&&on(t,r),n}(),un=n(85);function sn(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function cn(u){return function(){var t=this,a=arguments;return new Promise(function(e,n){var r=u.apply(t,a);function o(t){sn(r,e,n,o,i,"next",t)}function i(t){sn(r,e,n,o,i,"throw",t)}o(void 0)})}}function fn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ln=function(){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r)}var t,e,n,o,i,a,u,s,c,f,l,d,h;return t=r,e=[{key:"setFromPost",value:function(t){if(!(t instanceof bn))throw new Error("post should be of type Post");this.post=t}},{key:"init",value:(h=cn(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.render();case 2:return e=t.sent,t.next=5,this.inject(e);case 5:return t.next=7,this.setProperties();case 7:return t.next=9,this.open();case 9:return t.next=11,this.addListeners();case 11:case"end":return t.stop()}},t,this)})),function(){return h.apply(this,arguments)})},{key:"setProperties",value:(d=cn(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.modal=document.body.querySelector(".post--modal"),this.$markAsRead=this.modal.querySelector(".post--modal__read"),this.$markAsFavorite=this.modal.querySelector(".post--modal__favorite"),this.$offline=this.modal.querySelector(".post--modal__offline"),this.$cloak=document.querySelector(".cloak:last-child"),this.events=[{el:this.modal.querySelector(".post--modal__back"),event:"click",fn:this.destroy},{el:this.modal,event:"transitionend",fn:function(){e.opened||setTimeout(function(){Array.from(document.querySelectorAll(".post--modal")).forEach(function(t){return t.remove()})},50)}},{el:this.modal,event:"keypress",fn:function(t){"Escape"===t.key&&e.destroy()}},{el:this.$markAsRead,event:"click",fn:this.toggleMarkAsRead},{el:this.$markAsFavorite,event:"click",fn:this.toggleMarkAsFavorite},{el:this.$offline,event:"click",fn:this.toggleOfflineSave},{el:this.$cloak,event:"click",fn:this.destroy}];case 6:case"end":return t.stop()}},t,this)})),function(){return d.apply(this,arguments)})},{key:"toggleMarkAsRead",value:function(t){t.preventDefault(),this.post.isRead=!this.post.isRead,this.post.isRead?this.$markAsRead.classList.add("checked"):this.$markAsRead.classList.remove("checked"),this.post.update()}},{key:"toggleMarkAsFavorite",value:function(t){t.preventDefault(),this.post.isFavorite=!this.post.isFavorite,this.post.isFavorite?this.$markAsFavorite.classList.add("checked"):this.$markAsFavorite.classList.remove("checked"),this.post.update()}},{key:"toggleOfflineSave",value:function(t){var e=this;t.preventDefault(),window.db.saved.get(this.post._id).then(function(t){window.db.saved.remove(t).then(function(){e.$offline.classList.remove("checked")})}).catch(function(){window.db.saved.put(e.post.toObject()).then(function(){e.$offline.classList.add("checked")})})}},{key:"destroy",value:(l=cn(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.close();case 2:return t.next=4,this.removeListeners();case 4:return t.next=6,an.back();case 6:case"end":return t.stop()}},t,this)})),function(){return l.apply(this,arguments)})},{key:"inject",value:(f=cn(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:document.body.insertAdjacentHTML("beforeend",e);case 1:case"end":return t.stop()}},t,this)})),function(t){return f.apply(this,arguments)})},{key:"open",value:(c=cn(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.opened=!0,document.body.classList.add("modal-opened"),setTimeout(function(){e.modal.classList.add("active")},20),r.opened=this,an.go("".concat(this.post.title," - ").concat(window.app.name),"#/post/".concat(this.post.slug()));case 5:case"end":return t.stop()}},t,this)})),function(){return c.apply(this,arguments)})},{key:"close",value:(s=cn(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.opened=!1,document.querySelector(".cloak:last-child").remove(),document.body.classList.remove("modal-opened"),this.modal.classList.remove("active"),this.modal.classList.add("closing");case 5:case"end":return t.stop()}},t,this)})),function(){return s.apply(this,arguments)})},{key:"removeListeners",value:(u=cn(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.events.forEach(function(t){t.el.removeEventListener(t.event,t.fn.bind(e))});case 1:case"end":return t.stop()}},t,this)})),function(){return u.apply(this,arguments)})},{key:"addListeners",value:(a=cn(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.events.forEach(function(t){t.el.addEventListener(t.event,t.fn.bind(e),!1)});case 1:case"end":return t.stop()}},t,this)})),function(){return a.apply(this,arguments)})},{key:"render",value:(i=cn(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.post.isSaved();case 2:return e=t.sent,t.abrupt("return",'\n\t\t\t<article class="post--modal" style="'.concat(this.from,'">\n\t\t\t\t<div class="post--modal__toolbar">\n\t\t\t\t\t<button title="Go back" class="btn post--modal__back"><i class="fas fa-arrow-left"></i></button>\n\t\t\t\t\t<div class="align-right d-flex">\n\t\t\t\t\t\t<button title="Mark as read" class="btn post--modal__read ').concat(this.post.isRead?"checked":"",'"><i class="fas fa-check-circle"></i></button>\n\t\t\t\t\t\t<button title="Mark as favorite" class="btn post--modal__favorite ').concat(this.post.isFavorite?"checked":"",'"><i class="fas fa-heart"></i></button>\n\t\t\t\t\t\t<button title="Save to read offline" class="btn post--modal__offline ').concat(e?"checked":"",'"><i class="fas fa-hdd"></i></button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t').concat(this.post.image?'<img class="post__img" src="'.concat(this.post.image,'" alt="Article featured image">'):"",'\n\t\t\t\t<div class="post--modal__container ').concat(this.post.image?"":"no-image",'">\n\t\t\t\t\t<h2 class="post__title">').concat(this.post.title,'</h2>\n\t\t\t\t\t<div class="post__content">').concat(this.post.content,' - <a href="').concat(this.post.link,'" target="_blank" rel="noopener">Read More</a></div>\n\t\t\t\t\t<p class="post__source" class="notranslate" translate="no">\n\t\t\t\t\t\t').concat(this.post.source.render(),' - <a href="').concat(this.post.link,'" target="_blank">').concat(this.post.link,'</a>\n\t\t\t\t\t</p>\n\t\t\t\t\t<time datetime="').concat(this.post.timestamp,'">\n\t\t\t\t\t\t').concat(Object(un.distanceInWords)(new Date,new Date(this.post.timestamp),{addSuffix:!0}),'\n\t\t\t\t\t</time>\n\t\t\t\t</div>\n\t\t\t</article>\n\t\t\t<div class="cloak"></div>\n\t    '));case 4:case"end":return t.stop()}},t,this)})),function(){return i.apply(this,arguments)})},{key:"from",set:function(e){if(!["width","height","top","left"].every(function(t){return null!=e[t]}))throw new Error("position should be of type DOMRect");this._from={width:e.width,height:e.height,top:e.top,left:e.left}},get:function(){return"top: ".concat(this._from.top,"px; left: ").concat(this._from.left,"px; width: ").concat(this._from.width,"px; height: ").concat(this._from.height,"px")}}],n=[{key:"close",value:(o=cn(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.opened instanceof r)return t.next=3,r.opened.destroy();t.next=4;break;case 3:r.opened=null;case 4:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)})},{key:"from",value:function(t,e){var n=new r;return n.setFromPost(t),n.from=e,n}}],e&&fn(t.prototype,e),n&&fn(t,n),r}();function dn(t){return dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dn(t)}function hn(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function vn(u){return function(){var t=this,a=arguments;return new Promise(function(e,n){var r=u.apply(t,a);function o(t){hn(r,e,n,o,i,"next",t)}function i(t){hn(r,e,n,o,i,"throw",t)}o(void 0)})}}function pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yn(t,e){return!e||"object"!==dn(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function gn(t){return gn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gn(t)}function mn(t,e){return mn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},mn(t,e)}var bn=function(t){function u(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),t=yn(this,gn(u).call(this)),t._database="posts",t.title=e,t.isRead=!1,t.isFavorite=!1,t.attributes=["_id","title","image","timestamp","link","content","source","isRead","isFavorite"],t}var e,n,r,o,i,a,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mn(t,e)}(u,t),e=u,n=[{key:"isSaved",value:(s=vn(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.db.saved.get(this._id);case 3:return t.sent,t.abrupt("return",!0);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",!1);case 10:case"end":return t.stop()}},t,this,[[0,7]])})),function(){return s.apply(this,arguments)})},{key:"slug",value:function(){return this.title.split(" ").map(function(t){return t.toLowerCase()}).join("-").replace(new RegExp(/[^-\w]/,"g"),"")}},{key:"loadImage",value:function(){var r=this;return new Promise(function(t,e){var n=new Image;n.onload=function(){return t(n)},n.onerror=function(){return e(new Error("Failed to load image: ".concat(r.image)))},n.src=r.image})}},{key:"getImageSize",value:function(){return this.loadImage().then(function(t){return{w:t.naturalWidth,h:t.naturalHeight}})}},{key:"getPostSize",value:(a=vn(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getImageSize();case 3:return e=t.sent,n=+(e.w/e.h).toFixed(2),t.abrupt("return",n<1?"long":"");case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return","wide");case 11:case"end":return t.stop()}},t,this,[[0,8]])})),function(){return a.apply(this,arguments)})},{key:"render",value:(i=vn(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getPostSize();case 2:return e=t.sent,t.abrupt("return",'\n\t\t\t<article class="post '.concat(e,'" data-id="').concat(this._id,'">\n\t\t\t\t').concat(this.isRead?'<div class="post__isReadLabel">Read</div>':"","\n\t\t\t\t").concat("wide"!==e?'<img class="post__img" src="'.concat(this.image,'" alt="Article featured image">'):"",'\n\t\t\t\t<div class="post__content">\n\t\t\t\t\t<h2 class="post__title">\n\t\t\t\t\t\t<a href="/post/').concat(this.slug(),'">\n\t\t\t\t\t\t\t').concat(this.title,'\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</h2>\n\t\t\t\t\t<div class="post__info">\n\t\t\t\t\t\t<p class="post__source" class="notranslate" translate="no">').concat(this.source.render(),'</p>&mdash;\n\t\t\t\t\t\t<time class="post__timestamp" datetime="').concat(this.timestamp,'">\n\t\t\t\t\t\t\t').concat(Object(un.distanceInWords)(new Date,new Date(this.timestamp),{addSuffix:!0}),"\n\t\t\t\t\t\t</time>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</article>\n\t\t"));case 4:case"end":return t.stop()}},t,this)})),function(){return i.apply(this,arguments)})},{key:"isUnique",value:function(){return window.db[this._database].get(this._id()).then(function(t){return!!t})}},{key:"_id",get:function(){return this.link}},{key:"title",set:function(t){this._title=t},get:function(){return this._title}},{key:"content",set:function(t){this._content=t},get:function(){return this._content}},{key:"source",set:function(t){if(!(t instanceof Ne))throw new Error("Invalid source object given");this._source=t},get:function(){return this._source}},{key:"image",set:function(t){this._image=t},get:function(){return this._image}},{key:"isRead",set:function(t){if("boolean"!=typeof t)throw new Error("Only booleans are allowed for setting read status");this._read=t},get:function(){return this._read}},{key:"isFavorite",set:function(t){if("boolean"!=typeof t)throw new Error("Only booleans are allowed for setting favorite status");this._favorite=t},get:function(){return this._favorite}},{key:"link",set:function(t){this._link=t},get:function(){return this._link}},{key:"timestamp",set:function(t){this._timestamp=t},get:function(){return this._timestamp}}],r=[{key:"getParent",value:function(t){for(var e=t.parentElement;!e.classList.contains("post");)e=e.parentElement;return e}},{key:"fromObject",value:function(t){var e=new u;e.title=t.title,e.content=t.content,e.image=t.image,e.link=t.link,e.timestamp=t.timestamp;var n=new Ne(t.source._url);return n.title=t.source._title,e.source=n,e.isFavorite=!!t.isFavorite&&t.isFavorite,e.isRead=!!t.isRead&&t.isRead,e}},{key:"sortByDate",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return n?new Date(t.timestamp)-new Date(e.timestamp):new Date(e.timestamp)-new Date(t.timestamp)}},{key:"all",value:function(){return window.db.posts.allDocs({include_docs:!0}).then(function(t){var e=t.rows.filter(function(t){return t.doc.title}).map(function(t){return u.fromObject(t.doc)});return e=e.sort(u.sortByDate),e}).catch(function(t){throw new Error(t)})}},{key:"loadPost",value:function(t){t.preventDefault();var n=u.getParent(t.target),e=n.dataset.id;window.db.postById(e).then(function(t){t=u.fromObject(t);var e=n.getBoundingClientRect();ln.from(t,e).init()})}},{key:"openPost",value:function(t){window.db.postBySlug(t).then(function(t){t=u.fromObject(t),ln.from(t,{width:0,height:0,top:0,left:0}).init()})}},{key:"render",value:(o=vn(regeneratorRuntime.mark(function t(e){var n,r,o,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=document.querySelector(".posts"),e.length){t.next=4;break}return n.innerText="Hi! Please add a source of news if you want to see them :)",t.abrupt("return");case 4:return r=new RegExp(/\r\n|\n|\r|\t|\\/,"gm"),o=e.map(function(t){return t.render()}),t.next=8,Promise.all(o);case 8:i=t.sent,n.innerHTML=i.join("").trim().replace(r,""),a=document.querySelectorAll(".post__title"),a.forEach(function(t){return t.addEventListener("click",u.loadPost,!1)});case 12:case"end":return t.stop()}},t,this)})),function(t){return o.apply(this,arguments)})},{key:"attributes",get:function(){return{title:"string",image:"string",timestamp:"string",link:"string",content:"string",source:Ne}}}],n&&pn(e.prototype,n),r&&pn(e,r),u}(Ae),wn=function(n,r){var o;return function(){var t=this,e=arguments;clearTimeout(o),o=setTimeout(function(){return n.apply(t,e)},r)}},_n=function(t){var e=new RegExp("-","g");return t.substr(0,1).toUpperCase()+t.substr(1).replace(e," ")};function kn(t){return kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kn(t)}function xn(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Sn(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function On(u){return function(){var t=this,a=arguments;return new Promise(function(e,n){var r=u.apply(t,a);function o(t){Sn(r,e,n,o,i,"next",t)}function i(t){Sn(r,e,n,o,i,"throw",t)}o(void 0)})}}function En(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jn(t,e){return!e||"object"!==kn(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function Mn(t){return Mn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Mn(t)}function An(t,e){return An=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},An(t,e)}var Pn=function(t){function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),e=jn(this,Mn(r).call(this)),e.name=t,e.sources=[],e.attributes=["_id","name","sources"],e._database="categories",e}var e,n,o,i,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&An(t,e)}(r,t),e=r,n=[{key:"slug",value:function(){return this.name.split(" ").map(function(t){return t.toLowerCase()}).join("-")}},{key:"removeSource",value:function(t){if(t.url){var e=this.sources.findIndex(function(t){return t.url==t.url});this.sources.splice(e,1),this.update()}}},{key:"addSource",value:function(t){this.sources.push(t),this.update()}},{key:"render",value:function(){var t='<li>\n\t\t\t<a class="category__link" href="#/category/'.concat(this.slug(),'">').concat(this.name,"</a>\n\t\t\t<ul>\n\t\t\t\t").concat(this.sources.map(function(t){return"<li>"+Ne.fromObject(t).render()+"</li>"}).join(""),"\n\t\t\t</ul>\n\t\t</li>");return t}},{key:"isUnique",value:function(){return window.db[this._database].get(this._id,function(t,e){return!!e})}},{key:"_id",get:function(){return this.name}},{key:"name",set:function(t){this._name=t},get:function(){return this._name}},{key:"sources",set:function(t){this._sources=t},get:function(){return this._sources}}],o=[{key:"fromObject",value:function(t){if(t.name&&t.sources){var e=new r(t.name);return e.sources=t.sources,e}}},{key:"loadCategory",value:function(t){t.preventDefault();var e=t.target.textContent;r.openCategory(e),en.get().close(),an.go("".concat(e," - ").concat(window.app.name),t.target.href)}},{key:"openCategoryBySlug",value:function(t){r.openCategory(_n(t))}},{key:"renderCategoryPosts",value:(a=On(regeneratorRuntime.mark(function t(e){var n,r,o,i,a,u,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=[],r=!0,o=!1,i=void 0,t.prev=4,a=e[Symbol.iterator]();case 6:if(r=(u=a.next()).done){t.next=18;break}return s=u.value,t.t0=xn(n),t.t1=xn,t.next=12,window.db.postsBySource(s);case 12:t.t2=t.sent,t.t3=(0,t.t1)(t.t2),n=t.t0.concat.call(t.t0,t.t3);case 15:r=!0,t.next=6;break;case 18:t.next=24;break;case 20:t.prev=20,t.t4=t.catch(4),o=!0,i=t.t4;case 24:t.prev=24,t.prev=25,r||null==a.return||a.return();case 27:if(t.prev=27,o)throw i;t.next=30;break;case 30:return t.finish(27);case 31:return t.finish(24);case 32:n=n.sort(bn.sortByDate),bn.render(n);case 34:case"end":return t.stop()}},t,this,[[4,20,24,32],[25,,27,31]])})),function(t){return a.apply(this,arguments)})},{key:"openCategory",value:(i=On(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.db.category(e);case 2:return n=t.sent,t.next=5,this.renderCategoryPosts(n.sources);case 5:document.querySelector(".current-section").textContent="Category: ".concat(e),window.app.state="category",window.app.category=r.fromObject(n);case 8:case"end":return t.stop()}},t,this)})),function(t){return i.apply(this,arguments)})},{key:"addListeners",value:function(){var t=document.querySelectorAll(".category__link");t.forEach(function(t){t.addEventListener("click",r.loadCategory,!1)})}},{key:"render",value:function(t){var e=document.querySelector(".categories");if(t.length){var n=[];t.forEach(function(t){return n.push(t.render())}),e.innerHTML="<ul>".concat(n.join(""),"</ul>"),r.addListeners()}else e.innerHTML='<div class="emptiness">No categories yet :)</div>'}},{key:"all",value:function(){return window.db.categories.allDocs({include_docs:!0}).then(function(t){var e=t.rows.filter(function(t){return t.doc.name}).map(function(t){return r.fromObject(t.doc)}).sort(function(t,e){return t.name-e.name});return e}).catch(function(t){throw new Error(t)})}},{key:"attributes",get:function(){return{_id:"string",name:"string",sources:"array"}}}],n&&En(e.prototype,n),o&&En(e,o),r}(Ae);function Tn(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function Dn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var In=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r,u,o;return e=t,n=null,r=[{key:"init",value:(u=regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Te.toggle(),an.go("Saved posts - ".concat(window.app.name),"#/saved"),t.prev=2,t.next=5,window.db.saved.allDocs({include_docs:!0});case 5:e=t.sent,document.querySelector(".current-section").innerHTML='Saved posts for offline reading <i class="fa fa-hdd"></i> - '.concat(e.total_rows),window.app.state="source",e=e.rows.filter(function(t){return t.doc.title}).map(function(t){return bn.fromObject(t.doc)}),e=e.sort(bn.sortByDate),bn.render(e).then(function(){Te.toggle()}),t.next=16;break;case 13:throw t.prev=13,t.t0=t.catch(2),new Error(t.t0);case 16:case"end":return t.stop()}},t,this,[[2,13]])}),o=function(){var t=this,a=arguments;return new Promise(function(e,n){var r=u.apply(t,a);function o(t){Tn(r,e,n,o,i,"next",t)}function i(t){Tn(r,e,n,o,i,"throw",t)}o(void 0)})},function(){return o.apply(this,arguments)})}],n&&Dn(e.prototype,n),r&&Dn(e,r),t}();function Ln(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function Cn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var qn,Rn,Fn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r,u,o;return e=t,n=null,r=[{key:"init",value:(u=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Te.toggle(),an.go("Favorited posts - ".concat(window.app.name),"#/favorites"),window.db.favorites().then(function(t){document.querySelector(".current-section").innerHTML='Favorites <i class="fa fa-star"></i> - '.concat(t.length),window.app.state="favorites",t=t.sort(bn.sortByDate),bn.render(t).then(Te.toggle()).catch(function(t){throw new Error(t)})}).catch(function(t){throw new Error(t)});case 3:case"end":return t.stop()}},t,this)}),o=function(){var t=this,a=arguments;return new Promise(function(e,n){var r=u.apply(t,a);function o(t){Ln(r,e,n,o,i,"next",t)}function i(t){Ln(r,e,n,o,i,"throw",t)}o(void 0)})},function(){return o.apply(this,arguments)})}],n&&Cn(e.prototype,n),r&&Cn(e,r),t}(),$n=[{url:"^$",handler:Qe.init},{url:"^/post/([a-z-]+)$",handler:bn.openPost},{url:"^/category/([a-z-]+)$",handler:Pn.openCategoryBySlug},{url:"^/source/(.+)$",handler:Ne.openSource},{url:"^/favorites",handler:Fn.init},{url:"^/saved",handler:In.init},{url:"^/example$",handler:function(){console.log("example")}}],Nn=n(65),Bn=n(18),zn=n.n(Bn);function Yn(t){return"$"+t}function Un(){this._store={}}function Wn(t){if(this._store=new Un,t&&Array.isArray(t))for(var e=0,n=t.length;e<n;e++)this.add(t[e])}Un.prototype.get=function(t){var e=Yn(t);return this._store[e]},Un.prototype.set=function(t,e){var n=Yn(t);return this._store[n]=e,!0},Un.prototype.has=function(t){var e=Yn(t);return e in this._store},Un.prototype.delete=function(t){var e=Yn(t),n=e in this._store;return delete this._store[e],n},Un.prototype.forEach=function(t){for(var e,n=Object.keys(this._store),r=0,o=n.length;r<o;r++){var i=n[r],a=this._store[i];e=i,i=e.substring(1),t(a,i)}},Object.defineProperty(Un.prototype,"size",{get:function(){return Object.keys(this._store).length}}),Wn.prototype.add=function(t){return this._store.set(t,!0)},Wn.prototype.has=function(t){return this._store.has(t)},Wn.prototype.forEach=function(n){this._store.forEach(function(t,e){n(e)})},Object.defineProperty(Wn.prototype,"size",{get:function(){return this._store.size}}),Rn=function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var t=Object.getOwnPropertyDescriptor(Map,Symbol.species);return t&&"get"in t&&Map[Symbol.species]===Map}()?(qn=Set,Map):(qn=Wn,Un);var Hn=n(14),Gn=n.n(Hn),Jn=n(11),Vn=n(10),Kn=n.n(Vn);function Xn(t,e,n){Error.call(this,n),this.status=t,this.name=e,this.message=n,this.error=!0}Kn()(Xn,Error),Xn.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new Xn(401,"unauthorized","Name or password is incorrect."),new Xn(400,"bad_request","Missing JSON list of 'docs'"),new Xn(404,"not_found","missing"),new Xn(409,"conflict","Document update conflict"),new Xn(400,"bad_request","_id field must contain a string"),new Xn(412,"missing_id","_id is required for puts"),new Xn(400,"bad_request","Only reserved document ids may start with underscore."),new Xn(412,"precondition_failed","Database not open");var Qn=new Xn(500,"unknown_error","Database encountered an unknown error");new Xn(500,"badarg","Some query argument is invalid"),new Xn(400,"invalid_request","Request was invalid"),new Xn(400,"query_parse_error","Some query parameter is invalid"),new Xn(500,"doc_validation","Bad special document member"),new Xn(400,"bad_request","Something wrong with the request"),new Xn(400,"bad_request","Document must be a JSON object"),new Xn(404,"not_found","Database not found"),new Xn(500,"indexed_db_went_bad","unknown"),new Xn(500,"web_sql_went_bad","unknown"),new Xn(500,"levelDB_went_went_bad","unknown"),new Xn(403,"forbidden","Forbidden by design doc validate_doc_update function"),new Xn(400,"bad_request","Invalid rev format"),new Xn(412,"file_exists","The database could not be created, the file already exists."),new Xn(412,"missing_stub","A pre-existing attachment stub wasn't found"),new Xn(413,"invalid_url","Provided URL is invalid");function Zn(t){if("object"!=typeof t){var e=t;t=Qn,t.data=e}return"error"in t&&"conflict"===t.error&&(t.name="conflict",t.status=409),"name"in t||(t.name=t.error||"unknown"),"status"in t||(t.status=500),"message"in t||(t.message=t.message||t.reason),t}var tr=n(124),er=n.n(tr),nr=n(55);function rr(t){if(t instanceof ArrayBuffer)return function(t){if("function"==typeof t.slice)return t.slice(0);var e=new ArrayBuffer(t.byteLength),n=new Uint8Array(e),r=new Uint8Array(t);return n.set(r),e}(t);var e=t.size,n=t.type;return"function"==typeof t.slice?t.slice(0,e,n):t.webkitSlice(0,e,n)}var or=Function.prototype.toString,ir=or.call(Object);function ar(t){var e,n,r,o;if(!t||"object"!=typeof t)return t;if(Array.isArray(t)){for(e=[],n=0,r=t.length;n<r;n++)e[n]=ar(t[n]);return e}if(t instanceof Date)return t.toISOString();if(o=t,"undefined"!=typeof ArrayBuffer&&o instanceof ArrayBuffer||"undefined"!=typeof Blob&&o instanceof Blob)return rr(t);if(!function(t){var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=e.constructor;return"function"==typeof n&&n instanceof n&&or.call(n)==ir}(t))return t;for(n in e={},t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=ar(t[n]);void 0!==i&&(e[n]=i)}return e}function ur(s){return zn()(function(a){a=ar(a);var u=this,e="function"==typeof a[a.length-1]&&a.pop(),t=new Promise(function(n,r){var t,e,o;try{var i=(e=function(t,e){t?r(t):n(e)},o=!1,zn()(function(t){if(o)throw new Error("once called more than once");o=!0,e.apply(this,t)}));a.push(i),t=s.apply(u,a),t&&"function"==typeof t.then&&n(t)}catch(t){r(t)}});return e&&t.then(function(t){e(null,t)},e),t})}function sr(t,e){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];i in t&&(n[i]=t[i])}return n}var cr,fr;try{localStorage.setItem("_pouch_check_localstorage",1),cr=!!localStorage.getItem("_pouch_check_localstorage")}catch(t){cr=!1}function lr(){return cr}function dr(){var e;Jn.EventEmitter.call(this),this._listeners={},e=this,lr()&&addEventListener("storage",function(t){e.emit(t.key)})}function hr(t){if("undefined"!=typeof console&&"function"==typeof console[t]){var e=Array.prototype.slice.call(arguments,1);console[t].apply(console,e)}}Kn()(dr,Jn.EventEmitter),dr.prototype.addListener=function(t,e,n,r){if(!this._listeners[e]){var o=this,i=!1;this._listeners[e]=a,this.on(t,a)}function a(){if(o._listeners[e])if(i)i="waiting";else{i=!0;var t=sr(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(t).on("change",function(t){t.seq>r.since&&!r.cancelled&&(r.since=t.seq,r.onChange(t))}).on("complete",function(){"waiting"===i&&Gn()(a),i=!1}).on("error",function(){i=!1})}}},dr.prototype.removeListener=function(t,e){e in this._listeners&&(Jn.EventEmitter.prototype.removeListener.call(this,t,this._listeners[e]),delete this._listeners[e])},dr.prototype.notifyLocalWindows=function(t){lr()&&(localStorage[t]="a"===localStorage[t]?"b":"a")},dr.prototype.notify=function(t){this.emit(t),this.notifyLocalWindows(t)},fr="function"==typeof Object.assign?Object.assign:function(t){for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};var vr=fr;function pr(t){for(var e=[],n=0,r=t.length;n<r;n++)e=e.concat(t[n]);return e}var yr=function(){}.name;function gr(t){return"boolean"==typeof t._remote?t._remote:"function"==typeof t.type&&(hr("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===t.type())}function mr(c,f,l){return new Promise(function(u,s){c.get(f,function(t,e){if(t){if(404!==t.status)return s(t);e={}}var n,r,o,i=e._rev,a=l(e);if(!a)return u({updated:!1,rev:i});a._id=f,a._rev=i,u((n=c,r=a,o=l,n.put(r).then(function(t){return{updated:!0,rev:t.rev}},function(t){if(409!==t.status)throw t;return mr(n,r._id,o)})))})})}er.a.v4,"undefined"!=typeof AbortController&&AbortController,fetch;var br=Headers;var wr=-324,_r=3,kr="";function xr(t,e){if(t===e)return 0;t=Sr(t),e=Sr(e);var n,r,o=Ar(t),i=Ar(e);if(o-i!=0)return o-i;switch(typeof t){case"number":return t-e;case"boolean":return t<e?-1:1;case"string":return n=t,r=e,n===r?0:r<n?1:-1}return Array.isArray(t)?function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var o=xr(t[r],e[r]);if(0!==o)return o}return t.length===e.length?0:t.length>e.length?1:-1}(t,e):function(t,e){for(var n=Object.keys(t),r=Object.keys(e),o=Math.min(n.length,r.length),i=0;i<o;i++){var a=xr(n[i],r[i]);if(0!==a)return a;if(a=xr(t[n[i]],e[r[i]]),0!==a)return a}return n.length===r.length?0:n.length>r.length?1:-1}(t,e)}function Sr(t){switch(typeof t){case"undefined":return null;case"number":return t===1/0||t===-1/0||isNaN(t)?null:t;case"object":var e=t;if(Array.isArray(t)){var n=t.length;t=new Array(n);for(var r=0;r<n;r++)t[r]=Sr(e[r])}else{if(t instanceof Date)return t.toJSON();if(null!==t)for(var o in t={},e)if(e.hasOwnProperty(o)){var i=e[o];void 0!==i&&(t[o]=Sr(i))}}}return t}function Or(t){if(null!==t)switch(typeof t){case"boolean":return t?1:0;case"number":return function(t){if(0===t)return"1";var e=t.toExponential().split(/e\+?/),n=parseInt(e[1],10),r=t<0,o=r?"0":"2",i=(r?-n:n)-wr,a=(u=i.toString(),s="0",c=_r,f=function(t,e,n){for(var r="",o=n-t.length;r.length<o;)r+=e;return r}(u,s,c),f+u);var u,s,c,f;o+=kr+a;var l=Math.abs(parseFloat(e[0]));r&&(l=10-l);var d=l.toFixed(20);return d=d.replace(/\.?0+$/,""),o+=kr+d,o}(t);case"string":return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var e=Array.isArray(t),n=e?t:Object.keys(t),r=-1,o=n.length,i="";if(e)for(;++r<o;)i+=Er(n[r]);else for(;++r<o;){var a=n[r];i+=Er(a)+Er(t[a])}return i}return""}function Er(t){return t=Sr(t),Ar(t)+kr+Or(t)+"\0"}function jr(t,e){var n,r=e,o="1"===t[e];if(o)n=0,e++;else{var i="0"===t[e];e++;var a="",u=t.substring(e,e+_r),s=parseInt(u,10)+wr;for(i&&(s=-s),e+=_r;;){var c=t[e];if("\0"===c)break;a+=c,e++}a=a.split("."),n=1===a.length?parseInt(a,10):parseFloat(a[0]+"."+a[1]),i&&(n-=10),0!==s&&(n=parseFloat(n+"e"+s))}return{num:n,length:e-r}}function Mr(t,e){var n=t.pop();if(e.length){var r=e[e.length-1];n===r.element&&(e.pop(),r=e[e.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(n);else if(i===t.length-2){var a=t.pop();o[a]=n}else t.push(n)}}function Ar(t){var e=["boolean","number","string","object"].indexOf(typeof t);return~e?null===t?1:Array.isArray(t)?5:e<3?e+2:e+3:Array.isArray(t)?5:void 0}function Pr(t,e){for(var n=t,r=0,o=e.length;r<o;r++){var i=e[r];if(n=n[i],!n)break}return n}function Tr(t,e,n){for(var r=0,o=e.length;r<o-1;r++){var i=e[r];t=t[i]={}}t[e[o-1]]=n}function Dr(t,e){return t<e?-1:e<t?1:0}function Ir(t){for(var e=[],n="",r=0,o=t.length;r<o;r++){var i=t[r];"."===i?n=0<r&&"\\"===t[r-1]?n.substring(0,n.length-1)+".":(e.push(n),""):n+=i}return e.push(n),e}var Lr=["$or","$nor","$not"];function Cr(t){return-1<Lr.indexOf(t)}function qr(t){return Object.keys(t)[0]}function Rr(t){return t[qr(t)]}function Fr(t){var n={};return t.forEach(function(e){Object.keys(e).forEach(function(t){var a=e[t];if("object"!=typeof a&&(a={$eq:a}),Cr(t))a instanceof Array?n[t]=a.map(function(t){return Fr([t])}):n[t]=Fr([a]);else{var u=n[t]=n[t]||{};Object.keys(a).forEach(function(t){var e,n,r,o,i=a[t];return"$gt"===t||"$gte"===t?function(t,e,n){if(void 0!==n.$eq)return;void 0!==n.$gte?"$gte"===t?e>n.$gte&&(n.$gte=e):e>=n.$gte&&(delete n.$gte,n.$gt=e):void 0!==n.$gt?"$gte"===t?e>n.$gt&&(delete n.$gt,n.$gte=e):e>n.$gt&&(n.$gt=e):n[t]=e}(t,i,u):"$lt"===t||"$lte"===t?function(t,e,n){if(void 0!==n.$eq)return;void 0!==n.$lte?"$lte"===t?e<n.$lte&&(n.$lte=e):e<=n.$lte&&(delete n.$lte,n.$lt=e):void 0!==n.$lt?"$lte"===t?e<n.$lt&&(delete n.$lt,n.$lte=e):e<n.$lt&&(n.$lt=e):n[t]=e}(t,i,u):"$ne"===t?(r=i,o=u,void("$ne"in o?o.$ne.push(r):o.$ne=[r])):"$eq"===t?(e=i,n=u,delete n.$gt,delete n.$gte,delete n.$lt,delete n.$lte,delete n.$ne,void(n.$eq=e)):void(u[t]=i)})}})}),n}function $r(t){var e=ar(t),n=!1;"$and"in e&&(e=Fr(e.$and),n=!0),["$or","$nor"].forEach(function(t){t in e&&e[t].forEach(function(t){for(var e=Object.keys(t),n=0;n<e.length;n++){var r=e[n],o=t[r];"object"==typeof o&&null!==o||(t[r]={$eq:o})}})}),"$not"in e&&(e.$not=Fr([e.$not]));for(var r=Object.keys(e),o=0;o<r.length;o++){var i=r[o],a=e[i];"object"!=typeof a||null===a?a={$eq:a}:"$ne"in a&&!n&&(a.$ne=[a.$ne]),e[i]=a}return e}function Nr(t,e,n){if(t=t.filter(function(t){return Br(t.doc,e.selector,n)}),e.sort){var r=function(t){function i(o){return t.map(function(t){var e=qr(t),n=Ir(e),r=Pr(o,n);return r})}return function(t,e){var n=i(t.doc),r=i(e.doc),o=xr(n,r);return 0!==o?o:Dr(t.doc._id,e.doc._id)}}(e.sort);t=t.sort(r),"string"!=typeof e.sort[0]&&"desc"===Rr(e.sort[0])&&(t=t.reverse())}if("limit"in e||"skip"in e){var o=e.skip||0,i=("limit"in e?e.limit:t.length)+o;t=t.slice(o,i)}return t}function Br(u,s,t){return t.every(function(t){var e,n,r,o=s[t],i=Ir(t),a=Pr(u,i);return Cr(t)?(e=t,n=o,r=u,"$or"!==e?"$not"!==e?!n.find(function(t){return Br(r,t,Object.keys(t))}):!Br(r,n,Object.keys(n)):n.some(function(t){return Br(r,t,Object.keys(t))})):zr(o,u,i,a)})}function zr(n,r,o,i){return!n||Object.keys(n).every(function(t){var e=n[t];return function(t,e,n,r,o){if(Hr[t])return Hr[t](e,n,r,o);throw new Error('unknown operator "'+t+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all')}(t,r,e,o,i)})}function Yr(t){return null!=t}function Ur(t){return void 0!==t}function Wr(e,t){return t.some(function(t){return e instanceof Array?-1<e.indexOf(t):e===t})}var Hr={$elemMatch:function(e,n,r,t){return!!Array.isArray(t)&&(0!==t.length&&("object"==typeof t[0]?t.some(function(t){return Br(t,n,Object.keys(n))}):t.some(function(t){return zr(n,e,r,t)})))},$allMatch:function(e,n,r,t){return!!Array.isArray(t)&&(0!==t.length&&("object"==typeof t[0]?t.every(function(t){return Br(t,n,Object.keys(n))}):t.every(function(t){return zr(n,e,r,t)})))},$eq:function(t,e,n,r){return Ur(r)&&0===xr(r,e)},$gte:function(t,e,n,r){return Ur(r)&&0<=xr(r,e)},$gt:function(t,e,n,r){return Ur(r)&&0<xr(r,e)},$lte:function(t,e,n,r){return Ur(r)&&xr(r,e)<=0},$lt:function(t,e,n,r){return Ur(r)&&xr(r,e)<0},$exists:function(t,e,n,r){return e?Ur(r):!Ur(r)},$mod:function(t,e,n,r){return Yr(r)&&function(t,e){var n=e[0],r=e[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(t,10)===t&&t%n===r}(r,e)},$ne:function(t,e,n,r){return e.every(function(t){return 0!==xr(r,t)})},$in:function(t,e,n,r){return Yr(r)&&Wr(r,e)},$nin:function(t,e,n,r){return Yr(r)&&!Wr(r,e)},$size:function(t,e,n,r){return Yr(r)&&(o=r,i=e,o.length===i);var o,i},$all:function(t,e,n,r){return Array.isArray(r)&&(o=r,i=e,i.every(function(t){return-1<o.indexOf(t)}));var o,i},$regex:function(t,e,n,r){return Yr(r)&&(o=r,i=e,a=new RegExp(i),a.test(o));var o,i,a},$type:function(t,e,n,r){return function(t,e){switch(e){case"null":return null===t;case"boolean":return"boolean"==typeof t;case"number":return"number"==typeof t;case"string":return"string"==typeof t;case"array":return t instanceof Array;case"object":return"[object Object]"==={}.toString.call(t)}throw new Error(e+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(r,e)}};var Gr=n(64);function Jr(t){this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Jr)}catch(t){}}function Vr(t){this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Vr)}catch(t){}}function Kr(t){this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Kr)}catch(t){}}function Xr(t,e){return e&&t.then(function(t){Gn()(function(){e(null,t)})},function(t){Gn()(function(){e(t)})}),t}function Qr(n,r){return function(){var t=arguments,e=this;return n.add(function(){return r.apply(e,t)})}}function Zr(t){var e=new qn(t),n=new Array(e.size),r=-1;return e.forEach(function(t){n[++r]=t}),n}function to(t){var n=new Array(t.size),r=-1;return t.forEach(function(t,e){n[++r]=e}),n}function eo(){this.promise=new Promise(function(t){t()})}function no(t){if(!t)return"undefined";switch(typeof t){case"function":case"string":return t.toString();default:return JSON.stringify(t)}}function ro(o,i,a,u,e,n){var t,r,s,c=(t=a,r=u,no(t)+no(r)+"undefined");if(!e&&(s=o._cachedViews=o._cachedViews||{},s[c]))return s[c];var f=o.info().then(function(t){var r=t.db_name+"-mrview-"+(e?"temp":Object(nr.a)(c));return mr(o,"_local/"+n,function(t){t.views=t.views||{};var e=i;-1===e.indexOf("/")&&(e=i+"/"+i);var n=t.views[e]=t.views[e]||{};if(!n[r])return n[r]=!0,t}).then(function(){return o.registerDependentDatabase(r).then(function(t){var e=t.db;e.auto_compaction=!0;var n={name:r,db:e,sourceDB:o,adapter:o.adapter,mapFun:a,reduceFun:u};return n.db.get("_local/lastSeq").catch(function(t){if(404!==t.status)throw t}).then(function(t){return n.seq=t?t.seq:0,s&&n.db.once("destroyed",function(){delete s[c]}),n})})})});return s&&(s[c]=f),f}Kn()(Jr,Error),Kn()(Vr,Error),Kn()(Kr,Error),eo.prototype.add=function(t){return this.promise=this.promise.catch(function(){}).then(function(){return t()}),this.promise},eo.prototype.finish=function(){return this.promise};var oo={},io=new eo;function ao(t){return-1===t.indexOf("/")?[t,t]:t.split("/")}function uo(t,e){try{t.emit("error",e)}catch(t){hr("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),hr("error",e)}}var so=function(f,e,p,l){function d(e,t,n){try{t(n)}catch(t){uo(e,t)}}function y(e,t,n,r,o){try{return{output:t(n,r,o)}}catch(t){return uo(e,t),{error:t}}}function h(t,e){var n=xr(t.key,e.key);return 0!==n?n:xr(t.value,e.value)}function g(t){var e=t.value,n=e&&"object"==typeof e&&e._id||t.id;return n}function v(n){return function(t){var e;return n.include_docs&&n.attachments&&n.binary&&(e=t,e.rows.forEach(function(t){var n=t.doc&&t.doc._attachments;n&&Object.keys(n).forEach(function(t){var e=n[t];n[t].data=Object(Gr.a)(e.data,e.content_type)})})),t}}function m(t,e,n,r){var o=e[t];void 0!==o&&(r&&(o=encodeURIComponent(JSON.stringify(o))),n.push(t+"="+o))}function a(t){if(void 0!==t){var e=Number(t);return isNaN(e)||e!==parseInt(t,10)?t:e}}function b(n,t){var e=n.descending?"endkey":"startkey",r=n.descending?"startkey":"endkey";if(void 0!==n[e]&&void 0!==n[r]&&0<xr(n[e],n[r]))throw new Jr("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==n.reduce){if(n.include_docs)throw new Jr("{include_docs:true} is invalid for reduce");if(n.keys&&1<n.keys.length&&!n.group&&!n.group_level)throw new Jr("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var e=function(t){if(t){if("number"!=typeof t)return new Jr('Invalid value for integer: "'+t+'"');if(t<0)return new Jr('Invalid value for positive integer: "'+t+'"')}}(n[t]);if(e)throw e})}function w(e){return function(t){if(404===t.status)return e;throw t}}function _(t,n,e){var r,o="_local/doc_"+t,i={_id:o,keys:[]},a=e.get(t),f=a[0],u=a[1];return(r=u,1===r.length&&/^1-/.test(r[0].rev)?Promise.resolve(i):n.db.get(o).catch(w(i))).then(function(e){return(t=e,t.keys.length?n.db.allDocs({keys:t.keys,include_docs:!0}):Promise.resolve({rows:[]})).then(function(t){return function(t,e){for(var r=[],o=new qn,n=0,i=e.rows.length;n<i;n++){var a=e.rows[n],u=a.doc;if(u&&(r.push(u),o.add(u._id),u._deleted=!f.has(u._id),!u._deleted)){var s=f.get(u._id);"value"in s&&(u.value=s.value)}}var c=to(f);return c.forEach(function(t){if(!o.has(t)){var e={_id:t},n=f.get(t);"value"in n&&(e.value=n.value),r.push(e)}}),t.keys=Zr(c.concat(t.keys)),r.push(t),r}(e,t)});var t})}function o(t){var e="string"==typeof t?t:t.name,n=oo[e];return n||(n=oo[e]=new eo),n}function k(t){return Qr(o(t),function(){return function(a){var u,s,c=e(a.mapFun,function(t,e){var n={id:s._id,key:Sr(t)};null!=e&&(n.value=Sr(e)),u.push(n)}),f=a.seq||0;function r(n,i){return function(){return r=a,e=n,o=i,t="_local/lastSeq",r.db.get(t).catch(w({_id:t,seq:0})).then(function(n){var t=to(e);return Promise.all(t.map(function(t){return _(t,r,e)})).then(function(t){var e=pr(t);return n.seq=o,e.push(n),r.db.bulkDocs({docs:e})})});var r,e,o,t}}var o=new eo;function i(){return a.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:f,limit:50}).then(t)}function t(t){var e=t.results;if(e.length){var n=function(t){for(var e=new Rn,n=0,r=t.length;n<r;n++){var o=t[n];if("_"!==o.doc._id[0]){u=[],s=o.doc,s._deleted||d(a.sourceDB,c,s),u.sort(h);var i=l(u);e.set(o.doc._id,[i,o.changes])}f=o.seq}return e}(e);if(o.add(r(n,f)),!(e.length<50))return i()}}function l(t){for(var e,n=new Rn,r=0,o=t.length;r<o;r++){var i=t[r],a=[i.key,i.id];0<r&&0===xr(i.key,e)&&a.push(r),n.set(Er(a),i),e=i.key}return n}return i().then(function(){return o.finish()}).then(function(){a.seq=f})}(t)})()}function x(t,e){return Qr(o(t),function(){return function(r,o){var i,a=r.reduceFun&&!1!==o.reduce,u=o.skip||0;function n(t){return t.include_docs=!0,r.db.allDocs(t).then(function(t){return i=t.total_rows,t.rows.map(function(t){if("value"in t.doc&&"object"==typeof t.doc.value&&null!==t.doc.value){var e=Object.keys(t.doc.value).sort(),n=["id","key","value"];if(!(e<n||n<e))return t.doc.value}var r=function(t){for(var e=[],n=[],r=0;;){var o=t[r++];if("\0"!==o)switch(o){case"1":e.push(null);break;case"2":e.push("1"===t[r]),r++;break;case"3":var i=jr(t,r);e.push(i.num),r+=i.length;break;case"4":for(var a="";;){var u=t[r];if("\0"===u)break;a+=u,r++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),e.push(a);break;case"5":var s={element:[],index:e.length};e.push(s.element),n.push(s);break;case"6":var c={element:{},index:e.length};e.push(c.element),n.push(c);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===e.length)return e.pop();Mr(e,n)}}}(t.doc._id);return{key:r[0],id:r[1],value:"value"in t.doc?t.doc.value:null}})})}function t(e){var n;if(n=a?function(t,e,n){0===n.group_level&&delete n.group_level;var r,o,i,a=n.group||n.group_level,u=p(t.reduceFun),s=[],c=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;e.forEach(function(t){var e=s[s.length-1],n=a?t.key:null;if(a&&Array.isArray(n)&&(n=n.slice(0,c)),e&&0===xr(e.groupKey,n))return e.keys.push([t.key,t.id]),void e.values.push(t.value);s.push({keys:[[t.key,t.id]],values:[t.value],groupKey:n})}),e=[];for(var f=0,l=s.length;f<l;f++){var d=s[f],h=y(t.sourceDB,u,d.keys,d.values,!1);if(h.error&&h.error instanceof Kr)throw h.error;e.push({value:h.error?null:h.output,key:d.groupKey})}return{rows:(r=e,o=n.limit,i=n.skip,i=i||0,"number"==typeof o?r.slice(i,o+i):0<i?r.slice(i):r)}}(r,e,o):{total_rows:i,offset:u,rows:e},o.update_seq&&(n.update_seq=r.seq),o.include_docs){var t=Zr(e.map(g));return r.sourceDB.allDocs({keys:t,include_docs:!0,conflicts:o.conflicts,attachments:o.attachments,binary:o.binary}).then(function(t){var r=new Rn;return t.rows.forEach(function(t){r.set(t.id,t.doc)}),e.forEach(function(t){var e=g(t),n=r.get(e);n&&(t.doc=n)}),n})}return n}if(void 0===o.keys||o.keys.length||(o.limit=0,delete o.keys),void 0!==o.keys){var e=o.keys,s=e.map(function(t){var e={startkey:Er([t]),endkey:Er([t,{}])};return o.update_seq&&(e.update_seq=!0),n(e)});return Promise.all(s).then(pr).then(t)}var c,f,l={descending:o.descending};if(o.update_seq&&(l.update_seq=!0),"start_key"in o&&(c=o.start_key),"startkey"in o&&(c=o.startkey),"end_key"in o&&(f=o.end_key),"endkey"in o&&(f=o.endkey),void 0!==c&&(l.startkey=o.descending?Er([c,{}]):Er([c])),void 0!==f){var d=!1!==o.inclusive_end;o.descending&&(d=!d),l.endkey=Er(d?[f,{}]:[f])}if(void 0!==o.key){var h=Er([o.key]),v=Er([o.key,{}]);l.descending?(l.endkey=h,l.startkey=v):(l.startkey=h,l.endkey=v)}return a||("number"==typeof o.limit&&(l.limit=o.limit),l.skip=u),n(l).then(t)}(t,e)})()}function u(r,e,o){if("function"==typeof r._query)return t=r,i=e,a=o,new Promise(function(n,r){t._query(i,a,function(t,e){if(t)return r(t);n(e)})});var t,i,a;if(gr(r))return function(t,e,n){var r,o,i,a=[],u="GET";if(m("reduce",n,a),m("include_docs",n,a),m("attachments",n,a),m("limit",n,a),m("descending",n,a),m("group",n,a),m("group_level",n,a),m("skip",n,a),m("stale",n,a),m("conflicts",n,a),m("startkey",n,a,!0),m("start_key",n,a,!0),m("endkey",n,a,!0),m("end_key",n,a,!0),m("inclusive_end",n,a),m("key",n,a,!0),m("update_seq",n,a),a=a.join("&"),a=""===a?"":"?"+a,void 0!==n.keys){var s="keys="+encodeURIComponent(JSON.stringify(n.keys));s.length+a.length+1<=2e3?a+=("?"===a[0]?"&":"?")+s:(u="POST","string"==typeof e?r={keys:n.keys}:e.keys=n.keys)}if("string"!=typeof e)return r=r||{},Object.keys(e).forEach(function(t){Array.isArray(e[t])?r[t]=e[t]:r[t]=e[t].toString()}),t.fetch("_temp_view"+a,{headers:new br({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(r)}).then(function(t){return o=t.ok,i=t.status,t.json()}).then(function(t){if(!o)throw t.status=i,Zn(t);return t}).then(v(n));var c=ao(e);return t.fetch("_design/"+c[0]+"/_view/"+c[1]+a,{headers:new br({"Content-Type":"application/json"}),method:u,body:JSON.stringify(r)}).then(function(t){return o=t.ok,i=t.status,t.json()}).then(function(t){if(!o)throw t.status=i,Zn(t);return t.rows.forEach(function(t){if(t.value&&t.value.error&&"builtin_reduce_error"===t.value.error)throw new Error(t.reason)}),t}).then(v(n))}(r,e,o);if("string"!=typeof e)return b(o,e),io.add(function(){var t=ro(r,"temp_view/temp_view",e.map,e.reduce,!0,f);return t.then(function(t){return e=k(t).then(function(){return x(t,o)}),n=function(){return t.db.destroy()},e.then(function(t){return n().then(function(){return t})},function(t){return n().then(function(){throw t})});var e,n})}),io.finish();var u=e,n=ao(u),s=n[0],c=n[1];return r.get("_design/"+s).then(function(t){var e=t.views&&t.views[c];if(!e)throw new Vr("ddoc "+t._id+" has no view named "+c);l(t,c),b(o,e);var n=ro(r,u,e.map,e.reduce,!1,f);return n.then(function(t){return"ok"===o.stale||"update_after"===o.stale?("update_after"===o.stale&&Gn()(function(){k(t)}),x(t,o)):k(t).then(function(){return x(t,o)})})})}var r,t=(r=function(){var t,e,r;return"function"==typeof this._viewCleanup?(t=this,new Promise(function(n,r){t._viewCleanup(function(t,e){if(t)return r(t);n(e)})})):gr(this)?(e=this,e.fetch("_view_cleanup",{headers:new br({"Content-Type":"application/json"}),method:"POST"}).then(function(t){return t.json()})):(r=this,r.get("_local/"+f).then(function(u){var s=new Rn;Object.keys(u.views).forEach(function(t){var e=ao(t),n="_design/"+e[0],r=e[1],o=s.get(n);o||(o=new qn,s.set(n,o)),o.add(r)});var t={keys:to(s),include_docs:!0};return r.allDocs(t).then(function(t){var a={};t.rows.forEach(function(o){var i=o.key.substring(8);s.get(o.key).forEach(function(t){var e=i+"/"+t;u.views[e]||(e=t);var n=Object.keys(u.views[e]),r=o.doc&&o.doc.views&&o.doc.views[t];n.forEach(function(t){a[t]=a[t]||r})})});var e=Object.keys(a).filter(function(t){return!a[t]}),n=e.map(function(t){return Qr(o(t),function(){return new r.constructor(t,r.__opts).destroy()})()});return Promise.all(n).then(function(){return{ok:!0}})})},w({ok:!0})))},zn()(function(t){var e=t.pop(),n=r.apply(this,t);return"function"==typeof e&&Xr(n,e),n}));return{query:function(t,e,n){var r,o=this;"function"==typeof e&&(n=e,e={}),e=e?(r=e,r.group_level=a(r.group_level),r.limit=a(r.limit),r.skip=a(r.skip),r):{},"function"==typeof t&&(t={map:t});var i=Promise.resolve().then(function(){return u(o,t,e)});return Xr(i,n),i},viewCleanup:t}};function co(e){return e=ar(e),e.index||(e.index={}),["type","name","ddoc"].forEach(function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])}),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}function fo(t,e,n,r){var o,i;n.headers=new br({"Content-type":"application/json"}),t.fetch(e,n).then(function(t){return o=t.status,i=t.ok,t.json()}).then(function(t){if(i)r(null,t);else{t.status=o;var e=Zn(t);r(e)}}).catch(r)}function lo(t,e,n){e=co(e),fo(t,"_index",{method:"POST",body:JSON.stringify(e)},n)}function ho(t,e,n){fo(t,"_find",{method:"POST",body:JSON.stringify(e)},n)}function vo(t,e,n){fo(t,"_explain",{method:"POST",body:JSON.stringify(e)},n)}function po(t,e){fo(t,"_index",{method:"GET"},e)}function yo(t,e,n){var r=e.ddoc,o=e.type||"json",i=e.name;if(!r)return n(new Error("you must provide an index's ddoc"));if(!i)return n(new Error("you must provide an index's name"));var a="_index/"+[r,o,i].map(encodeURIComponent).join("/");fo(t,a,{method:"DELETE"},n)}function go(r){return function(){for(var t=arguments.length,e=new Array(t),n=-1;++n<t;)e[n]=arguments[n];return r.call(this,e)}}function mo(i){return go(function(t){var e,n,r=t.pop(),o=i.apply(this,t);return e=o,n=r,e.then(function(t){Gn()(function(){n(null,t)})},function(t){Gn()(function(){n(t)})}),o})}var bo=go(function(t){for(var e=[],n=0,r=t.length;n<r;n++){var o=t[n];Array.isArray(o)?e=e.concat(bo.apply(null,o)):e.push(o)}return e});function wo(t){for(var e={},n=0,r=t.length;n<r;n++)e=vr(e,t[n]);return e}function _o(t,e){for(var n=0,r=Math.min(t.length,e.length);n<r;n++)if(t[n]!==e[n])return!1;return!0}function ko(t,e){if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function xo(t,e){var c,f,n,i,a,o,u,r,s,l=function(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];if(-1!==r.indexOf("."))return!1}return!0}(t),d=1===t.length;return l?d?(r=t[0],s=e,function(t){s(t[r])}):(o=t,u=e,function(t){for(var e=[],n=0,r=o.length;n<r;n++)e.push(t[o[n]]);u(e)}):d?(n=t[0],i=e,a=Ir(n),function(t){for(var e=t,n=0,r=a.length;n<r;n++){var o=a[n];if(e=e[o],void 0===e)return}i(e)}):(c=t,f=e,function(t){for(var e=[],n=0,r=c.length;n<r;n++){for(var o=Ir(c[n]),i=t,a=0,u=o.length;a<u;a++){var s=o[a];if(i=i[s],void 0===i)return}e.push(i)}f(e)})}var So=so("indexes",function(t,e){var n=Object.keys(t.fields);return xo(n,e)},function(){throw new Error("reduce not supported")},function(t,e){var n=t.views[e];if(!n.map||!n.map.fields)throw new Error("ddoc "+t._id+" with view "+e+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")});function Oo(t){return t.fields=t.fields.map(function(t){if("string"!=typeof t)return t;var e={};return e[t]="asc",e}),t}function Eo(t,e){for(var n=[],r=0;r<e.def.fields.length;r++){var o=qr(e.def.fields[r]);n.push(t[o])}return n}function jo(t){return t.allDocs({startkey:"_design/",endkey:"_design/￿",include_docs:!0}).then(function(t){var e={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return e.indexes=bo(e.indexes,t.rows.filter(function(t){return"query"===t.doc.language}).map(function(n){var t=void 0!==n.doc.views?Object.keys(n.doc.views):[];return t.map(function(t){var e=n.doc.views[t];return{ddoc:n.id,name:t,type:"json",def:Oo(e.options.def)}})})),e.indexes.sort(function(t,e){return Dr(t.name,e.name)}),e.total_rows=e.indexes.length,e})}var Mo=null,Ao={"￿":{}};function Po(t,e){for(var n=t.def.fields.map(qr),r=0,o=n.length;r<o;r++){var i=n[r];if(e===i)return!0}return!1}function To(t,e){var o=e.def.fields.map(qr);return t.slice().sort(function(t,e){var n=o.indexOf(t),r=o.indexOf(e);return-1===n&&(n=Number.MAX_VALUE),-1===r&&(r=Number.MAX_VALUE),Dr(n,r)})}function Do(t,e,n,r){var o,i,a=bo(t,function(t,e,n){n=To(n,t);for(var r,o,i,a,u=!1,s=0,c=n.length;s<c;s++){var f=n[s];if(u||!Po(t,f))return n.slice(s);s<c-1&&(r=e,o=f,i=r[o],a=qr(i),"$eq"!==a)&&(u=!0)}return[]}(e,n,r),(o=n,i=[],Object.keys(o).forEach(function(e){var t=o[e];Object.keys(t).forEach(function(t){"$ne"===t&&i.push(e)})}),i));return To(function(t){for(var e={},n=0;n<t.length;n++)e["$"+t[n]]=!0;return Object.keys(e).map(function(t){return t.substring(1)})}(a),e)}function Io(t,e,n){if(e){var r=(i=e,a=t,!(i.length>a.length)&&_o(i,a)),o=_o(n,t);return r&&o}var i,a;return function(t,e){t=t.slice();for(var n=0,r=e.length;n<r;n++){var o=e[n];if(!t.length)break;var i=t.indexOf(o);if(-1===i)return!1;t.splice(i,1)}return!0}(n,t)}var Lo=["$eq","$gt","$gte","$lt","$lte"];function Co(t){return-1===Lo.indexOf(t)}function qo(t,e,n,r){var o=t.def.fields.map(qr),i=Io(o,e,n);return!!i&&function(t,e){var n=t[0],r=e[n];if(void 0===r)return!0;var o=Object.keys(r).some(function(t){return!Co(t)});if(!o)return!1;var i=1===Object.keys(r).length&&"$ne"===qr(r);return!i}(o,r)}function Ro(t,e,n,r,o){var i,a,u,s,c=(i=t,a=e,u=n,s=r,s.reduce(function(t,e){var n=qo(e,u,a,i);return n&&t.push(e),t},[]));if(0===c.length){if(o)throw{error:"no_usable_index",message:"There is no index available for this selector."};var f=r[0];return f.defaultUsed=!0,f}if(1===c.length&&!o)return c[0];var l=function(t){for(var e={},n=0,r=t.length;n<r;n++)e[t[n]]=!0;return e}(e);if(o){var d="_design/"+o[0],h=2===o.length&&o[1],v=c.find(function(t){return!(!h||t.ddoc!==d||h!==t.name)||t.ddoc===d});if(!v)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return v}return function(t,e){for(var n=null,r=-1,o=0,i=t.length;o<i;o++){var a=t[o],u=e(a);r<u&&(r=u,n=a)}return n}(c,function(t){for(var e=t.def.fields.map(qr),n=0,r=0,o=e.length;r<o;r++){var i=e[r];l[i]&&n++}return n})}function Fo(t,e){switch(t){case"$eq":return{startkey:e,endkey:e};case"$lte":return{endkey:e};case"$gte":return{startkey:e};case"$lt":return{endkey:e,inclusive_end:!1};case"$gt":return{startkey:e,inclusive_start:!1}}}function $o(t,e){return e.defaultUsed?(n=t,{queryOpts:{startkey:null},inMemoryFields:[Object.keys(n)]}):1===e.def.fields.length?(r=t,o=e,a=qr(o.def.fields[0]),u=r[a]||{},s=[],c=Object.keys(u),c.forEach(function(t){if(Co(t))s.push(a);else{var e=u[t],n=function(t,e){switch(t){case"$eq":return{key:e};case"$lte":return{endkey:e};case"$gte":return{startkey:e};case"$lt":return{endkey:e,inclusive_end:!1};case"$gt":return{startkey:e,inclusive_start:!1}}}(t,e);i=i?wo([i,n]):n}}),{queryOpts:i,inMemoryFields:s}):function(t,e){var n,r,o=e.def.fields.map(qr),i=[],a=[],u=[];function s(t){!1!==n&&a.push(Mo),!1!==r&&u.push(Ao),i=o.slice(t)}for(var c=0,f=o.length;c<f;c++){var l=o[c],d=t[l];if(!d||!Object.keys(d).length){s(c);break}if(0<c){if(Object.keys(d).some(Co)){s(c);break}var h="$gt"in d||"$gte"in d||"$lt"in d||"$lte"in d,v=Object.keys(t[o[c-1]]),p=ko(v,["$eq"]),y=ko(v,Object.keys(d)),g=h&&!p&&!y;if(g){s(c);break}}for(var m=Object.keys(d),b=null,w=0;w<m.length;w++){var _=m[w],k=d[_],x=Fo(_,k);b=b?wo([b,x]):x}a.push("startkey"in b?b.startkey:Mo),u.push("endkey"in b?b.endkey:Ao),"inclusive_start"in b&&(n=b.inclusive_start),"inclusive_end"in b&&(r=b.inclusive_end)}var S={startkey:a,endkey:u};return void 0!==n&&(S.inclusive_start=n),void 0!==r&&(S.inclusive_end=r),{queryOpts:S,inMemoryFields:i}}(t,e);var n,r,o,i,a,u,s,c}function No(t,e){var n,r,o,i,a,u=t.selector,s=t.sort,c=(n=u,r=s,i=Object.keys(n),a=r?r.map(qr):[],o=i.length>=a.length?i:a,0===a.length?{fields:o}:(o=o.sort(function(t,e){var n=a.indexOf(t);-1===n&&(n=Number.MAX_VALUE);var r=a.indexOf(e);return-1===r&&(r=Number.MAX_VALUE),n<r?-1:r<n?1:0}),{fields:o,sortOrder:r.map(qr)})),f=c.fields,l=c.sortOrder,d=Ro(u,f,l,e,t.use_index),h=$o(u,d),v=h.queryOpts,p=h.inMemoryFields,y=Do(p,d,u,f),g={queryOpts:v,index:d,inMemoryFields:y};return g}function Bo(u,s,c){var t,e;return s.selector&&(s.selector=$r(s.selector)),s.sort&&(s.sort=function(t){if(!Array.isArray(t))throw new Error("invalid sort json - should be an array");return t.map(function(t){if("string"!=typeof t)return t;var e={};return e[t]="asc",e})}(s.sort)),s.use_index&&(s.use_index=(t=s.use_index,e=[],"string"==typeof t?e.push(t):e=t,e.map(function(t){return t.replace("_design/","")}))),function(t){if("object"!=typeof t.selector)throw new Error("you must provide a selector when you find()")}(s),jo(u).then(function(t){u.constructor.emit("debug",["find","planning query",s]);var n=No(s,t.indexes);u.constructor.emit("debug",["find","query plan",n]);var i=n.index;!function(t,e){if(e.defaultUsed&&t.sort){var n=t.sort.filter(function(t){return"_id"!==Object.keys(t)[0]}).map(function(t){return Object.keys(t)[0]});if(0<n.length)throw new Error('Cannot sort on field(s) "'+n.join(",")+'" when using the default index')}e.defaultUsed}(s,i);var a=vr({include_docs:!0,reduce:!1},n.queryOpts);if("startkey"in a&&"endkey"in a&&0<xr(a.startkey,a.endkey))return{docs:[]};var e,r,o=s.sort&&"string"!=typeof s.sort[0]&&"desc"===Rr(s.sort[0]);return o&&(a.descending=!0,e=a,r=ar(e),delete r.startkey,delete r.endkey,delete r.inclusive_start,delete r.inclusive_end,"endkey"in e&&(r.startkey=e.endkey),"startkey"in e&&(r.endkey=e.startkey),"inclusive_start"in e&&(r.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(r.inclusive_start=e.inclusive_end),a=r),n.inMemoryFields.length||("limit"in s&&(a.limit=s.limit),"skip"in s&&(a.skip=s.skip)),c?Promise.resolve(n,a):Promise.resolve().then(function(){if("_all_docs"===i.name)return e=u,n=a,r=ar(n),r.descending?("endkey"in r&&"string"!=typeof r.endkey&&(r.endkey=""),"startkey"in r&&"string"!=typeof r.startkey&&(r.limit=0)):("startkey"in r&&"string"!=typeof r.startkey&&(r.startkey=""),"endkey"in r&&"string"!=typeof r.endkey&&(r.limit=0)),"key"in r&&"string"!=typeof r.key&&(r.limit=0),e.allDocs(r).then(function(t){return t.rows=t.rows.filter(function(t){return!/^_design\//.test(t.id)}),t});var t,e,n,r,o=(t=i,t.ddoc.substring(8)+"/"+t.name);return So.query.call(u,o,a)}).then(function(t){!1===a.inclusive_start&&(t.rows=function(t,e,n){for(var r=n.def.fields,o=0,i=t.length;o<i;o++){var a=t[o],u=Eo(a.doc,n);if(1===r.length)u=u[0];else for(;u.length>e.length;)u.pop();if(0<Math.abs(xr(u,e)))break}return 0<o?t.slice(o):t}(t.rows,a.startkey,i)),n.inMemoryFields.length&&(t.rows=Nr(t.rows,s,n.inMemoryFields));var e={docs:t.rows.map(function(t){var e=t.doc;return s.fields?function(t,e){for(var n={},r=0,o=e.length;r<o;r++){var i=Ir(e[r]),a=Pr(t,i);void 0!==a&&Tr(n,i,a)}return n}(e,s.fields):e})};return i.defaultUsed&&(e.warning="no matching index found, create an index to optimize query time"),e})})}var zo=mo(function(e,n){n=co(n);var t,r=ar(n.index);function o(){return t||(t=Object(nr.a)(JSON.stringify(n)))}n.index=Oo(n.index),function(t){var e=t.fields.filter(function(t){return"asc"===Rr(t)});if(0!==e.length&&e.length!==t.fields.length)throw new Error("unsupported mixed sorting")}(n.index);var i=n.name||"idx-"+o(),a=n.ddoc||"idx-"+o(),u="_design/"+a,s=!1,c=!1;return e.constructor.emit("debug",["find","creating index",u]),mr(e,u,function(t){return t._rev&&"query"!==t.language&&(s=!0),t.language="query",t.views=t.views||{},c=!!t.views[i],!c&&(t.views[i]={map:{fields:wo(n.index.fields)},reduce:"_count",options:{def:r}},t)}).then(function(){if(s)throw new Error('invalid language for ddoc with id "'+u+'" (should be "query")')}).then(function(){var t=a+"/"+i;return So.query.call(e,t,{limit:0,reduce:!1}).then(function(){return{id:u,name:i,result:c?"exists":"created"}})})}),Yo=mo(Bo),Uo=mo(function(e,n){return Bo(e,n,!0).then(function(t){return{dbname:e.name,index:t.index,selector:n.selector,range:{start_key:t.queryOpts.startkey,end_key:t.queryOpts.endkey},opts:{use_index:n.use_index||[],bookmark:"nil",limit:n.limit,skip:n.skip,sort:n.sort||{},fields:n.fields,conflicts:!1,r:[49]},limit:n.limit,skip:n.skip||0,fields:n.fields}})}),Wo=mo(jo),Ho=mo(function(t,e){if(!e.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!e.name)throw new Error("you must supply an index.name when deleting");var n=e.ddoc,r=e.name;return mr(t,n,function(t){return 1===Object.keys(t.views).length&&t.views[r]?{_id:n,_deleted:!0}:(delete t.views[r],t)}).then(function(){return So.viewCleanup.apply(t)}).then(function(){return{ok:!0}})}),Go={};Go.createIndex=ur(function(t,e){if("object"!=typeof t)return e(new Error("you must provide an index to create"));var n=gr(this)?lo:zo;n(this,t,e)}),Go.find=ur(function(t,e){if(void 0===e&&(e=t,t=void 0),"object"!=typeof t)return e(new Error("you must provide search parameters to find()"));var n=gr(this)?ho:Yo;n(this,t,e)}),Go.explain=ur(function(t,e){if(void 0===e&&(e=t,t=void 0),"object"!=typeof t)return e(new Error("you must provide search parameters to explain()"));var n=gr(this)?vo:Uo;n(this,t,e)}),Go.getIndexes=ur(function(t){var e=gr(this)?po:Wo;e(this,t)}),Go.deleteIndex=ur(function(t,e){if("object"!=typeof t)return e(new Error("you must provide an index to delete"));var n=gr(this)?yo:Ho;n(this,t,e)});var Jo=Go;function Vo(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function Ko(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Xo=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.driver=Nn.a;Nn.a.plugin(Jo),["posts","categories","sources","saved"].forEach(function(t){e[t]=new Nn.a(t)}),this.posts.createIndex({index:{fields:["title","timestamp","source","link"]}}),this.sources.createIndex({index:{fields:["title","url"]}})}var e,n,r,u,o;return e=t,n=[{key:"validateDb",value:function(t){if(!(t instanceof this.driver))throw new Error("Database has to be an instance of ".concat(this.driver))}},{key:"category",value:function(t){return this.categories.get(t)}},{key:"categoryBySlug",value:function(e){return this.categories.find(function(t){return t.slug()===e})}},{key:"post",value:function(t){return this.posts.find({selector:{title:t}}).then(function(t){return t.docs[0]})}},{key:"searchPosts",value:function(t){var e=new RegExp(".*".concat(t,".*"),"i");return this.posts.find({selector:{title:{$regex:e}}}).then(function(t){var e=t.docs.map(bn.fromObject);return e}).catch(function(t){throw new Error(t)})}},{key:"source",value:function(t){return t=_n(t),this.sources.find({selector:{$or:[{title:{$regex:new RegExp(t,"gi")}},{url:{$regex:new RegExp(t,"gi")}}]}}).then(function(t){return t.docs[0]})}},{key:"postById",value:function(t){return this.posts.get(t).then(function(t){return t}).catch(function(t){throw new Error(t)})}},{key:"postBySlug",value:function(t){var e=_n(t);return this.posts.find({selector:{title:{$regex:new RegExp(e,"gi")}}}).then(function(t){return t.docs[0]})}},{key:"favorites",value:function(){return this.posts.find({selector:{isFavorite:!0}}).then(function(t){return t.docs.map(bn.fromObject)}).catch(function(t){throw new Error(t)})}},{key:"deleteBySource",value:function(l){return new Promise(function(c,f){return window.db.posts.allDocs({include_docs:!0}).then(function(t){var e=[],n=!0,r=!1,o=void 0;try{for(var i,a=t.rows[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s=u.doc;s.source&&s.source._url===l&&e.push(window.db.posts.remove(s))}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}Promise.all(e).then(c).catch(f)})})}},{key:"postsBySource",value:function(t){return this.posts.find({selector:{"source._url":t.url}}).then(function(t){return t.docs.map(bn.fromObject)}).catch(function(t){throw new Error(t)})}},{key:"db",set:function(t){if(!(t instanceof Nn.a))throw new Error("Db has to be an instance of PouchDB");this._db=t},get:function(){return this._db}},{key:"posts",set:function(t){this.validateDb(t),this._posts=t},get:function(){return this._posts}},{key:"saved",set:function(t){this.validateDb(t),this._saved=t},get:function(){return this._saved}},{key:"sources",set:function(t){this.validateDb(t),this._sources=t},get:function(){return this._sources}},{key:"categories",set:function(t){this.validateDb(t),this._categories=t},get:function(){return this._categories}}],r=[{key:"save",value:(u=regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.db[n].bulkDocs(e);case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0);case 9:case"end":return t.stop()}},t,this,[[0,6]])}),o=function(){var t=this,a=arguments;return new Promise(function(e,n){var r=u.apply(t,a);function o(t){Vo(r,e,n,o,i,"next",t)}function i(t){Vo(r,e,n,o,i,"throw",t)}o(void 0)})},function(t,e){return o.apply(this,arguments)})}],n&&Ko(e.prototype,n),r&&Ko(e,r),t}();function Qo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Zo=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.$search=document.querySelector(".search"),this.$search__input=this.$search.querySelector(".search__input"),this.events=[{el:this.$search,event:"click",handler:this.onClick},{el:this.$search__input,event:"blur",handler:this.onBlur},{el:this.$search__input,event:"keyup",handler:wn(this.onKeyUp,200)}]}var t,n,r;return t=e,n=[{key:"onClick",value:function(){this.$search.classList.add("active"),this.$search__input.focus()}},{key:"onBlur",value:function(){this.$search__input.value.length||(this.$search.classList.remove("active"),this.$search__input.value="")}},{key:"onKeyUp",value:function(t){var e=t.target.value;Te.toggle(),0<e.length?window.db.searchPosts(e).then(function(t){bn.render(t).then(Te.toggle())}):bn.all().then(function(t){bn.render(t).then(Te.toggle())})}},{key:"listen",value:function(){var e=this;this.events.forEach(function(t){return t.el.addEventListener(t.event,t.handler.bind(e),!1)})}}],r=[{key:"listen",value:function(){var t=new e;return t.listen(),t}}],n&&Qo(t.prototype,n),r&&Qo(t,r),e}();function ti(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ei=function(){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.cloak=document.querySelector(".cloak"),this.content=t}var t,e,r;return t=n,e=[{key:"addlisteners",value:function(){this.$ok=document.querySelector(".modal__btn.js-ok"),this.$cancel=document.querySelector(".modal__btn.js-cancel"),this.$cancel.addEventListener("click",this.close),this.$ok.addEventListener("click",this.proceed.bind(this)),this.cloak.addEventListener("click",this.close)}},{key:"proceed",value:function(){}},{key:"wrapper",value:function(t){return'<div id="modal">'.concat(t,"</div>")}},{key:"open",value:function(){if(!n.instance){this.cloak.classList.toggle("open");var t=this.wrapper(this.content);document.body.insertAdjacentHTML("beforeend",t);var e=document.getElementById("modal");setTimeout(function(){e.classList.add("open")},10),n.instance=this,this.addlisteners()}}},{key:"close",value:function(){var t=document.getElementById("modal");t.classList.remove("open"),setTimeout(function(){n.instance.cloak.classList.toggle("open"),t.remove(),n.instance=null},270)}}],r=[{key:"instance",set:function(t){this._instance=t},get:function(){return this._instance}}],e&&ti(t.prototype,e),r&&ti(t,r),n}();function ni(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function ri(u){return function(){var t=this,a=arguments;return new Promise(function(e,n){var r=u.apply(t,a);function o(t){ni(r,e,n,o,i,"next",t)}function i(t){ni(r,e,n,o,i,"throw",t)}o(void 0)})}}function oi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ii=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r,o,i;return e=t,n=null,r=[{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=ri(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch(e).then(function(t){return t.text()}));case 1:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}())},{key:"isXML",value:function(t){return"<?xml"===t.substr(0,5)}},{key:"containsFeedUrl",value:(i=ri(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=(new DOMParser).parseFromString(e,"text/html"),r=n.head.querySelector('link[rel="alternate"]'),t.abrupt("return",r?Promise.resolve(r.href):Promise.reject());case 3:case"end":return t.stop()}},t,this)})),function(t){return i.apply(this,arguments)})},{key:"mergeURLS",value:function(t,e){return e.includes(t)?e:t.replace(/\/$/,"")+"/"+e.replace(/^\//,"")}},{key:"validate",value:(o=ri(regeneratorRuntime.mark(function t(n){var r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.fetch(xe.proxy+n).then(function(t){return r.isXML(t)?t:r.containsFeedUrl(t).then(function(t){t=new URL(t);var e=r.mergeURLS(n,t.pathname);return r.fetch(xe.proxy+e).then(function(t){if(r.isXML(t))return{url:e,data:t};Promise.reject("The feed type is not compatible.")}).catch(function(){throw new Error("Couldn't fetch the feed")})}).catch(function(){throw new Error("The feed type is not compatible.")})}).catch(function(){throw new Error("Could't fetch the feed.")}));case 1:case"end":return t.stop()}},t,this)})),function(t){return o.apply(this,arguments)})}],n&&oi(e.prototype,n),r&&oi(e,r),t}();function ai(t){return ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ai(t)}function ui(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function si(u){return function(){var t=this,a=arguments;return new Promise(function(e,n){var r=u.apply(t,a);function o(t){ui(r,e,n,o,i,"next",t)}function i(t){ui(r,e,n,o,i,"throw",t)}o(void 0)})}}function ci(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fi(t,e){return!e||"object"!==ai(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function li(t,e,n){return li="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=di(t),null!==t););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},li(t,e,n||t)}function di(t){return di=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},di(t)}function hi(t,e){return hi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},hi(t,e)}var vi=function(t){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),fi(this,di(n).apply(this,arguments))}var e,r,o,i,a,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hi(t,e)}(n,t),e=n,r=[{key:"proceed",value:(u=si(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.db.category(window.app.category.name);case 2:e=t.sent,e=Pn.fromObject(e),Pn.renderCategoryPosts(e.sources),this.close();case 6:case"end":return t.stop()}},t,this)})),function(){return u.apply(this,arguments)})},{key:"addSourceToCategory",value:(a=si(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,window.db.sources.get(e.target.dataset.id);case 3:return n=t.sent,t.next=6,window.db.category(window.app.category.name);case 6:r=t.sent,r=Pn.fromObject(r),e.target.checked?r.addSource(n):r.removeSource(n);case 9:case"end":return t.stop()}},t,this)})),function(t){return a.apply(this,arguments)})},{key:"open",value:function(){var e=this;li(di(n.prototype),"open",this).call(this);var t=document.querySelectorAll(".js-source-checkbox");t.forEach(function(t){t.addEventListener("input",e.addSourceToCategory)})}}],o=[{key:"open",value:(i=si(regeneratorRuntime.mark(function t(){var r,o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne.all();case 2:r=t.sent,window.db.category(window.app.category.name).then(function(t){t.sources.map(Ne.fromObject).forEach(function(e){var t=r.findIndex(function(t){return t.url===e.url});-1!==t&&(r[t].included=!0)});var e='\n                    <header><h2>Add sources to this category</h2></header>\n                    <div class="container">\n                        '.concat(r.map(function(t){return'\n                            <div class="d-flex">\n                                <label>\n                                    <input type="checkbox" class="js-source-checkbox" data-id="'.concat(t._id,'" ').concat(t.included?"checked":"",">\n                                    ").concat(t.title,"\n                                </label>\n                            </div>\n                        ")}).join(""),'\n                    </div>\n                    <div class="submit">\n                        <button class="js-ok modal__btn">Add</button>\n                        <button class="js-cancel modal__btn modal__btn--link">Cancel</button>\n                    </div>\n                '),n=new o(e);n.open()});case 4:case"end":return t.stop()}},t,this)})),function(){return i.apply(this,arguments)})},{key:"close",value:function(){ei.instance.close()}}],r&&ci(e.prototype,r),o&&ci(e,o),n}(ei);function pi(t){return pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pi(t)}function yi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gi(t,e){return!e||"object"!==pi(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function mi(t,e,n){return mi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=bi(t),null!==t););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},mi(t,e,n||t)}function bi(t){return bi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bi(t)}function wi(t,e){return wi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},wi(t,e)}var _i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),gi(this,bi(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wi(t,e)}(e,t),n=e,r=[{key:"getFeedInfo",value:function(o){return new Promise(function(t,e){try{var n=(new DOMParser).parseFromString(o,"text/xml"),r={title:n.querySelector("title").textContent,description:n.querySelector("description").textContent};t(r)}catch(t){e(t)}})}},{key:"proceed",value:function(){var t=new Ne(this.info.url);t.title=this.info.title,t.isUnique()&&t.save().then(function(){Qe.init()}).catch(function(){Qe.init()}),this.close()}},{key:"validate",value:function(){var r=this,o=document.getElementById("source-url"),i=document.querySelector(".feed-info");o.checkValidity()?(this.toggleLoader(),ii.validate(o.value).then(function(t){var n;"object"===pi(t)&&(n=t.url,t=t.data),r.getFeedInfo(t).then(function(t){r.info=Object.assign({},t,{url:n||o.value});var e="\n\t\t\t\t\t\t\t\t".concat("",'\n\t\t\t\t\t\t\t\t<div class="title">').concat(t.title,'</div>\n\t\t\t\t\t\t\t\t<div class="description">').concat(t.description,"</div>\n\t\t\t\t\t\t\t");i.innerHTML=e,i.classList.add("show"),r.toggleLoader(),r.$ok.removeAttribute("disabled")}).catch(function(t){throw r.toggleLoader(),new Error(t)})}).catch(function(t){throw r.toggleLoader(),new Error(t)})):console.error("Feed not valid")}},{key:"open",value:function(){mi(bi(e.prototype),"open",this).call(this);var t=document.getElementById("source-url");t.addEventListener("input",wn(this.validate.bind(this),600))}},{key:"toggleLoader",value:function(){var t=document.querySelector("#modal .loader");t.classList.toggle("show")}}],o=[{key:"listen",value:function(){var t=document.querySelector(".js-add-source");t.addEventListener("click",e.toggle)}},{key:"toggle",value:function(){ei.instance?ei.instance.close():e.open()}},{key:"open",value:function(){if("category"===window.app.state)vi.open();else{var t=new this('\n\t\t\t\t<header><h2>Add a source</h2></header>\n\t\t\t\t<div class="container">\n\t\t\t\t\t<div class="input-group">\n\t\t\t\t\t\t<label for="source-url">\n\t\t\t\t\t\t\tSource of news\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div class="flex">\n\t\t\t\t\t\t\t<input required id="source-url" type="url">\n\t\t\t\t\t\t\t<div class="loader"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="feed-info"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="submit">\n\t\t\t\t\t<button disabled class="js-ok modal__btn">Add</button>\n\t\t\t\t\t<button class="js-cancel modal__btn modal__btn--link">Cancel</button>\n\t\t\t\t</div>\n\t\t\t');t.open()}}},{key:"close",value:function(){ei.instance.close()}}],r&&yi(n.prototype,r),o&&yi(n,o),e}(ei);function ki(t){return ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ki(t)}function xi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Si(t,e){return!e||"object"!==ki(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function Oi(t){return Oi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Oi(t)}function Ei(t,e){return Ei=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ei(t,e)}var ji=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Si(this,Oi(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ei(t,e)}(e,t),n=e,r=[{key:"proceed",value:function(){var t=document.getElementById("category"),e=new Pn(t.value);e.isUnique()&&e.save().then(function(){Pn.all().then(function(t){Pn.render(t)})}),this.close()}}],o=[{key:"listen",value:function(){var t=document.querySelector(".js-add-category");t.addEventListener("click",e.toggle)}},{key:"toggle",value:function(){ei.instance?ei.instance.close():e.open()}},{key:"open",value:function(){var t=new this('\n            <header><h2>Add a category</h2></header>\n            <div class="container">\n                <div class="input-group">\n                    <label for="category">\n                        Category\n\t\t\t\t\t</label>\n\t\t\t\t\t<div class="flex">\n\t\t\t\t\t\t<input required id="category" type="text">\n\t\t\t\t\t</div>\n                </div>\n\t\t\t</div>\n            <div class="submit">\n                <button class="js-ok modal__btn">Add</button>\n                <button class="js-cancel modal__btn modal__btn--link">Cancel</button>\n            </div>\n        ');t.open()}},{key:"close",value:function(){ei.instance.close()}}],r&&xi(n.prototype,r),o&&xi(n,o),e}(ei);r.install(),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js",{scope:"./"}).then(function(){console.log("Sw installed")}).catch(function(t){console.error(t)}),window.db=new Xo,window.app=xe,Pn.all().then(function(t){Pn.render(t)}),en.listen(),Zo.listen(),_i.listen(),ji.listen(),an.listen($n),Le.listen()}]);